function Z1(e,t){for(var s=0;s<t.length;s++){const i=t[s];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(i,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();function Tv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nf={exports:{}},So={},Sf={exports:{}},et={};var Xg;function Y1(){if(Xg)return et;Xg=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function N(A){return A===null||typeof A!="object"?null:(A=b&&A[b]||A["@@iterator"],typeof A=="function"?A:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function S(A,H,_e){this.props=A,this.context=H,this.refs=w,this.updater=_e||C}S.prototype.isReactComponent={},S.prototype.setState=function(A,H){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,H,"setState")},S.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function k(){}k.prototype=S.prototype;function I(A,H,_e){this.props=A,this.context=H,this.refs=w,this.updater=_e||C}var L=I.prototype=new k;L.constructor=I,_(L,S.prototype),L.isPureReactComponent=!0;var P=Array.isArray,F=Object.prototype.hasOwnProperty,G={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function X(A,H,_e){var Ee,$e={},Be=null,ae=null;if(H!=null)for(Ee in H.ref!==void 0&&(ae=H.ref),H.key!==void 0&&(Be=""+H.key),H)F.call(H,Ee)&&!q.hasOwnProperty(Ee)&&($e[Ee]=H[Ee]);var de=arguments.length-2;if(de===1)$e.children=_e;else if(1<de){for(var Fe=Array(de),Se=0;Se<de;Se++)Fe[Se]=arguments[Se+2];$e.children=Fe}if(A&&A.defaultProps)for(Ee in de=A.defaultProps,de)$e[Ee]===void 0&&($e[Ee]=de[Ee]);return{$$typeof:e,type:A,key:Be,ref:ae,props:$e,_owner:G.current}}function se(A,H){return{$$typeof:e,type:A.type,key:H,ref:A.ref,props:A.props,_owner:A._owner}}function ce(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function ge(A){var H={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(_e){return H[_e]})}var oe=/\/+/g;function K(A,H){return typeof A=="object"&&A!==null&&A.key!=null?ge(""+A.key):H.toString(36)}function $(A,H,_e,Ee,$e){var Be=typeof A;(Be==="undefined"||Be==="boolean")&&(A=null);var ae=!1;if(A===null)ae=!0;else switch(Be){case"string":case"number":ae=!0;break;case"object":switch(A.$$typeof){case e:case t:ae=!0}}if(ae)return ae=A,$e=$e(ae),A=Ee===""?"."+K(ae,0):Ee,P($e)?(_e="",A!=null&&(_e=A.replace(oe,"$&/")+"/"),$($e,H,_e,"",function(Se){return Se})):$e!=null&&(ce($e)&&($e=se($e,_e+(!$e.key||ae&&ae.key===$e.key?"":(""+$e.key).replace(oe,"$&/")+"/")+A)),H.push($e)),1;if(ae=0,Ee=Ee===""?".":Ee+":",P(A))for(var de=0;de<A.length;de++){Be=A[de];var Fe=Ee+K(Be,de);ae+=$(Be,H,_e,Fe,$e)}else if(Fe=N(A),typeof Fe=="function")for(A=Fe.call(A),de=0;!(Be=A.next()).done;)Be=Be.value,Fe=Ee+K(Be,de++),ae+=$(Be,H,_e,Fe,$e);else if(Be==="object")throw H=String(A),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return ae}function fe(A,H,_e){if(A==null)return A;var Ee=[],$e=0;return $(A,Ee,"","",function(Be){return H.call(_e,Be,$e++)}),Ee}function B(A){if(A._status===-1){var H=A._result;H=H(),H.then(function(_e){(A._status===0||A._status===-1)&&(A._status=1,A._result=_e)},function(_e){(A._status===0||A._status===-1)&&(A._status=2,A._result=_e)}),A._status===-1&&(A._status=0,A._result=H)}if(A._status===1)return A._result.default;throw A._result}var Y={current:null},E={transition:null},U={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:E,ReactCurrentOwner:G};function Q(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:fe,forEach:function(A,H,_e){fe(A,function(){H.apply(this,arguments)},_e)},count:function(A){var H=0;return fe(A,function(){H++}),H},toArray:function(A){return fe(A,function(H){return H})||[]},only:function(A){if(!ce(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},et.Component=S,et.Fragment=s,et.Profiler=l,et.PureComponent=I,et.StrictMode=i,et.Suspense=h,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,et.act=Q,et.cloneElement=function(A,H,_e){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var Ee=_({},A.props),$e=A.key,Be=A.ref,ae=A._owner;if(H!=null){if(H.ref!==void 0&&(Be=H.ref,ae=G.current),H.key!==void 0&&($e=""+H.key),A.type&&A.type.defaultProps)var de=A.type.defaultProps;for(Fe in H)F.call(H,Fe)&&!q.hasOwnProperty(Fe)&&(Ee[Fe]=H[Fe]===void 0&&de!==void 0?de[Fe]:H[Fe])}var Fe=arguments.length-2;if(Fe===1)Ee.children=_e;else if(1<Fe){de=Array(Fe);for(var Se=0;Se<Fe;Se++)de[Se]=arguments[Se+2];Ee.children=de}return{$$typeof:e,type:A.type,key:$e,ref:Be,props:Ee,_owner:ae}},et.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},et.createElement=X,et.createFactory=function(A){var H=X.bind(null,A);return H.type=A,H},et.createRef=function(){return{current:null}},et.forwardRef=function(A){return{$$typeof:f,render:A}},et.isValidElement=ce,et.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:B}},et.memo=function(A,H){return{$$typeof:p,type:A,compare:H===void 0?null:H}},et.startTransition=function(A){var H=E.transition;E.transition={};try{A()}finally{E.transition=H}},et.unstable_act=Q,et.useCallback=function(A,H){return Y.current.useCallback(A,H)},et.useContext=function(A){return Y.current.useContext(A)},et.useDebugValue=function(){},et.useDeferredValue=function(A){return Y.current.useDeferredValue(A)},et.useEffect=function(A,H){return Y.current.useEffect(A,H)},et.useId=function(){return Y.current.useId()},et.useImperativeHandle=function(A,H,_e){return Y.current.useImperativeHandle(A,H,_e)},et.useInsertionEffect=function(A,H){return Y.current.useInsertionEffect(A,H)},et.useLayoutEffect=function(A,H){return Y.current.useLayoutEffect(A,H)},et.useMemo=function(A,H){return Y.current.useMemo(A,H)},et.useReducer=function(A,H,_e){return Y.current.useReducer(A,H,_e)},et.useRef=function(A){return Y.current.useRef(A)},et.useState=function(A){return Y.current.useState(A)},et.useSyncExternalStore=function(A,H,_e){return Y.current.useSyncExternalStore(A,H,_e)},et.useTransition=function(){return Y.current.useTransition()},et.version="18.3.1",et}var Jg;function hd(){return Jg||(Jg=1,Sf.exports=Y1()),Sf.exports}var ex;function X1(){if(ex)return So;ex=1;var e=hd(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,p){var v,b={},N=null,C=null;p!==void 0&&(N=""+p),h.key!==void 0&&(N=""+h.key),h.ref!==void 0&&(C=h.ref);for(v in h)i.call(h,v)&&!c.hasOwnProperty(v)&&(b[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)b[v]===void 0&&(b[v]=h[v]);return{$$typeof:t,type:f,key:N,ref:C,props:b,_owner:l.current}}return So.Fragment=s,So.jsx=u,So.jsxs=u,So}var tx;function J1(){return tx||(tx=1,Nf.exports=X1()),Nf.exports}var n=J1(),Nc={},kf={exports:{}},An={},Cf={exports:{}},_f={};var nx;function eN(){return nx||(nx=1,(function(e){function t(E,U){var Q=E.length;E.push(U);e:for(;0<Q;){var A=Q-1>>>1,H=E[A];if(0<l(H,U))E[A]=U,E[Q]=H,Q=A;else break e}}function s(E){return E.length===0?null:E[0]}function i(E){if(E.length===0)return null;var U=E[0],Q=E.pop();if(Q!==U){E[0]=Q;e:for(var A=0,H=E.length,_e=H>>>1;A<_e;){var Ee=2*(A+1)-1,$e=E[Ee],Be=Ee+1,ae=E[Be];if(0>l($e,Q))Be<H&&0>l(ae,$e)?(E[A]=ae,E[Be]=Q,A=Be):(E[A]=$e,E[Ee]=Q,A=Ee);else if(Be<H&&0>l(ae,Q))E[A]=ae,E[Be]=Q,A=Be;else break e}}return U}function l(E,U){var Q=E.sortIndex-U.sortIndex;return Q!==0?Q:E.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],p=[],v=1,b=null,N=3,C=!1,_=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(E){for(var U=s(p);U!==null;){if(U.callback===null)i(p);else if(U.startTime<=E)i(p),U.sortIndex=U.expirationTime,t(h,U);else break;U=s(p)}}function P(E){if(w=!1,L(E),!_)if(s(h)!==null)_=!0,B(F);else{var U=s(p);U!==null&&Y(P,U.startTime-E)}}function F(E,U){_=!1,w&&(w=!1,k(X),X=-1),C=!0;var Q=N;try{for(L(U),b=s(h);b!==null&&(!(b.expirationTime>U)||E&&!ge());){var A=b.callback;if(typeof A=="function"){b.callback=null,N=b.priorityLevel;var H=A(b.expirationTime<=U);U=e.unstable_now(),typeof H=="function"?b.callback=H:b===s(h)&&i(h),L(U)}else i(h);b=s(h)}if(b!==null)var _e=!0;else{var Ee=s(p);Ee!==null&&Y(P,Ee.startTime-U),_e=!1}return _e}finally{b=null,N=Q,C=!1}}var G=!1,q=null,X=-1,se=5,ce=-1;function ge(){return!(e.unstable_now()-ce<se)}function oe(){if(q!==null){var E=e.unstable_now();ce=E;var U=!0;try{U=q(!0,E)}finally{U?K():(G=!1,q=null)}}else G=!1}var K;if(typeof I=="function")K=function(){I(oe)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,fe=$.port2;$.port1.onmessage=oe,K=function(){fe.postMessage(null)}}else K=function(){S(oe,0)};function B(E){q=E,G||(G=!0,K())}function Y(E,U){X=S(function(){E(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){_||C||(_=!0,B(F))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return s(h)},e.unstable_next=function(E){switch(N){case 1:case 2:case 3:var U=3;break;default:U=N}var Q=N;N=U;try{return E()}finally{N=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,U){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var Q=N;N=E;try{return U()}finally{N=Q}},e.unstable_scheduleCallback=function(E,U,Q){var A=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?A+Q:A):Q=A,E){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Q+H,E={id:v++,callback:U,priorityLevel:E,startTime:Q,expirationTime:H,sortIndex:-1},Q>A?(E.sortIndex=Q,t(p,E),s(h)===null&&E===s(p)&&(w?(k(X),X=-1):w=!0,Y(P,Q-A))):(E.sortIndex=H,t(h,E),_||C||(_=!0,B(F))),E},e.unstable_shouldYield=ge,e.unstable_wrapCallback=function(E){var U=N;return function(){var Q=N;N=U;try{return E.apply(this,arguments)}finally{N=Q}}}})(_f)),_f}var rx;function tN(){return rx||(rx=1,Cf.exports=eN()),Cf.exports}var sx;function nN(){if(sx)return An;sx=1;var e=hd(),t=tN();function s(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,o=1;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function c(r,a){u(r,a),u(r+"Capture",a)}function u(r,a){for(l[r]=a,r=0;r<a.length;r++)i.add(a[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},b={};function N(r){return h.call(b,r)?!0:h.call(v,r)?!1:p.test(r)?b[r]=!0:(v[r]=!0,!1)}function C(r,a,o,d){if(o!==null&&o.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return d?!1:o!==null?!o.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function _(r,a,o,d){if(a===null||typeof a>"u"||C(r,a,o,d))return!0;if(d)return!1;if(o!==null)switch(o.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(r,a,o,d,m,g,j){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=o,this.propertyName=r,this.type=a,this.sanitizeURL=g,this.removeEmptyString=j}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){S[r]=new w(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];S[a]=new w(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){S[r]=new w(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){S[r]=new w(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){S[r]=new w(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){S[r]=new w(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){S[r]=new w(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){S[r]=new w(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){S[r]=new w(r,5,!1,r.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function I(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(k,I);S[a]=new w(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(k,I);S[a]=new w(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(k,I);S[a]=new w(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){S[r]=new w(r,1,!1,r.toLowerCase(),null,!1,!1)}),S.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){S[r]=new w(r,1,!1,r.toLowerCase(),null,!0,!0)});function L(r,a,o,d){var m=S.hasOwnProperty(a)?S[a]:null;(m!==null?m.type!==0:d||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(_(a,o,m,d)&&(o=null),d||m===null?N(a)&&(o===null?r.removeAttribute(a):r.setAttribute(a,""+o)):m.mustUseProperty?r[m.propertyName]=o===null?m.type===3?!1:"":o:(a=m.attributeName,d=m.attributeNamespace,o===null?r.removeAttribute(a):(m=m.type,o=m===3||m===4&&o===!0?"":""+o,d?r.setAttributeNS(d,a,o):r.setAttribute(a,o))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),G=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),ge=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),E=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=E&&r[E]||r["@@iterator"],typeof r=="function"?r:null)}var Q=Object.assign,A;function H(r){if(A===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);A=a&&a[1]||""}return`
`+A+r}var _e=!1;function Ee(r,a){if(!r||_e)return"";_e=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(W){var d=W}Reflect.construct(r,[],a)}else{try{a.call()}catch(W){d=W}r.call(a.prototype)}else{try{throw Error()}catch(W){d=W}r()}}catch(W){if(W&&d&&typeof W.stack=="string"){for(var m=W.stack.split(`
`),g=d.stack.split(`
`),j=m.length-1,R=g.length-1;1<=j&&0<=R&&m[j]!==g[R];)R--;for(;1<=j&&0<=R;j--,R--)if(m[j]!==g[R]){if(j!==1||R!==1)do if(j--,R--,0>R||m[j]!==g[R]){var D=`
`+m[j].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=j&&0<=R);break}}}finally{_e=!1,Error.prepareStackTrace=o}return(r=r?r.displayName||r.name:"")?H(r):""}function $e(r){switch(r.tag){case 5:return H(r.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return r=Ee(r.type,!1),r;case 11:return r=Ee(r.type.render,!1),r;case 1:return r=Ee(r.type,!0),r;default:return""}}function Be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case q:return"Fragment";case G:return"Portal";case se:return"Profiler";case X:return"StrictMode";case K:return"Suspense";case $:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ge:return(r.displayName||"Context")+".Consumer";case ce:return(r._context.displayName||"Context")+".Provider";case oe:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case fe:return a=r.displayName||null,a!==null?a:Be(r.type)||"Memo";case B:a=r._payload,r=r._init;try{return Be(r(a))}catch{}}return null}function ae(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(a);case 8:return a===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function de(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Fe(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Se(r){var a=Fe(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),d=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return m.call(this)},set:function(j){d=""+j,g.call(this,j)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(j){d=""+j},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ke(r){r._valueTracker||(r._valueTracker=Se(r))}function dt(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),d="";return r&&(d=Fe(r)?r.checked?"true":"false":r.value),r=d,r!==o?(a.setValue(r),!0):!1}function xt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Je(r,a){var o=a.checked;return Q({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??r._wrapperState.initialChecked})}function sn(r,a){var o=a.defaultValue==null?"":a.defaultValue,d=a.checked!=null?a.checked:a.defaultChecked;o=de(a.value!=null?a.value:o),r._wrapperState={initialChecked:d,initialValue:o,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Dn(r,a){a=a.checked,a!=null&&L(r,"checked",a,!1)}function lr(r,a){Dn(r,a);var o=de(a.value),d=a.type;if(o!=null)d==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+o):r.value!==""+o&&(r.value=""+o);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?Ue(r,a.type,o):a.hasOwnProperty("defaultValue")&&Ue(r,a.type,de(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function O(r,a,o){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var d=a.type;if(!(d!=="submit"&&d!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,o||a===r.value||(r.value=a),r.defaultValue=a}o=r.name,o!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,o!==""&&(r.name=o)}function Ue(r,a,o){(a!=="number"||xt(r.ownerDocument)!==r)&&(o==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+o&&(r.defaultValue=""+o))}var Ie=Array.isArray;function an(r,a,o,d){if(r=r.options,a){a={};for(var m=0;m<o.length;m++)a["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=a.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&d&&(r[o].defaultSelected=!0)}else{for(o=""+de(o),a=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}a!==null||r[m].disabled||(a=r[m])}a!==null&&(a.selected=!0)}}function Hn(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(s(91));return Q({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Aa(r,a){var o=a.value;if(o==null){if(o=a.children,a=a.defaultValue,o!=null){if(a!=null)throw Error(s(92));if(Ie(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),o=a}r._wrapperState={initialValue:de(o)}}function Di(r,a){var o=de(a.value),d=de(a.defaultValue);o!=null&&(o=""+o,o!==r.value&&(r.value=o),a.defaultValue==null&&r.defaultValue!==o&&(r.defaultValue=o)),d!=null&&(r.defaultValue=""+d)}function ml(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function aa(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gr(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?aa(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Kr,pn=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,o,d,m){MSApp.execUnsafeLocalFunction(function(){return r(a,o,d,m)})}:r})(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(Kr=Kr||document.createElement("div"),Kr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Kr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function Ir(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zd=["Webkit","ms","Moz","O"];Object.keys(ps).forEach(function(r){zd.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),ps[a]=ps[r]})});function ia(r,a,o){return a==null||typeof a=="boolean"||a===""?"":o||typeof a!="number"||a===0||ps.hasOwnProperty(r)&&ps[r]?(""+a).trim():a+"px"}function La(r,a){r=r.style;for(var o in a)if(a.hasOwnProperty(o)){var d=o.indexOf("--")===0,m=ia(o,a[o],d);o==="float"&&(o="cssFloat"),d?r.setProperty(o,m):r[o]=m}}var $d=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mi(r,a){if(a){if($d[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(s(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(s(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(s(61))}if(a.style!=null&&typeof a.style!="object")throw Error(s(62))}}function Oi(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fi=null;function zi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var $i=null,hs=null,gs=null;function Da(r){if(r=lo(r)){if(typeof $i!="function")throw Error(s(280));var a=r.stateNode;a&&(a=Fl(a),$i(r.stateNode,r.type,a))}}function Bi(r){hs?gs?gs.push(r):gs=[r]:hs=r}function pl(){if(hs){var r=hs,a=gs;if(gs=hs=null,Da(r),a)for(r=0;r<a.length;r++)Da(a[r])}}function hl(r,a){return r(a)}function gl(){}var Vi=!1;function Ma(r,a,o){if(Vi)return r(a,o);Vi=!0;try{return hl(r,a,o)}finally{Vi=!1,(hs!==null||gs!==null)&&(gl(),pl())}}function oa(r,a){var o=r.stateNode;if(o===null)return null;var d=Fl(o);if(d===null)return null;o=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,a,typeof o));return o}var Oa=!1;if(f)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){Oa=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{Oa=!1}function Bd(r,a,o,d,m,g,j,R,D){var W=Array.prototype.slice.call(arguments,3);try{a.apply(o,W)}catch(te){this.onError(te)}}var la=!1,Fa=null,za=!1,qi=null,y={onError:function(r){la=!0,Fa=r}};function Z(r,a,o,d,m,g,j,R,D){la=!1,Fa=null,Bd.apply(y,arguments)}function ke(r,a,o,d,m,g,j,R,D){if(Z.apply(this,arguments),la){if(la){var W=Fa;la=!1,Fa=null}else throw Error(s(198));za||(za=!0,qi=W)}}function it(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function on(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function xs(r){if(it(r)!==r)throw Error(s(188))}function xl(r){var a=r.alternate;if(!a){if(a=it(r),a===null)throw Error(s(188));return a!==r?null:r}for(var o=r,d=a;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(d=m.return,d!==null){o=d;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return xs(m),r;if(g===d)return xs(m),a;g=g.sibling}throw Error(s(188))}if(o.return!==d.return)o=m,d=g;else{for(var j=!1,R=m.child;R;){if(R===o){j=!0,o=m,d=g;break}if(R===d){j=!0,d=m,o=g;break}R=R.sibling}if(!j){for(R=g.child;R;){if(R===o){j=!0,o=g,d=m;break}if(R===d){j=!0,d=g,o=m;break}R=R.sibling}if(!j)throw Error(s(189))}}if(o.alternate!==d)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:a}function Np(r){return r=xl(r),r!==null?Sp(r):null}function Sp(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=Sp(r);if(a!==null)return a;r=r.sibling}return null}var kp=t.unstable_scheduleCallback,Cp=t.unstable_cancelCallback,oj=t.unstable_shouldYield,lj=t.unstable_requestPaint,Ft=t.unstable_now,cj=t.unstable_getCurrentPriorityLevel,Vd=t.unstable_ImmediatePriority,_p=t.unstable_UserBlockingPriority,vl=t.unstable_NormalPriority,dj=t.unstable_LowPriority,Pp=t.unstable_IdlePriority,yl=null,Rr=null;function uj(r){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(yl,r,void 0,(r.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:pj,fj=Math.log,mj=Math.LN2;function pj(r){return r>>>=0,r===0?32:31-(fj(r)/mj|0)|0}var wl=64,bl=4194304;function Ui(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function jl(r,a){var o=r.pendingLanes;if(o===0)return 0;var d=0,m=r.suspendedLanes,g=r.pingedLanes,j=o&268435455;if(j!==0){var R=j&~m;R!==0?d=Ui(R):(g&=j,g!==0&&(d=Ui(g)))}else j=o&~m,j!==0?d=Ui(j):g!==0&&(d=Ui(g));if(d===0)return 0;if(a!==0&&a!==d&&(a&m)===0&&(m=d&-d,g=a&-a,m>=g||m===16&&(g&4194240)!==0))return a;if((d&4)!==0&&(d|=o&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=d;0<a;)o=31-cr(a),m=1<<o,d|=r[o],a&=~m;return d}function hj(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gj(r,a){for(var o=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,g=r.pendingLanes;0<g;){var j=31-cr(g),R=1<<j,D=m[j];D===-1?((R&o)===0||(R&d)!==0)&&(m[j]=hj(R,a)):D<=a&&(r.expiredLanes|=R),g&=~R}}function qd(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ep(){var r=wl;return wl<<=1,(wl&4194240)===0&&(wl=64),r}function Ud(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function Wi(r,a,o){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-cr(a),r[a]=o}function xj(r,a){var o=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<o;){var m=31-cr(o),g=1<<m;a[m]=0,d[m]=-1,r[m]=-1,o&=~g}}function Wd(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var d=31-cr(o),m=1<<d;m&a|r[d]&a&&(r[d]|=a),o&=~m}}var ut=0;function Tp(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ip,Qd,Rp,Ap,Lp,Hd=!1,Nl=[],vs=null,ys=null,ws=null,Qi=new Map,Hi=new Map,bs=[],vj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dp(r,a){switch(r){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Qi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hi.delete(a.pointerId)}}function Gi(r,a,o,d,m,g){return r===null||r.nativeEvent!==g?(r={blockedOn:a,domEventName:o,eventSystemFlags:d,nativeEvent:g,targetContainers:[m]},a!==null&&(a=lo(a),a!==null&&Qd(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),r)}function yj(r,a,o,d,m){switch(a){case"focusin":return vs=Gi(vs,r,a,o,d,m),!0;case"dragenter":return ys=Gi(ys,r,a,o,d,m),!0;case"mouseover":return ws=Gi(ws,r,a,o,d,m),!0;case"pointerover":var g=m.pointerId;return Qi.set(g,Gi(Qi.get(g)||null,r,a,o,d,m)),!0;case"gotpointercapture":return g=m.pointerId,Hi.set(g,Gi(Hi.get(g)||null,r,a,o,d,m)),!0}return!1}function Mp(r){var a=ca(r.target);if(a!==null){var o=it(a);if(o!==null){if(a=o.tag,a===13){if(a=on(o),a!==null){r.blockedOn=a,Lp(r.priority,function(){Rp(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Sl(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=Kd(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(o===null){o=r.nativeEvent;var d=new o.constructor(o.type,o);Fi=d,o.target.dispatchEvent(d),Fi=null}else return a=lo(o),a!==null&&Qd(a),r.blockedOn=o,!1;a.shift()}return!0}function Op(r,a,o){Sl(r)&&o.delete(a)}function wj(){Hd=!1,vs!==null&&Sl(vs)&&(vs=null),ys!==null&&Sl(ys)&&(ys=null),ws!==null&&Sl(ws)&&(ws=null),Qi.forEach(Op),Hi.forEach(Op)}function Ki(r,a){r.blockedOn===a&&(r.blockedOn=null,Hd||(Hd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wj)))}function Zi(r){function a(m){return Ki(m,r)}if(0<Nl.length){Ki(Nl[0],r);for(var o=1;o<Nl.length;o++){var d=Nl[o];d.blockedOn===r&&(d.blockedOn=null)}}for(vs!==null&&Ki(vs,r),ys!==null&&Ki(ys,r),ws!==null&&Ki(ws,r),Qi.forEach(a),Hi.forEach(a),o=0;o<bs.length;o++)d=bs[o],d.blockedOn===r&&(d.blockedOn=null);for(;0<bs.length&&(o=bs[0],o.blockedOn===null);)Mp(o),o.blockedOn===null&&bs.shift()}var $a=P.ReactCurrentBatchConfig,kl=!0;function bj(r,a,o,d){var m=ut,g=$a.transition;$a.transition=null;try{ut=1,Gd(r,a,o,d)}finally{ut=m,$a.transition=g}}function jj(r,a,o,d){var m=ut,g=$a.transition;$a.transition=null;try{ut=4,Gd(r,a,o,d)}finally{ut=m,$a.transition=g}}function Gd(r,a,o,d){if(kl){var m=Kd(r,a,o,d);if(m===null)fu(r,a,d,Cl,o),Dp(r,d);else if(yj(m,r,a,o,d))d.stopPropagation();else if(Dp(r,d),a&4&&-1<vj.indexOf(r)){for(;m!==null;){var g=lo(m);if(g!==null&&Ip(g),g=Kd(r,a,o,d),g===null&&fu(r,a,d,Cl,o),g===m)break;m=g}m!==null&&d.stopPropagation()}else fu(r,a,d,null,o)}}var Cl=null;function Kd(r,a,o,d){if(Cl=null,r=zi(d),r=ca(r),r!==null)if(a=it(r),a===null)r=null;else if(o=a.tag,o===13){if(r=on(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return Cl=r,null}function Fp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cj()){case Vd:return 1;case _p:return 4;case vl:case dj:return 16;case Pp:return 536870912;default:return 16}default:return 16}}var js=null,Zd=null,_l=null;function zp(){if(_l)return _l;var r,a=Zd,o=a.length,d,m="value"in js?js.value:js.textContent,g=m.length;for(r=0;r<o&&a[r]===m[r];r++);var j=o-r;for(d=1;d<=j&&a[o-d]===m[g-d];d++);return _l=m.slice(r,1<d?1-d:void 0)}function Pl(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function El(){return!0}function $p(){return!1}function Mn(r){function a(o,d,m,g,j){this._reactName=o,this._targetInst=m,this.type=d,this.nativeEvent=g,this.target=j,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(o=r[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?El:$p,this.isPropagationStopped=$p,this}return Q(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),a}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yd=Mn(Ba),Yi=Q({},Ba,{view:0,detail:0}),Nj=Mn(Yi),Xd,Jd,Xi,Tl=Q({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xi&&(Xi&&r.type==="mousemove"?(Xd=r.screenX-Xi.screenX,Jd=r.screenY-Xi.screenY):Jd=Xd=0,Xi=r),Xd)},movementY:function(r){return"movementY"in r?r.movementY:Jd}}),Bp=Mn(Tl),Sj=Q({},Tl,{dataTransfer:0}),kj=Mn(Sj),Cj=Q({},Yi,{relatedTarget:0}),eu=Mn(Cj),_j=Q({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),Pj=Mn(_j),Ej=Q({},Ba,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Tj=Mn(Ej),Ij=Q({},Ba,{data:0}),Vp=Mn(Ij),Rj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Aj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dj(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Lj[r])?!!a[r]:!1}function tu(){return Dj}var Mj=Q({},Yi,{key:function(r){if(r.key){var a=Rj[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Pl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Aj[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tu,charCode:function(r){return r.type==="keypress"?Pl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Pl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Oj=Mn(Mj),Fj=Q({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qp=Mn(Fj),zj=Q({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tu}),$j=Mn(zj),Bj=Q({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vj=Mn(Bj),qj=Q({},Tl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Uj=Mn(qj),Wj=[9,13,27,32],nu=f&&"CompositionEvent"in window,Ji=null;f&&"documentMode"in document&&(Ji=document.documentMode);var Qj=f&&"TextEvent"in window&&!Ji,Up=f&&(!nu||Ji&&8<Ji&&11>=Ji),Wp=" ",Qp=!1;function Hp(r,a){switch(r){case"keyup":return Wj.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Va=!1;function Hj(r,a){switch(r){case"compositionend":return Gp(a);case"keypress":return a.which!==32?null:(Qp=!0,Wp);case"textInput":return r=a.data,r===Wp&&Qp?null:r;default:return null}}function Gj(r,a){if(Va)return r==="compositionend"||!nu&&Hp(r,a)?(r=zp(),_l=Zd=js=null,Va=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Up&&a.locale!=="ko"?null:a.data;default:return null}}var Kj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kp(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Kj[r.type]:a==="textarea"}function Zp(r,a,o,d){Bi(d),a=Dl(a,"onChange"),0<a.length&&(o=new Yd("onChange","change",null,o,d),r.push({event:o,listeners:a}))}var eo=null,to=null;function Zj(r){ph(r,0)}function Il(r){var a=Ha(r);if(dt(a))return r}function Yj(r,a){if(r==="change")return a}var Yp=!1;if(f){var ru;if(f){var su="oninput"in document;if(!su){var Xp=document.createElement("div");Xp.setAttribute("oninput","return;"),su=typeof Xp.oninput=="function"}ru=su}else ru=!1;Yp=ru&&(!document.documentMode||9<document.documentMode)}function Jp(){eo&&(eo.detachEvent("onpropertychange",eh),to=eo=null)}function eh(r){if(r.propertyName==="value"&&Il(to)){var a=[];Zp(a,to,r,zi(r)),Ma(Zj,a)}}function Xj(r,a,o){r==="focusin"?(Jp(),eo=a,to=o,eo.attachEvent("onpropertychange",eh)):r==="focusout"&&Jp()}function Jj(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Il(to)}function e1(r,a){if(r==="click")return Il(a)}function t1(r,a){if(r==="input"||r==="change")return Il(a)}function n1(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var dr=typeof Object.is=="function"?Object.is:n1;function no(r,a){if(dr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),d=Object.keys(a);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var m=o[d];if(!h.call(a,m)||!dr(r[m],a[m]))return!1}return!0}function th(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function nh(r,a){var o=th(r);r=0;for(var d;o;){if(o.nodeType===3){if(d=r+o.textContent.length,r<=a&&d>=a)return{node:o,offset:a-r};r=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=th(o)}}function rh(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?rh(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function sh(){for(var r=window,a=xt();a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=xt(r.document)}return a}function au(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function r1(r){var a=sh(),o=r.focusedElem,d=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&rh(o.ownerDocument.documentElement,o)){if(d!==null&&au(o)){if(a=d.start,r=d.end,r===void 0&&(r=a),"selectionStart"in o)o.selectionStart=a,o.selectionEnd=Math.min(r,o.value.length);else if(r=(a=o.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var m=o.textContent.length,g=Math.min(d.start,m);d=d.end===void 0?g:Math.min(d.end,m),!r.extend&&g>d&&(m=d,d=g,g=m),m=nh(o,g);var j=nh(o,d);m&&j&&(r.rangeCount!==1||r.anchorNode!==m.node||r.anchorOffset!==m.offset||r.focusNode!==j.node||r.focusOffset!==j.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),r.removeAllRanges(),g>d?(r.addRange(a),r.extend(j.node,j.offset)):(a.setEnd(j.node,j.offset),r.addRange(a)))}}for(a=[],r=o;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<a.length;o++)r=a[o],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var s1=f&&"documentMode"in document&&11>=document.documentMode,qa=null,iu=null,ro=null,ou=!1;function ah(r,a,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ou||qa==null||qa!==xt(d)||(d=qa,"selectionStart"in d&&au(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ro&&no(ro,d)||(ro=d,d=Dl(iu,"onSelect"),0<d.length&&(a=new Yd("onSelect","select",null,a,o),r.push({event:a,listeners:d}),a.target=qa)))}function Rl(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var Ua={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionend:Rl("Transition","TransitionEnd")},lu={},ih={};f&&(ih=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Al(r){if(lu[r])return lu[r];if(!Ua[r])return r;var a=Ua[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in ih)return lu[r]=a[o];return r}var oh=Al("animationend"),lh=Al("animationiteration"),ch=Al("animationstart"),dh=Al("transitionend"),uh=new Map,fh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(r,a){uh.set(r,a),c(a,[r])}for(var cu=0;cu<fh.length;cu++){var du=fh[cu],a1=du.toLowerCase(),i1=du[0].toUpperCase()+du.slice(1);Ns(a1,"on"+i1)}Ns(oh,"onAnimationEnd"),Ns(lh,"onAnimationIteration"),Ns(ch,"onAnimationStart"),Ns("dblclick","onDoubleClick"),Ns("focusin","onFocus"),Ns("focusout","onBlur"),Ns(dh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("cancel close invalid load scroll toggle".split(" ").concat(so));function mh(r,a,o){var d=r.type||"unknown-event";r.currentTarget=o,ke(d,a,void 0,r),r.currentTarget=null}function ph(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var d=r[o],m=d.event;d=d.listeners;e:{var g=void 0;if(a)for(var j=d.length-1;0<=j;j--){var R=d[j],D=R.instance,W=R.currentTarget;if(R=R.listener,D!==g&&m.isPropagationStopped())break e;mh(m,R,W),g=D}else for(j=0;j<d.length;j++){if(R=d[j],D=R.instance,W=R.currentTarget,R=R.listener,D!==g&&m.isPropagationStopped())break e;mh(m,R,W),g=D}}}if(za)throw r=qi,za=!1,qi=null,r}function wt(r,a){var o=a[vu];o===void 0&&(o=a[vu]=new Set);var d=r+"__bubble";o.has(d)||(hh(a,r,2,!1),o.add(d))}function uu(r,a,o){var d=0;a&&(d|=4),hh(o,r,d,a)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function ao(r){if(!r[Ll]){r[Ll]=!0,i.forEach(function(o){o!=="selectionchange"&&(o1.has(o)||uu(o,!1,r),uu(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Ll]||(a[Ll]=!0,uu("selectionchange",!1,a))}}function hh(r,a,o,d){switch(Fp(a)){case 1:var m=bj;break;case 4:m=jj;break;default:m=Gd}o=m.bind(null,a,o,r),m=void 0,!Oa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(a,o,{capture:!0,passive:m}):r.addEventListener(a,o,!0):m!==void 0?r.addEventListener(a,o,{passive:m}):r.addEventListener(a,o,!1)}function fu(r,a,o,d,m){var g=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var j=d.tag;if(j===3||j===4){var R=d.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(j===4)for(j=d.return;j!==null;){var D=j.tag;if((D===3||D===4)&&(D=j.stateNode.containerInfo,D===m||D.nodeType===8&&D.parentNode===m))return;j=j.return}for(;R!==null;){if(j=ca(R),j===null)return;if(D=j.tag,D===5||D===6){d=g=j;continue e}R=R.parentNode}}d=d.return}Ma(function(){var W=g,te=zi(o),ne=[];e:{var J=uh.get(r);if(J!==void 0){var pe=Yd,ye=r;switch(r){case"keypress":if(Pl(o)===0)break e;case"keydown":case"keyup":pe=Oj;break;case"focusin":ye="focus",pe=eu;break;case"focusout":ye="blur",pe=eu;break;case"beforeblur":case"afterblur":pe=eu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=kj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=$j;break;case oh:case lh:case ch:pe=Pj;break;case dh:pe=Vj;break;case"scroll":pe=Nj;break;case"wheel":pe=Uj;break;case"copy":case"cut":case"paste":pe=Tj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=qp}var be=(a&4)!==0,zt=!be&&r==="scroll",z=be?J!==null?J+"Capture":null:J;be=[];for(var M=W,V;M!==null;){V=M;var ie=V.stateNode;if(V.tag===5&&ie!==null&&(V=ie,z!==null&&(ie=oa(M,z),ie!=null&&be.push(io(M,ie,V)))),zt)break;M=M.return}0<be.length&&(J=new pe(J,ye,null,o,te),ne.push({event:J,listeners:be}))}}if((a&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",J&&o!==Fi&&(ye=o.relatedTarget||o.fromElement)&&(ca(ye)||ye[Zr]))break e;if((pe||J)&&(J=te.window===te?te:(J=te.ownerDocument)?J.defaultView||J.parentWindow:window,pe?(ye=o.relatedTarget||o.toElement,pe=W,ye=ye?ca(ye):null,ye!==null&&(zt=it(ye),ye!==zt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(pe=null,ye=W),pe!==ye)){if(be=Bp,ie="onMouseLeave",z="onMouseEnter",M="mouse",(r==="pointerout"||r==="pointerover")&&(be=qp,ie="onPointerLeave",z="onPointerEnter",M="pointer"),zt=pe==null?J:Ha(pe),V=ye==null?J:Ha(ye),J=new be(ie,M+"leave",pe,o,te),J.target=zt,J.relatedTarget=V,ie=null,ca(te)===W&&(be=new be(z,M+"enter",ye,o,te),be.target=V,be.relatedTarget=zt,ie=be),zt=ie,pe&&ye)t:{for(be=pe,z=ye,M=0,V=be;V;V=Wa(V))M++;for(V=0,ie=z;ie;ie=Wa(ie))V++;for(;0<M-V;)be=Wa(be),M--;for(;0<V-M;)z=Wa(z),V--;for(;M--;){if(be===z||z!==null&&be===z.alternate)break t;be=Wa(be),z=Wa(z)}be=null}else be=null;pe!==null&&gh(ne,J,pe,be,!1),ye!==null&&zt!==null&&gh(ne,zt,ye,be,!0)}}e:{if(J=W?Ha(W):window,pe=J.nodeName&&J.nodeName.toLowerCase(),pe==="select"||pe==="input"&&J.type==="file")var je=Yj;else if(Kp(J))if(Yp)je=t1;else{je=Jj;var Re=Xj}else(pe=J.nodeName)&&pe.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(je=e1);if(je&&(je=je(r,W))){Zp(ne,je,o,te);break e}Re&&Re(r,J,W),r==="focusout"&&(Re=J._wrapperState)&&Re.controlled&&J.type==="number"&&Ue(J,"number",J.value)}switch(Re=W?Ha(W):window,r){case"focusin":(Kp(Re)||Re.contentEditable==="true")&&(qa=Re,iu=W,ro=null);break;case"focusout":ro=iu=qa=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,ah(ne,o,te);break;case"selectionchange":if(s1)break;case"keydown":case"keyup":ah(ne,o,te)}var Ae;if(nu)e:{switch(r){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Va?Hp(r,o)&&(We="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(We="onCompositionStart");We&&(Up&&o.locale!=="ko"&&(Va||We!=="onCompositionStart"?We==="onCompositionEnd"&&Va&&(Ae=zp()):(js=te,Zd="value"in js?js.value:js.textContent,Va=!0)),Re=Dl(W,We),0<Re.length&&(We=new Vp(We,r,null,o,te),ne.push({event:We,listeners:Re}),Ae?We.data=Ae:(Ae=Gp(o),Ae!==null&&(We.data=Ae)))),(Ae=Qj?Hj(r,o):Gj(r,o))&&(W=Dl(W,"onBeforeInput"),0<W.length&&(te=new Vp("onBeforeInput","beforeinput",null,o,te),ne.push({event:te,listeners:W}),te.data=Ae))}ph(ne,a)})}function io(r,a,o){return{instance:r,listener:a,currentTarget:o}}function Dl(r,a){for(var o=a+"Capture",d=[];r!==null;){var m=r,g=m.stateNode;m.tag===5&&g!==null&&(m=g,g=oa(r,o),g!=null&&d.unshift(io(r,g,m)),g=oa(r,a),g!=null&&d.push(io(r,g,m))),r=r.return}return d}function Wa(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function gh(r,a,o,d,m){for(var g=a._reactName,j=[];o!==null&&o!==d;){var R=o,D=R.alternate,W=R.stateNode;if(D!==null&&D===d)break;R.tag===5&&W!==null&&(R=W,m?(D=oa(o,g),D!=null&&j.unshift(io(o,D,R))):m||(D=oa(o,g),D!=null&&j.push(io(o,D,R)))),o=o.return}j.length!==0&&r.push({event:a,listeners:j})}var l1=/\r\n?/g,c1=/\u0000|\uFFFD/g;function xh(r){return(typeof r=="string"?r:""+r).replace(l1,`
`).replace(c1,"")}function Ml(r,a,o){if(a=xh(a),xh(r)!==a&&o)throw Error(s(425))}function Ol(){}var mu=null,pu=null;function hu(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var gu=typeof setTimeout=="function"?setTimeout:void 0,d1=typeof clearTimeout=="function"?clearTimeout:void 0,vh=typeof Promise=="function"?Promise:void 0,u1=typeof queueMicrotask=="function"?queueMicrotask:typeof vh<"u"?function(r){return vh.resolve(null).then(r).catch(f1)}:gu;function f1(r){setTimeout(function(){throw r})}function xu(r,a){var o=a,d=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(d===0){r.removeChild(m),Zi(a);return}d--}else o!=="$"&&o!=="$?"&&o!=="$!"||d++;o=m}while(o);Zi(a)}function Ss(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function yh(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}var Qa=Math.random().toString(36).slice(2),Ar="__reactFiber$"+Qa,oo="__reactProps$"+Qa,Zr="__reactContainer$"+Qa,vu="__reactEvents$"+Qa,m1="__reactListeners$"+Qa,p1="__reactHandles$"+Qa;function ca(r){var a=r[Ar];if(a)return a;for(var o=r.parentNode;o;){if(a=o[Zr]||o[Ar]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=yh(r);r!==null;){if(o=r[Ar])return o;r=yh(r)}return a}r=o,o=r.parentNode}return null}function lo(r){return r=r[Ar]||r[Zr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ha(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(s(33))}function Fl(r){return r[oo]||null}var yu=[],Ga=-1;function ks(r){return{current:r}}function bt(r){0>Ga||(r.current=yu[Ga],yu[Ga]=null,Ga--)}function vt(r,a){Ga++,yu[Ga]=r.current,r.current=a}var Cs={},hn=ks(Cs),Pn=ks(!1),da=Cs;function Ka(r,a){var o=r.type.contextTypes;if(!o)return Cs;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===a)return d.__reactInternalMemoizedMaskedChildContext;var m={},g;for(g in o)m[g]=a[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=m),m}function En(r){return r=r.childContextTypes,r!=null}function zl(){bt(Pn),bt(hn)}function wh(r,a,o){if(hn.current!==Cs)throw Error(s(168));vt(hn,a),vt(Pn,o)}function bh(r,a,o){var d=r.stateNode;if(a=a.childContextTypes,typeof d.getChildContext!="function")return o;d=d.getChildContext();for(var m in d)if(!(m in a))throw Error(s(108,ae(r)||"Unknown",m));return Q({},o,d)}function $l(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Cs,da=hn.current,vt(hn,r),vt(Pn,Pn.current),!0}function jh(r,a,o){var d=r.stateNode;if(!d)throw Error(s(169));o?(r=bh(r,a,da),d.__reactInternalMemoizedMergedChildContext=r,bt(Pn),bt(hn),vt(hn,r)):bt(Pn),vt(Pn,o)}var Yr=null,Bl=!1,wu=!1;function Nh(r){Yr===null?Yr=[r]:Yr.push(r)}function h1(r){Bl=!0,Nh(r)}function _s(){if(!wu&&Yr!==null){wu=!0;var r=0,a=ut;try{var o=Yr;for(ut=1;r<o.length;r++){var d=o[r];do d=d(!0);while(d!==null)}Yr=null,Bl=!1}catch(m){throw Yr!==null&&(Yr=Yr.slice(r+1)),kp(Vd,_s),m}finally{ut=a,wu=!1}}return null}var Za=[],Ya=0,Vl=null,ql=0,Gn=[],Kn=0,ua=null,Xr=1,Jr="";function fa(r,a){Za[Ya++]=ql,Za[Ya++]=Vl,Vl=r,ql=a}function Sh(r,a,o){Gn[Kn++]=Xr,Gn[Kn++]=Jr,Gn[Kn++]=ua,ua=r;var d=Xr;r=Jr;var m=32-cr(d)-1;d&=~(1<<m),o+=1;var g=32-cr(a)+m;if(30<g){var j=m-m%5;g=(d&(1<<j)-1).toString(32),d>>=j,m-=j,Xr=1<<32-cr(a)+m|o<<m|d,Jr=g+r}else Xr=1<<g|o<<m|d,Jr=r}function bu(r){r.return!==null&&(fa(r,1),Sh(r,1,0))}function ju(r){for(;r===Vl;)Vl=Za[--Ya],Za[Ya]=null,ql=Za[--Ya],Za[Ya]=null;for(;r===ua;)ua=Gn[--Kn],Gn[Kn]=null,Jr=Gn[--Kn],Gn[Kn]=null,Xr=Gn[--Kn],Gn[Kn]=null}var On=null,Fn=null,Ct=!1,ur=null;function kh(r,a){var o=Jn(5,null,null,0);o.elementType="DELETED",o.stateNode=a,o.return=r,a=r.deletions,a===null?(r.deletions=[o],r.flags|=16):a.push(o)}function Ch(r,a){switch(r.tag){case 5:var o=r.type;return a=a.nodeType!==1||o.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,On=r,Fn=Ss(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,On=r,Fn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(o=ua!==null?{id:Xr,overflow:Jr}:null,r.memoizedState={dehydrated:a,treeContext:o,retryLane:1073741824},o=Jn(18,null,null,0),o.stateNode=a,o.return=r,r.child=o,On=r,Fn=null,!0):!1;default:return!1}}function Nu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Su(r){if(Ct){var a=Fn;if(a){var o=a;if(!Ch(r,a)){if(Nu(r))throw Error(s(418));a=Ss(o.nextSibling);var d=On;a&&Ch(r,a)?kh(d,o):(r.flags=r.flags&-4097|2,Ct=!1,On=r)}}else{if(Nu(r))throw Error(s(418));r.flags=r.flags&-4097|2,Ct=!1,On=r}}}function _h(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;On=r}function Ul(r){if(r!==On)return!1;if(!Ct)return _h(r),Ct=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!hu(r.type,r.memoizedProps)),a&&(a=Fn)){if(Nu(r))throw Ph(),Error(s(418));for(;a;)kh(r,a),a=Ss(a.nextSibling)}if(_h(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"){if(a===0){Fn=Ss(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++}r=r.nextSibling}Fn=null}}else Fn=On?Ss(r.stateNode.nextSibling):null;return!0}function Ph(){for(var r=Fn;r;)r=Ss(r.nextSibling)}function Xa(){Fn=On=null,Ct=!1}function ku(r){ur===null?ur=[r]:ur.push(r)}var g1=P.ReactCurrentBatchConfig;function co(r,a,o){if(r=o.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var d=o.stateNode}if(!d)throw Error(s(147,r));var m=d,g=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===g?a.ref:(a=function(j){var R=m.refs;j===null?delete R[g]:R[g]=j},a._stringRef=g,a)}if(typeof r!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,r))}return r}function Wl(r,a){throw r=Object.prototype.toString.call(a),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function Eh(r){var a=r._init;return a(r._payload)}function Th(r){function a(z,M){if(r){var V=z.deletions;V===null?(z.deletions=[M],z.flags|=16):V.push(M)}}function o(z,M){if(!r)return null;for(;M!==null;)a(z,M),M=M.sibling;return null}function d(z,M){for(z=new Map;M!==null;)M.key!==null?z.set(M.key,M):z.set(M.index,M),M=M.sibling;return z}function m(z,M){return z=Ds(z,M),z.index=0,z.sibling=null,z}function g(z,M,V){return z.index=V,r?(V=z.alternate,V!==null?(V=V.index,V<M?(z.flags|=2,M):V):(z.flags|=2,M)):(z.flags|=1048576,M)}function j(z){return r&&z.alternate===null&&(z.flags|=2),z}function R(z,M,V,ie){return M===null||M.tag!==6?(M=xf(V,z.mode,ie),M.return=z,M):(M=m(M,V),M.return=z,M)}function D(z,M,V,ie){var je=V.type;return je===q?te(z,M,V.props.children,ie,V.key):M!==null&&(M.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===B&&Eh(je)===M.type)?(ie=m(M,V.props),ie.ref=co(z,M,V),ie.return=z,ie):(ie=hc(V.type,V.key,V.props,null,z.mode,ie),ie.ref=co(z,M,V),ie.return=z,ie)}function W(z,M,V,ie){return M===null||M.tag!==4||M.stateNode.containerInfo!==V.containerInfo||M.stateNode.implementation!==V.implementation?(M=vf(V,z.mode,ie),M.return=z,M):(M=m(M,V.children||[]),M.return=z,M)}function te(z,M,V,ie,je){return M===null||M.tag!==7?(M=wa(V,z.mode,ie,je),M.return=z,M):(M=m(M,V),M.return=z,M)}function ne(z,M,V){if(typeof M=="string"&&M!==""||typeof M=="number")return M=xf(""+M,z.mode,V),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case F:return V=hc(M.type,M.key,M.props,null,z.mode,V),V.ref=co(z,null,M),V.return=z,V;case G:return M=vf(M,z.mode,V),M.return=z,M;case B:var ie=M._init;return ne(z,ie(M._payload),V)}if(Ie(M)||U(M))return M=wa(M,z.mode,V,null),M.return=z,M;Wl(z,M)}return null}function J(z,M,V,ie){var je=M!==null?M.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return je!==null?null:R(z,M,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case F:return V.key===je?D(z,M,V,ie):null;case G:return V.key===je?W(z,M,V,ie):null;case B:return je=V._init,J(z,M,je(V._payload),ie)}if(Ie(V)||U(V))return je!==null?null:te(z,M,V,ie,null);Wl(z,V)}return null}function pe(z,M,V,ie,je){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return z=z.get(V)||null,R(M,z,""+ie,je);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case F:return z=z.get(ie.key===null?V:ie.key)||null,D(M,z,ie,je);case G:return z=z.get(ie.key===null?V:ie.key)||null,W(M,z,ie,je);case B:var Re=ie._init;return pe(z,M,V,Re(ie._payload),je)}if(Ie(ie)||U(ie))return z=z.get(V)||null,te(M,z,ie,je,null);Wl(M,ie)}return null}function ye(z,M,V,ie){for(var je=null,Re=null,Ae=M,We=M=0,Yt=null;Ae!==null&&We<V.length;We++){Ae.index>We?(Yt=Ae,Ae=null):Yt=Ae.sibling;var ot=J(z,Ae,V[We],ie);if(ot===null){Ae===null&&(Ae=Yt);break}r&&Ae&&ot.alternate===null&&a(z,Ae),M=g(ot,M,We),Re===null?je=ot:Re.sibling=ot,Re=ot,Ae=Yt}if(We===V.length)return o(z,Ae),Ct&&fa(z,We),je;if(Ae===null){for(;We<V.length;We++)Ae=ne(z,V[We],ie),Ae!==null&&(M=g(Ae,M,We),Re===null?je=Ae:Re.sibling=Ae,Re=Ae);return Ct&&fa(z,We),je}for(Ae=d(z,Ae);We<V.length;We++)Yt=pe(Ae,z,We,V[We],ie),Yt!==null&&(r&&Yt.alternate!==null&&Ae.delete(Yt.key===null?We:Yt.key),M=g(Yt,M,We),Re===null?je=Yt:Re.sibling=Yt,Re=Yt);return r&&Ae.forEach(function(Ms){return a(z,Ms)}),Ct&&fa(z,We),je}function be(z,M,V,ie){var je=U(V);if(typeof je!="function")throw Error(s(150));if(V=je.call(V),V==null)throw Error(s(151));for(var Re=je=null,Ae=M,We=M=0,Yt=null,ot=V.next();Ae!==null&&!ot.done;We++,ot=V.next()){Ae.index>We?(Yt=Ae,Ae=null):Yt=Ae.sibling;var Ms=J(z,Ae,ot.value,ie);if(Ms===null){Ae===null&&(Ae=Yt);break}r&&Ae&&Ms.alternate===null&&a(z,Ae),M=g(Ms,M,We),Re===null?je=Ms:Re.sibling=Ms,Re=Ms,Ae=Yt}if(ot.done)return o(z,Ae),Ct&&fa(z,We),je;if(Ae===null){for(;!ot.done;We++,ot=V.next())ot=ne(z,ot.value,ie),ot!==null&&(M=g(ot,M,We),Re===null?je=ot:Re.sibling=ot,Re=ot);return Ct&&fa(z,We),je}for(Ae=d(z,Ae);!ot.done;We++,ot=V.next())ot=pe(Ae,z,We,ot.value,ie),ot!==null&&(r&&ot.alternate!==null&&Ae.delete(ot.key===null?We:ot.key),M=g(ot,M,We),Re===null?je=ot:Re.sibling=ot,Re=ot);return r&&Ae.forEach(function(K1){return a(z,K1)}),Ct&&fa(z,We),je}function zt(z,M,V,ie){if(typeof V=="object"&&V!==null&&V.type===q&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case F:e:{for(var je=V.key,Re=M;Re!==null;){if(Re.key===je){if(je=V.type,je===q){if(Re.tag===7){o(z,Re.sibling),M=m(Re,V.props.children),M.return=z,z=M;break e}}else if(Re.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===B&&Eh(je)===Re.type){o(z,Re.sibling),M=m(Re,V.props),M.ref=co(z,Re,V),M.return=z,z=M;break e}o(z,Re);break}else a(z,Re);Re=Re.sibling}V.type===q?(M=wa(V.props.children,z.mode,ie,V.key),M.return=z,z=M):(ie=hc(V.type,V.key,V.props,null,z.mode,ie),ie.ref=co(z,M,V),ie.return=z,z=ie)}return j(z);case G:e:{for(Re=V.key;M!==null;){if(M.key===Re)if(M.tag===4&&M.stateNode.containerInfo===V.containerInfo&&M.stateNode.implementation===V.implementation){o(z,M.sibling),M=m(M,V.children||[]),M.return=z,z=M;break e}else{o(z,M);break}else a(z,M);M=M.sibling}M=vf(V,z.mode,ie),M.return=z,z=M}return j(z);case B:return Re=V._init,zt(z,M,Re(V._payload),ie)}if(Ie(V))return ye(z,M,V,ie);if(U(V))return be(z,M,V,ie);Wl(z,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,M!==null&&M.tag===6?(o(z,M.sibling),M=m(M,V),M.return=z,z=M):(o(z,M),M=xf(V,z.mode,ie),M.return=z,z=M),j(z)):o(z,M)}return zt}var Ja=Th(!0),Ih=Th(!1),Ql=ks(null),Hl=null,ei=null,Cu=null;function _u(){Cu=ei=Hl=null}function Pu(r){var a=Ql.current;bt(Ql),r._currentValue=a}function Eu(r,a,o){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===o)break;r=r.return}}function ti(r,a){Hl=r,Cu=ei=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&a)!==0&&(Tn=!0),r.firstContext=null)}function Zn(r){var a=r._currentValue;if(Cu!==r)if(r={context:r,memoizedValue:a,next:null},ei===null){if(Hl===null)throw Error(s(308));ei=r,Hl.dependencies={lanes:0,firstContext:r}}else ei=ei.next=r;return a}var ma=null;function Tu(r){ma===null?ma=[r]:ma.push(r)}function Rh(r,a,o,d){var m=a.interleaved;return m===null?(o.next=o,Tu(a)):(o.next=m.next,m.next=o),a.interleaved=o,es(r,d)}function es(r,a){r.lanes|=a;var o=r.alternate;for(o!==null&&(o.lanes|=a),o=r,r=r.return;r!==null;)r.childLanes|=a,o=r.alternate,o!==null&&(o.childLanes|=a),o=r,r=r.return;return o.tag===3?o.stateNode:null}var Ps=!1;function Iu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ah(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ts(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function Es(r,a,o){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(rt&2)!==0){var m=d.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),d.pending=a,es(r,o)}return m=d.interleaved,m===null?(a.next=a,Tu(d)):(a.next=m.next,m.next=a),d.interleaved=a,es(r,o)}function Gl(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194240)!==0)){var d=a.lanes;d&=r.pendingLanes,o|=d,a.lanes=o,Wd(r,o)}}function Lh(r,a){var o=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var j={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};g===null?m=g=j:g=g.next=j,o=o.next}while(o!==null);g===null?m=g=a:g=g.next=a}else m=g=a;o={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}function Kl(r,a,o,d){var m=r.updateQueue;Ps=!1;var g=m.firstBaseUpdate,j=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var D=R,W=D.next;D.next=null,j===null?g=W:j.next=W,j=D;var te=r.alternate;te!==null&&(te=te.updateQueue,R=te.lastBaseUpdate,R!==j&&(R===null?te.firstBaseUpdate=W:R.next=W,te.lastBaseUpdate=D))}if(g!==null){var ne=m.baseState;j=0,te=W=D=null,R=g;do{var J=R.lane,pe=R.eventTime;if((d&J)===J){te!==null&&(te=te.next={eventTime:pe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ye=r,be=R;switch(J=a,pe=o,be.tag){case 1:if(ye=be.payload,typeof ye=="function"){ne=ye.call(pe,ne,J);break e}ne=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=be.payload,J=typeof ye=="function"?ye.call(pe,ne,J):ye,J==null)break e;ne=Q({},ne,J);break e;case 2:Ps=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,J=m.effects,J===null?m.effects=[R]:J.push(R))}else pe={eventTime:pe,lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},te===null?(W=te=pe,D=ne):te=te.next=pe,j|=J;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;J=R,R=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);if(te===null&&(D=ne),m.baseState=D,m.firstBaseUpdate=W,m.lastBaseUpdate=te,a=m.shared.interleaved,a!==null){m=a;do j|=m.lane,m=m.next;while(m!==a)}else g===null&&(m.shared.lanes=0);ga|=j,r.lanes=j,r.memoizedState=ne}}function Dh(r,a,o){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var d=r[a],m=d.callback;if(m!==null){if(d.callback=null,d=o,typeof m!="function")throw Error(s(191,m));m.call(d)}}}var uo={},Lr=ks(uo),fo=ks(uo),mo=ks(uo);function pa(r){if(r===uo)throw Error(s(174));return r}function Ru(r,a){switch(vt(mo,a),vt(fo,r),vt(Lr,uo),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Gr(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=Gr(a,r)}bt(Lr),vt(Lr,a)}function ni(){bt(Lr),bt(fo),bt(mo)}function Mh(r){pa(mo.current);var a=pa(Lr.current),o=Gr(a,r.type);a!==o&&(vt(fo,r),vt(Lr,o))}function Au(r){fo.current===r&&(bt(Lr),bt(fo))}var Pt=ks(0);function Zl(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Lu=[];function Du(){for(var r=0;r<Lu.length;r++)Lu[r]._workInProgressVersionPrimary=null;Lu.length=0}var Yl=P.ReactCurrentDispatcher,Mu=P.ReactCurrentBatchConfig,ha=0,Et=null,Ut=null,Kt=null,Xl=!1,po=!1,ho=0,x1=0;function gn(){throw Error(s(321))}function Ou(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!dr(r[o],a[o]))return!1;return!0}function Fu(r,a,o,d,m,g){if(ha=g,Et=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Yl.current=r===null||r.memoizedState===null?b1:j1,r=o(d,m),po){g=0;do{if(po=!1,ho=0,25<=g)throw Error(s(301));g+=1,Kt=Ut=null,a.updateQueue=null,Yl.current=N1,r=o(d,m)}while(po)}if(Yl.current=tc,a=Ut!==null&&Ut.next!==null,ha=0,Kt=Ut=Et=null,Xl=!1,a)throw Error(s(300));return r}function zu(){var r=ho!==0;return ho=0,r}function Dr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Et.memoizedState=Kt=r:Kt=Kt.next=r,Kt}function Yn(){if(Ut===null){var r=Et.alternate;r=r!==null?r.memoizedState:null}else r=Ut.next;var a=Kt===null?Et.memoizedState:Kt.next;if(a!==null)Kt=a,Ut=r;else{if(r===null)throw Error(s(310));Ut=r,r={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Kt===null?Et.memoizedState=Kt=r:Kt=Kt.next=r}return Kt}function go(r,a){return typeof a=="function"?a(r):a}function $u(r){var a=Yn(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var d=Ut,m=d.baseQueue,g=o.pending;if(g!==null){if(m!==null){var j=m.next;m.next=g.next,g.next=j}d.baseQueue=m=g,o.pending=null}if(m!==null){g=m.next,d=d.baseState;var R=j=null,D=null,W=g;do{var te=W.lane;if((ha&te)===te)D!==null&&(D=D.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),d=W.hasEagerState?W.eagerState:r(d,W.action);else{var ne={lane:te,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};D===null?(R=D=ne,j=d):D=D.next=ne,Et.lanes|=te,ga|=te}W=W.next}while(W!==null&&W!==g);D===null?j=d:D.next=R,dr(d,a.memoizedState)||(Tn=!0),a.memoizedState=d,a.baseState=j,a.baseQueue=D,o.lastRenderedState=d}if(r=o.interleaved,r!==null){m=r;do g=m.lane,Et.lanes|=g,ga|=g,m=m.next;while(m!==r)}else m===null&&(o.lanes=0);return[a.memoizedState,o.dispatch]}function Bu(r){var a=Yn(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var d=o.dispatch,m=o.pending,g=a.memoizedState;if(m!==null){o.pending=null;var j=m=m.next;do g=r(g,j.action),j=j.next;while(j!==m);dr(g,a.memoizedState)||(Tn=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),o.lastRenderedState=g}return[g,d]}function Oh(){}function Fh(r,a){var o=Et,d=Yn(),m=a(),g=!dr(d.memoizedState,m);if(g&&(d.memoizedState=m,Tn=!0),d=d.queue,Vu(Bh.bind(null,o,d,r),[r]),d.getSnapshot!==a||g||Kt!==null&&Kt.memoizedState.tag&1){if(o.flags|=2048,xo(9,$h.bind(null,o,d,m,a),void 0,null),Zt===null)throw Error(s(349));(ha&30)!==0||zh(o,a,m)}return m}function zh(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=Et.updateQueue,a===null?(a={lastEffect:null,stores:null},Et.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function $h(r,a,o,d){a.value=o,a.getSnapshot=d,Vh(a)&&qh(r)}function Bh(r,a,o){return o(function(){Vh(a)&&qh(r)})}function Vh(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!dr(r,o)}catch{return!0}}function qh(r){var a=es(r,1);a!==null&&hr(a,r,1,-1)}function Uh(r){var a=Dr();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:r},a.queue=r,r=r.dispatch=w1.bind(null,Et,r),[a.memoizedState,r]}function xo(r,a,o,d){return r={tag:r,create:a,destroy:o,deps:d,next:null},a=Et.updateQueue,a===null?(a={lastEffect:null,stores:null},Et.updateQueue=a,a.lastEffect=r.next=r):(o=a.lastEffect,o===null?a.lastEffect=r.next=r:(d=o.next,o.next=r,r.next=d,a.lastEffect=r)),r}function Wh(){return Yn().memoizedState}function Jl(r,a,o,d){var m=Dr();Et.flags|=r,m.memoizedState=xo(1|a,o,void 0,d===void 0?null:d)}function ec(r,a,o,d){var m=Yn();d=d===void 0?null:d;var g=void 0;if(Ut!==null){var j=Ut.memoizedState;if(g=j.destroy,d!==null&&Ou(d,j.deps)){m.memoizedState=xo(a,o,g,d);return}}Et.flags|=r,m.memoizedState=xo(1|a,o,g,d)}function Qh(r,a){return Jl(8390656,8,r,a)}function Vu(r,a){return ec(2048,8,r,a)}function Hh(r,a){return ec(4,2,r,a)}function Gh(r,a){return ec(4,4,r,a)}function Kh(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function Zh(r,a,o){return o=o!=null?o.concat([r]):null,ec(4,4,Kh.bind(null,a,r),o)}function qu(){}function Yh(r,a){var o=Yn();a=a===void 0?null:a;var d=o.memoizedState;return d!==null&&a!==null&&Ou(a,d[1])?d[0]:(o.memoizedState=[r,a],r)}function Xh(r,a){var o=Yn();a=a===void 0?null:a;var d=o.memoizedState;return d!==null&&a!==null&&Ou(a,d[1])?d[0]:(r=r(),o.memoizedState=[r,a],r)}function Jh(r,a,o){return(ha&21)===0?(r.baseState&&(r.baseState=!1,Tn=!0),r.memoizedState=o):(dr(o,a)||(o=Ep(),Et.lanes|=o,ga|=o,r.baseState=!0),a)}function v1(r,a){var o=ut;ut=o!==0&&4>o?o:4,r(!0);var d=Mu.transition;Mu.transition={};try{r(!1),a()}finally{ut=o,Mu.transition=d}}function eg(){return Yn().memoizedState}function y1(r,a,o){var d=As(r);if(o={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null},tg(r))ng(a,o);else if(o=Rh(r,a,o,d),o!==null){var m=Sn();hr(o,r,d,m),rg(o,a,d)}}function w1(r,a,o){var d=As(r),m={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null};if(tg(r))ng(a,m);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var j=a.lastRenderedState,R=g(j,o);if(m.hasEagerState=!0,m.eagerState=R,dr(R,j)){var D=a.interleaved;D===null?(m.next=m,Tu(a)):(m.next=D.next,D.next=m),a.interleaved=m;return}}catch{}o=Rh(r,a,m,d),o!==null&&(m=Sn(),hr(o,r,d,m),rg(o,a,d))}}function tg(r){var a=r.alternate;return r===Et||a!==null&&a===Et}function ng(r,a){po=Xl=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function rg(r,a,o){if((o&4194240)!==0){var d=a.lanes;d&=r.pendingLanes,o|=d,a.lanes=o,Wd(r,o)}}var tc={readContext:Zn,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},b1={readContext:Zn,useCallback:function(r,a){return Dr().memoizedState=[r,a===void 0?null:a],r},useContext:Zn,useEffect:Qh,useImperativeHandle:function(r,a,o){return o=o!=null?o.concat([r]):null,Jl(4194308,4,Kh.bind(null,a,r),o)},useLayoutEffect:function(r,a){return Jl(4194308,4,r,a)},useInsertionEffect:function(r,a){return Jl(4,2,r,a)},useMemo:function(r,a){var o=Dr();return a=a===void 0?null:a,r=r(),o.memoizedState=[r,a],r},useReducer:function(r,a,o){var d=Dr();return a=o!==void 0?o(a):a,d.memoizedState=d.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},d.queue=r,r=r.dispatch=y1.bind(null,Et,r),[d.memoizedState,r]},useRef:function(r){var a=Dr();return r={current:r},a.memoizedState=r},useState:Uh,useDebugValue:qu,useDeferredValue:function(r){return Dr().memoizedState=r},useTransition:function(){var r=Uh(!1),a=r[0];return r=v1.bind(null,r[1]),Dr().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,o){var d=Et,m=Dr();if(Ct){if(o===void 0)throw Error(s(407));o=o()}else{if(o=a(),Zt===null)throw Error(s(349));(ha&30)!==0||zh(d,a,o)}m.memoizedState=o;var g={value:o,getSnapshot:a};return m.queue=g,Qh(Bh.bind(null,d,g,r),[r]),d.flags|=2048,xo(9,$h.bind(null,d,g,o,a),void 0,null),o},useId:function(){var r=Dr(),a=Zt.identifierPrefix;if(Ct){var o=Jr,d=Xr;o=(d&~(1<<32-cr(d)-1)).toString(32)+o,a=":"+a+"R"+o,o=ho++,0<o&&(a+="H"+o.toString(32)),a+=":"}else o=x1++,a=":"+a+"r"+o.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},j1={readContext:Zn,useCallback:Yh,useContext:Zn,useEffect:Vu,useImperativeHandle:Zh,useInsertionEffect:Hh,useLayoutEffect:Gh,useMemo:Xh,useReducer:$u,useRef:Wh,useState:function(){return $u(go)},useDebugValue:qu,useDeferredValue:function(r){var a=Yn();return Jh(a,Ut.memoizedState,r)},useTransition:function(){var r=$u(go)[0],a=Yn().memoizedState;return[r,a]},useMutableSource:Oh,useSyncExternalStore:Fh,useId:eg,unstable_isNewReconciler:!1},N1={readContext:Zn,useCallback:Yh,useContext:Zn,useEffect:Vu,useImperativeHandle:Zh,useInsertionEffect:Hh,useLayoutEffect:Gh,useMemo:Xh,useReducer:Bu,useRef:Wh,useState:function(){return Bu(go)},useDebugValue:qu,useDeferredValue:function(r){var a=Yn();return Ut===null?a.memoizedState=r:Jh(a,Ut.memoizedState,r)},useTransition:function(){var r=Bu(go)[0],a=Yn().memoizedState;return[r,a]},useMutableSource:Oh,useSyncExternalStore:Fh,useId:eg,unstable_isNewReconciler:!1};function fr(r,a){if(r&&r.defaultProps){a=Q({},a),r=r.defaultProps;for(var o in r)a[o]===void 0&&(a[o]=r[o]);return a}return a}function Uu(r,a,o,d){a=r.memoizedState,o=o(d,a),o=o==null?a:Q({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var nc={isMounted:function(r){return(r=r._reactInternals)?it(r)===r:!1},enqueueSetState:function(r,a,o){r=r._reactInternals;var d=Sn(),m=As(r),g=ts(d,m);g.payload=a,o!=null&&(g.callback=o),a=Es(r,g,m),a!==null&&(hr(a,r,m,d),Gl(a,r,m))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var d=Sn(),m=As(r),g=ts(d,m);g.tag=1,g.payload=a,o!=null&&(g.callback=o),a=Es(r,g,m),a!==null&&(hr(a,r,m,d),Gl(a,r,m))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=Sn(),d=As(r),m=ts(o,d);m.tag=2,a!=null&&(m.callback=a),a=Es(r,m,d),a!==null&&(hr(a,r,d,o),Gl(a,r,d))}};function sg(r,a,o,d,m,g,j){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,j):a.prototype&&a.prototype.isPureReactComponent?!no(o,d)||!no(m,g):!0}function ag(r,a,o){var d=!1,m=Cs,g=a.contextType;return typeof g=="object"&&g!==null?g=Zn(g):(m=En(a)?da:hn.current,d=a.contextTypes,g=(d=d!=null)?Ka(r,m):Cs),a=new a(o,g),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=nc,r.stateNode=a,a._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=m,r.__reactInternalMemoizedMaskedChildContext=g),a}function ig(r,a,o,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,d),a.state!==r&&nc.enqueueReplaceState(a,a.state,null)}function Wu(r,a,o,d){var m=r.stateNode;m.props=o,m.state=r.memoizedState,m.refs={},Iu(r);var g=a.contextType;typeof g=="object"&&g!==null?m.context=Zn(g):(g=En(a)?da:hn.current,m.context=Ka(r,g)),m.state=r.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Uu(r,a,g,o),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&nc.enqueueReplaceState(m,m.state,null),Kl(r,o,m,d),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308)}function ri(r,a){try{var o="",d=a;do o+=$e(d),d=d.return;while(d);var m=o}catch(g){m=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:a,stack:m,digest:null}}function Qu(r,a,o){return{value:r,source:null,stack:o??null,digest:a??null}}function Hu(r,a){try{console.error(a.value)}catch(o){setTimeout(function(){throw o})}}var S1=typeof WeakMap=="function"?WeakMap:Map;function og(r,a,o){o=ts(-1,o),o.tag=3,o.payload={element:null};var d=a.value;return o.callback=function(){cc||(cc=!0,cf=d),Hu(r,a)},o}function lg(r,a,o){o=ts(-1,o),o.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=a.value;o.payload=function(){return d(m)},o.callback=function(){Hu(r,a)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(o.callback=function(){Hu(r,a),typeof d!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var j=a.stack;this.componentDidCatch(a.value,{componentStack:j!==null?j:""})}),o}function cg(r,a,o){var d=r.pingCache;if(d===null){d=r.pingCache=new S1;var m=new Set;d.set(a,m)}else m=d.get(a),m===void 0&&(m=new Set,d.set(a,m));m.has(o)||(m.add(o),r=F1.bind(null,r,a,o),a.then(r,r))}function dg(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function ug(r,a,o,d,m){return(r.mode&1)===0?(r===a?r.flags|=65536:(r.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(a=ts(-1,1),a.tag=2,Es(o,a,1))),o.lanes|=1),r):(r.flags|=65536,r.lanes=m,r)}var k1=P.ReactCurrentOwner,Tn=!1;function Nn(r,a,o,d){a.child=r===null?Ih(a,null,o,d):Ja(a,r.child,o,d)}function fg(r,a,o,d,m){o=o.render;var g=a.ref;return ti(a,m),d=Fu(r,a,o,d,g,m),o=zu(),r!==null&&!Tn?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~m,ns(r,a,m)):(Ct&&o&&bu(a),a.flags|=1,Nn(r,a,d,m),a.child)}function mg(r,a,o,d,m){if(r===null){var g=o.type;return typeof g=="function"&&!gf(g)&&g.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(a.tag=15,a.type=g,pg(r,a,g,d,m)):(r=hc(o.type,null,d,a,a.mode,m),r.ref=a.ref,r.return=a,a.child=r)}if(g=r.child,(r.lanes&m)===0){var j=g.memoizedProps;if(o=o.compare,o=o!==null?o:no,o(j,d)&&r.ref===a.ref)return ns(r,a,m)}return a.flags|=1,r=Ds(g,d),r.ref=a.ref,r.return=a,a.child=r}function pg(r,a,o,d,m){if(r!==null){var g=r.memoizedProps;if(no(g,d)&&r.ref===a.ref)if(Tn=!1,a.pendingProps=d=g,(r.lanes&m)!==0)(r.flags&131072)!==0&&(Tn=!0);else return a.lanes=r.lanes,ns(r,a,m)}return Gu(r,a,o,d,m)}function hg(r,a,o){var d=a.pendingProps,m=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(ai,zn),zn|=o;else{if((o&1073741824)===0)return r=g!==null?g.baseLanes|o:o,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,vt(ai,zn),zn|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:o,vt(ai,zn),zn|=d}else g!==null?(d=g.baseLanes|o,a.memoizedState=null):d=o,vt(ai,zn),zn|=d;return Nn(r,a,m,o),a.child}function gg(r,a){var o=a.ref;(r===null&&o!==null||r!==null&&r.ref!==o)&&(a.flags|=512,a.flags|=2097152)}function Gu(r,a,o,d,m){var g=En(o)?da:hn.current;return g=Ka(a,g),ti(a,m),o=Fu(r,a,o,d,g,m),d=zu(),r!==null&&!Tn?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~m,ns(r,a,m)):(Ct&&d&&bu(a),a.flags|=1,Nn(r,a,o,m),a.child)}function xg(r,a,o,d,m){if(En(o)){var g=!0;$l(a)}else g=!1;if(ti(a,m),a.stateNode===null)sc(r,a),ag(a,o,d),Wu(a,o,d,m),d=!0;else if(r===null){var j=a.stateNode,R=a.memoizedProps;j.props=R;var D=j.context,W=o.contextType;typeof W=="object"&&W!==null?W=Zn(W):(W=En(o)?da:hn.current,W=Ka(a,W));var te=o.getDerivedStateFromProps,ne=typeof te=="function"||typeof j.getSnapshotBeforeUpdate=="function";ne||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(R!==d||D!==W)&&ig(a,j,d,W),Ps=!1;var J=a.memoizedState;j.state=J,Kl(a,d,j,m),D=a.memoizedState,R!==d||J!==D||Pn.current||Ps?(typeof te=="function"&&(Uu(a,o,te,d),D=a.memoizedState),(R=Ps||sg(a,o,R,d,J,D,W))?(ne||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(a.flags|=4194308)):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=D),j.props=d,j.state=D,j.context=W,d=R):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{j=a.stateNode,Ah(r,a),R=a.memoizedProps,W=a.type===a.elementType?R:fr(a.type,R),j.props=W,ne=a.pendingProps,J=j.context,D=o.contextType,typeof D=="object"&&D!==null?D=Zn(D):(D=En(o)?da:hn.current,D=Ka(a,D));var pe=o.getDerivedStateFromProps;(te=typeof pe=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(R!==ne||J!==D)&&ig(a,j,d,D),Ps=!1,J=a.memoizedState,j.state=J,Kl(a,d,j,m);var ye=a.memoizedState;R!==ne||J!==ye||Pn.current||Ps?(typeof pe=="function"&&(Uu(a,o,pe,d),ye=a.memoizedState),(W=Ps||sg(a,o,W,d,J,ye,D)||!1)?(te||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(d,ye,D),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(d,ye,D)),typeof j.componentDidUpdate=="function"&&(a.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof j.componentDidUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=ye),j.props=d,j.state=ye,j.context=D,d=W):(typeof j.componentDidUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(a.flags|=1024),d=!1)}return Ku(r,a,o,d,g,m)}function Ku(r,a,o,d,m,g){gg(r,a);var j=(a.flags&128)!==0;if(!d&&!j)return m&&jh(a,o,!1),ns(r,a,g);d=a.stateNode,k1.current=a;var R=j&&typeof o.getDerivedStateFromError!="function"?null:d.render();return a.flags|=1,r!==null&&j?(a.child=Ja(a,r.child,null,g),a.child=Ja(a,null,R,g)):Nn(r,a,R,g),a.memoizedState=d.state,m&&jh(a,o,!0),a.child}function vg(r){var a=r.stateNode;a.pendingContext?wh(r,a.pendingContext,a.pendingContext!==a.context):a.context&&wh(r,a.context,!1),Ru(r,a.containerInfo)}function yg(r,a,o,d,m){return Xa(),ku(m),a.flags|=256,Nn(r,a,o,d),a.child}var Zu={dehydrated:null,treeContext:null,retryLane:0};function Yu(r){return{baseLanes:r,cachePool:null,transitions:null}}function wg(r,a,o){var d=a.pendingProps,m=Pt.current,g=!1,j=(a.flags&128)!==0,R;if((R=j)||(R=r!==null&&r.memoizedState===null?!1:(m&2)!==0),R?(g=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(m|=1),vt(Pt,m&1),r===null)return Su(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((a.mode&1)===0?a.lanes=1:r.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(j=d.children,r=d.fallback,g?(d=a.mode,g=a.child,j={mode:"hidden",children:j},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=j):g=gc(j,d,0,null),r=wa(r,d,o,null),g.return=a,r.return=a,g.sibling=r,a.child=g,a.child.memoizedState=Yu(o),a.memoizedState=Zu,r):Xu(a,j));if(m=r.memoizedState,m!==null&&(R=m.dehydrated,R!==null))return C1(r,a,j,d,R,m,o);if(g){g=d.fallback,j=a.mode,m=r.child,R=m.sibling;var D={mode:"hidden",children:d.children};return(j&1)===0&&a.child!==m?(d=a.child,d.childLanes=0,d.pendingProps=D,a.deletions=null):(d=Ds(m,D),d.subtreeFlags=m.subtreeFlags&14680064),R!==null?g=Ds(R,g):(g=wa(g,j,o,null),g.flags|=2),g.return=a,d.return=a,d.sibling=g,a.child=d,d=g,g=a.child,j=r.child.memoizedState,j=j===null?Yu(o):{baseLanes:j.baseLanes|o,cachePool:null,transitions:j.transitions},g.memoizedState=j,g.childLanes=r.childLanes&~o,a.memoizedState=Zu,d}return g=r.child,r=g.sibling,d=Ds(g,{mode:"visible",children:d.children}),(a.mode&1)===0&&(d.lanes=o),d.return=a,d.sibling=null,r!==null&&(o=a.deletions,o===null?(a.deletions=[r],a.flags|=16):o.push(r)),a.child=d,a.memoizedState=null,d}function Xu(r,a){return a=gc({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function rc(r,a,o,d){return d!==null&&ku(d),Ja(a,r.child,null,o),r=Xu(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function C1(r,a,o,d,m,g,j){if(o)return a.flags&256?(a.flags&=-257,d=Qu(Error(s(422))),rc(r,a,j,d)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(g=d.fallback,m=a.mode,d=gc({mode:"visible",children:d.children},m,0,null),g=wa(g,m,j,null),g.flags|=2,d.return=a,g.return=a,d.sibling=g,a.child=d,(a.mode&1)!==0&&Ja(a,r.child,null,j),a.child.memoizedState=Yu(j),a.memoizedState=Zu,g);if((a.mode&1)===0)return rc(r,a,j,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var R=d.dgst;return d=R,g=Error(s(419)),d=Qu(g,d,void 0),rc(r,a,j,d)}if(R=(j&r.childLanes)!==0,Tn||R){if(d=Zt,d!==null){switch(j&-j){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|j))!==0?0:m,m!==0&&m!==g.retryLane&&(g.retryLane=m,es(r,m),hr(d,r,m,-1))}return hf(),d=Qu(Error(s(421))),rc(r,a,j,d)}return m.data==="$?"?(a.flags|=128,a.child=r.child,a=z1.bind(null,r),m._reactRetry=a,null):(r=g.treeContext,Fn=Ss(m.nextSibling),On=a,Ct=!0,ur=null,r!==null&&(Gn[Kn++]=Xr,Gn[Kn++]=Jr,Gn[Kn++]=ua,Xr=r.id,Jr=r.overflow,ua=a),a=Xu(a,d.children),a.flags|=4096,a)}function bg(r,a,o){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),Eu(r.return,a,o)}function Ju(r,a,o,d,m){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:m}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=o,g.tailMode=m)}function jg(r,a,o){var d=a.pendingProps,m=d.revealOrder,g=d.tail;if(Nn(r,a,d.children,o),d=Pt.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&bg(r,o,a);else if(r.tag===19)bg(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(vt(Pt,d),(a.mode&1)===0)a.memoizedState=null;else switch(m){case"forwards":for(o=a.child,m=null;o!==null;)r=o.alternate,r!==null&&Zl(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=a.child,a.child=null):(m=o.sibling,o.sibling=null),Ju(a,!1,m,o,g);break;case"backwards":for(o=null,m=a.child,a.child=null;m!==null;){if(r=m.alternate,r!==null&&Zl(r)===null){a.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}Ju(a,!0,o,null,g);break;case"together":Ju(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function sc(r,a){(a.mode&1)===0&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function ns(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),ga|=a.lanes,(o&a.childLanes)===0)return null;if(r!==null&&a.child!==r.child)throw Error(s(153));if(a.child!==null){for(r=a.child,o=Ds(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=Ds(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function _1(r,a,o){switch(a.tag){case 3:vg(a),Xa();break;case 5:Mh(a);break;case 1:En(a.type)&&$l(a);break;case 4:Ru(a,a.stateNode.containerInfo);break;case 10:var d=a.type._context,m=a.memoizedProps.value;vt(Ql,d._currentValue),d._currentValue=m;break;case 13:if(d=a.memoizedState,d!==null)return d.dehydrated!==null?(vt(Pt,Pt.current&1),a.flags|=128,null):(o&a.child.childLanes)!==0?wg(r,a,o):(vt(Pt,Pt.current&1),r=ns(r,a,o),r!==null?r.sibling:null);vt(Pt,Pt.current&1);break;case 19:if(d=(o&a.childLanes)!==0,(r.flags&128)!==0){if(d)return jg(r,a,o);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),vt(Pt,Pt.current),d)break;return null;case 22:case 23:return a.lanes=0,hg(r,a,o)}return ns(r,a,o)}var Ng,ef,Sg,kg;Ng=function(r,a){for(var o=a.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},ef=function(){},Sg=function(r,a,o,d){var m=r.memoizedProps;if(m!==d){r=a.stateNode,pa(Lr.current);var g=null;switch(o){case"input":m=Je(r,m),d=Je(r,d),g=[];break;case"select":m=Q({},m,{value:void 0}),d=Q({},d,{value:void 0}),g=[];break;case"textarea":m=Hn(r,m),d=Hn(r,d),g=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Ol)}Mi(o,d);var j;o=null;for(W in m)if(!d.hasOwnProperty(W)&&m.hasOwnProperty(W)&&m[W]!=null)if(W==="style"){var R=m[W];for(j in R)R.hasOwnProperty(j)&&(o||(o={}),o[j]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(l.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in d){var D=d[W];if(R=m?.[W],d.hasOwnProperty(W)&&D!==R&&(D!=null||R!=null))if(W==="style")if(R){for(j in R)!R.hasOwnProperty(j)||D&&D.hasOwnProperty(j)||(o||(o={}),o[j]="");for(j in D)D.hasOwnProperty(j)&&R[j]!==D[j]&&(o||(o={}),o[j]=D[j])}else o||(g||(g=[]),g.push(W,o)),o=D;else W==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,R=R?R.__html:void 0,D!=null&&R!==D&&(g=g||[]).push(W,D)):W==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(W,""+D):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(l.hasOwnProperty(W)?(D!=null&&W==="onScroll"&&wt("scroll",r),g||R===D||(g=[])):(g=g||[]).push(W,D))}o&&(g=g||[]).push("style",o);var W=g;(a.updateQueue=W)&&(a.flags|=4)}},kg=function(r,a,o,d){o!==d&&(a.flags|=4)};function vo(r,a){if(!Ct)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function xn(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,d=0;if(a)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=o,a}function P1(r,a,o){var d=a.pendingProps;switch(ju(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(a),null;case 1:return En(a.type)&&zl(),xn(a),null;case 3:return d=a.stateNode,ni(),bt(Pn),bt(hn),Du(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Ul(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ur!==null&&(ff(ur),ur=null))),ef(r,a),xn(a),null;case 5:Au(a);var m=pa(mo.current);if(o=a.type,r!==null&&a.stateNode!=null)Sg(r,a,o,d,m),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!d){if(a.stateNode===null)throw Error(s(166));return xn(a),null}if(r=pa(Lr.current),Ul(a)){d=a.stateNode,o=a.type;var g=a.memoizedProps;switch(d[Ar]=a,d[oo]=g,r=(a.mode&1)!==0,o){case"dialog":wt("cancel",d),wt("close",d);break;case"iframe":case"object":case"embed":wt("load",d);break;case"video":case"audio":for(m=0;m<so.length;m++)wt(so[m],d);break;case"source":wt("error",d);break;case"img":case"image":case"link":wt("error",d),wt("load",d);break;case"details":wt("toggle",d);break;case"input":sn(d,g),wt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},wt("invalid",d);break;case"textarea":Aa(d,g),wt("invalid",d)}Mi(o,g),m=null;for(var j in g)if(g.hasOwnProperty(j)){var R=g[j];j==="children"?typeof R=="string"?d.textContent!==R&&(g.suppressHydrationWarning!==!0&&Ml(d.textContent,R,r),m=["children",R]):typeof R=="number"&&d.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&Ml(d.textContent,R,r),m=["children",""+R]):l.hasOwnProperty(j)&&R!=null&&j==="onScroll"&&wt("scroll",d)}switch(o){case"input":Ke(d),O(d,g,!0);break;case"textarea":Ke(d),ml(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=Ol)}d=m,a.updateQueue=d,d!==null&&(a.flags|=4)}else{j=m.nodeType===9?m:m.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=aa(o)),r==="http://www.w3.org/1999/xhtml"?o==="script"?(r=j.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=j.createElement(o,{is:d.is}):(r=j.createElement(o),o==="select"&&(j=r,d.multiple?j.multiple=!0:d.size&&(j.size=d.size))):r=j.createElementNS(r,o),r[Ar]=a,r[oo]=d,Ng(r,a,!1,!1),a.stateNode=r;e:{switch(j=Oi(o,d),o){case"dialog":wt("cancel",r),wt("close",r),m=d;break;case"iframe":case"object":case"embed":wt("load",r),m=d;break;case"video":case"audio":for(m=0;m<so.length;m++)wt(so[m],r);m=d;break;case"source":wt("error",r),m=d;break;case"img":case"image":case"link":wt("error",r),wt("load",r),m=d;break;case"details":wt("toggle",r),m=d;break;case"input":sn(r,d),m=Je(r,d),wt("invalid",r);break;case"option":m=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},m=Q({},d,{value:void 0}),wt("invalid",r);break;case"textarea":Aa(r,d),m=Hn(r,d),wt("invalid",r);break;default:m=d}Mi(o,m),R=m;for(g in R)if(R.hasOwnProperty(g)){var D=R[g];g==="style"?La(r,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&pn(r,D)):g==="children"?typeof D=="string"?(o!=="textarea"||D!=="")&&Ir(r,D):typeof D=="number"&&Ir(r,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(l.hasOwnProperty(g)?D!=null&&g==="onScroll"&&wt("scroll",r):D!=null&&L(r,g,D,j))}switch(o){case"input":Ke(r),O(r,d,!1);break;case"textarea":Ke(r),ml(r);break;case"option":d.value!=null&&r.setAttribute("value",""+de(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?an(r,!!d.multiple,g,!1):d.defaultValue!=null&&an(r,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(r.onclick=Ol)}switch(o){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return xn(a),null;case 6:if(r&&a.stateNode!=null)kg(r,a,r.memoizedProps,d);else{if(typeof d!="string"&&a.stateNode===null)throw Error(s(166));if(o=pa(mo.current),pa(Lr.current),Ul(a)){if(d=a.stateNode,o=a.memoizedProps,d[Ar]=a,(g=d.nodeValue!==o)&&(r=On,r!==null))switch(r.tag){case 3:Ml(d.nodeValue,o,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ml(d.nodeValue,o,(r.mode&1)!==0)}g&&(a.flags|=4)}else d=(o.nodeType===9?o:o.ownerDocument).createTextNode(d),d[Ar]=a,a.stateNode=d}return xn(a),null;case 13:if(bt(Pt),d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ct&&Fn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Ph(),Xa(),a.flags|=98560,g=!1;else if(g=Ul(a),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(s(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Ar]=a}else Xa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;xn(a),g=!1}else ur!==null&&(ff(ur),ur=null),g=!0;if(!g)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=o,a):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(a.child.flags|=8192,(a.mode&1)!==0&&(r===null||(Pt.current&1)!==0?Wt===0&&(Wt=3):hf())),a.updateQueue!==null&&(a.flags|=4),xn(a),null);case 4:return ni(),ef(r,a),r===null&&ao(a.stateNode.containerInfo),xn(a),null;case 10:return Pu(a.type._context),xn(a),null;case 17:return En(a.type)&&zl(),xn(a),null;case 19:if(bt(Pt),g=a.memoizedState,g===null)return xn(a),null;if(d=(a.flags&128)!==0,j=g.rendering,j===null)if(d)vo(g,!1);else{if(Wt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(j=Zl(r),j!==null){for(a.flags|=128,vo(g,!1),d=j.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),a.subtreeFlags=0,d=o,o=a.child;o!==null;)g=o,r=d,g.flags&=14680066,j=g.alternate,j===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=j.childLanes,g.lanes=j.lanes,g.child=j.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=j.memoizedProps,g.memoizedState=j.memoizedState,g.updateQueue=j.updateQueue,g.type=j.type,r=j.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),o=o.sibling;return vt(Pt,Pt.current&1|2),a.child}r=r.sibling}g.tail!==null&&Ft()>ii&&(a.flags|=128,d=!0,vo(g,!1),a.lanes=4194304)}else{if(!d)if(r=Zl(j),r!==null){if(a.flags|=128,d=!0,o=r.updateQueue,o!==null&&(a.updateQueue=o,a.flags|=4),vo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!j.alternate&&!Ct)return xn(a),null}else 2*Ft()-g.renderingStartTime>ii&&o!==1073741824&&(a.flags|=128,d=!0,vo(g,!1),a.lanes=4194304);g.isBackwards?(j.sibling=a.child,a.child=j):(o=g.last,o!==null?o.sibling=j:a.child=j,g.last=j)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Ft(),a.sibling=null,o=Pt.current,vt(Pt,d?o&1|2:o&1),a):(xn(a),null);case 22:case 23:return pf(),d=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(a.flags|=8192),d&&(a.mode&1)!==0?(zn&1073741824)!==0&&(xn(a),a.subtreeFlags&6&&(a.flags|=8192)):xn(a),null;case 24:return null;case 25:return null}throw Error(s(156,a.tag))}function E1(r,a){switch(ju(a),a.tag){case 1:return En(a.type)&&zl(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return ni(),bt(Pn),bt(hn),Du(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 5:return Au(a),null;case 13:if(bt(Pt),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Xa()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return bt(Pt),null;case 4:return ni(),null;case 10:return Pu(a.type._context),null;case 22:case 23:return pf(),null;case 24:return null;default:return null}}var ac=!1,vn=!1,T1=typeof WeakSet=="function"?WeakSet:Set,xe=null;function si(r,a){var o=r.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(d){Dt(r,a,d)}else o.current=null}function tf(r,a,o){try{o()}catch(d){Dt(r,a,d)}}var Cg=!1;function I1(r,a){if(mu=kl,r=sh(),au(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var m=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var j=0,R=-1,D=-1,W=0,te=0,ne=r,J=null;t:for(;;){for(var pe;ne!==o||m!==0&&ne.nodeType!==3||(R=j+m),ne!==g||d!==0&&ne.nodeType!==3||(D=j+d),ne.nodeType===3&&(j+=ne.nodeValue.length),(pe=ne.firstChild)!==null;)J=ne,ne=pe;for(;;){if(ne===r)break t;if(J===o&&++W===m&&(R=j),J===g&&++te===d&&(D=j),(pe=ne.nextSibling)!==null)break;ne=J,J=ne.parentNode}ne=pe}o=R===-1||D===-1?null:{start:R,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(pu={focusedElem:r,selectionRange:o},kl=!1,xe=a;xe!==null;)if(a=xe,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,xe=r;else for(;xe!==null;){a=xe;try{var ye=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var be=ye.memoizedProps,zt=ye.memoizedState,z=a.stateNode,M=z.getSnapshotBeforeUpdate(a.elementType===a.type?be:fr(a.type,be),zt);z.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var V=a.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ie){Dt(a,a.return,ie)}if(r=a.sibling,r!==null){r.return=a.return,xe=r;break}xe=a.return}return ye=Cg,Cg=!1,ye}function yo(r,a,o){var d=a.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&r)===r){var g=m.destroy;m.destroy=void 0,g!==void 0&&tf(a,o,g)}m=m.next}while(m!==d)}}function ic(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var o=a=a.next;do{if((o.tag&r)===r){var d=o.create;o.destroy=d()}o=o.next}while(o!==a)}}function nf(r){var a=r.ref;if(a!==null){var o=r.stateNode;r.tag,r=o,typeof a=="function"?a(r):a.current=r}}function _g(r){var a=r.alternate;a!==null&&(r.alternate=null,_g(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[Ar],delete a[oo],delete a[vu],delete a[m1],delete a[p1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Pg(r){return r.tag===5||r.tag===3||r.tag===4}function Eg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Pg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function rf(r,a,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?o.nodeType===8?o.parentNode.insertBefore(r,a):o.insertBefore(r,a):(o.nodeType===8?(a=o.parentNode,a.insertBefore(r,o)):(a=o,a.appendChild(r)),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Ol));else if(d!==4&&(r=r.child,r!==null))for(rf(r,a,o),r=r.sibling;r!==null;)rf(r,a,o),r=r.sibling}function sf(r,a,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(sf(r,a,o),r=r.sibling;r!==null;)sf(r,a,o),r=r.sibling}var ln=null,mr=!1;function Ts(r,a,o){for(o=o.child;o!==null;)Tg(r,a,o),o=o.sibling}function Tg(r,a,o){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(yl,o)}catch{}switch(o.tag){case 5:vn||si(o,a);case 6:var d=ln,m=mr;ln=null,Ts(r,a,o),ln=d,mr=m,ln!==null&&(mr?(r=ln,o=o.stateNode,r.nodeType===8?r.parentNode.removeChild(o):r.removeChild(o)):ln.removeChild(o.stateNode));break;case 18:ln!==null&&(mr?(r=ln,o=o.stateNode,r.nodeType===8?xu(r.parentNode,o):r.nodeType===1&&xu(r,o),Zi(r)):xu(ln,o.stateNode));break;case 4:d=ln,m=mr,ln=o.stateNode.containerInfo,mr=!0,Ts(r,a,o),ln=d,mr=m;break;case 0:case 11:case 14:case 15:if(!vn&&(d=o.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var g=m,j=g.destroy;g=g.tag,j!==void 0&&((g&2)!==0||(g&4)!==0)&&tf(o,a,j),m=m.next}while(m!==d)}Ts(r,a,o);break;case 1:if(!vn&&(si(o,a),d=o.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=o.memoizedProps,d.state=o.memoizedState,d.componentWillUnmount()}catch(R){Dt(o,a,R)}Ts(r,a,o);break;case 21:Ts(r,a,o);break;case 22:o.mode&1?(vn=(d=vn)||o.memoizedState!==null,Ts(r,a,o),vn=d):Ts(r,a,o);break;default:Ts(r,a,o)}}function Ig(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var o=r.stateNode;o===null&&(o=r.stateNode=new T1),a.forEach(function(d){var m=$1.bind(null,r,d);o.has(d)||(o.add(d),d.then(m,m))})}}function pr(r,a){var o=a.deletions;if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];try{var g=r,j=a,R=j;e:for(;R!==null;){switch(R.tag){case 5:ln=R.stateNode,mr=!1;break e;case 3:ln=R.stateNode.containerInfo,mr=!0;break e;case 4:ln=R.stateNode.containerInfo,mr=!0;break e}R=R.return}if(ln===null)throw Error(s(160));Tg(g,j,m),ln=null,mr=!1;var D=m.alternate;D!==null&&(D.return=null),m.return=null}catch(W){Dt(m,a,W)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Rg(a,r),a=a.sibling}function Rg(r,a){var o=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(pr(a,r),Mr(r),d&4){try{yo(3,r,r.return),ic(3,r)}catch(be){Dt(r,r.return,be)}try{yo(5,r,r.return)}catch(be){Dt(r,r.return,be)}}break;case 1:pr(a,r),Mr(r),d&512&&o!==null&&si(o,o.return);break;case 5:if(pr(a,r),Mr(r),d&512&&o!==null&&si(o,o.return),r.flags&32){var m=r.stateNode;try{Ir(m,"")}catch(be){Dt(r,r.return,be)}}if(d&4&&(m=r.stateNode,m!=null)){var g=r.memoizedProps,j=o!==null?o.memoizedProps:g,R=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&Dn(m,g),Oi(R,j);var W=Oi(R,g);for(j=0;j<D.length;j+=2){var te=D[j],ne=D[j+1];te==="style"?La(m,ne):te==="dangerouslySetInnerHTML"?pn(m,ne):te==="children"?Ir(m,ne):L(m,te,ne,W)}switch(R){case"input":lr(m,g);break;case"textarea":Di(m,g);break;case"select":var J=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!g.multiple;var pe=g.value;pe!=null?an(m,!!g.multiple,pe,!1):J!==!!g.multiple&&(g.defaultValue!=null?an(m,!!g.multiple,g.defaultValue,!0):an(m,!!g.multiple,g.multiple?[]:"",!1))}m[oo]=g}catch(be){Dt(r,r.return,be)}}break;case 6:if(pr(a,r),Mr(r),d&4){if(r.stateNode===null)throw Error(s(162));m=r.stateNode,g=r.memoizedProps;try{m.nodeValue=g}catch(be){Dt(r,r.return,be)}}break;case 3:if(pr(a,r),Mr(r),d&4&&o!==null&&o.memoizedState.isDehydrated)try{Zi(a.containerInfo)}catch(be){Dt(r,r.return,be)}break;case 4:pr(a,r),Mr(r);break;case 13:pr(a,r),Mr(r),m=r.child,m.flags&8192&&(g=m.memoizedState!==null,m.stateNode.isHidden=g,!g||m.alternate!==null&&m.alternate.memoizedState!==null||(lf=Ft())),d&4&&Ig(r);break;case 22:if(te=o!==null&&o.memoizedState!==null,r.mode&1?(vn=(W=vn)||te,pr(a,r),vn=W):pr(a,r),Mr(r),d&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!te&&(r.mode&1)!==0)for(xe=r,te=r.child;te!==null;){for(ne=xe=te;xe!==null;){switch(J=xe,pe=J.child,J.tag){case 0:case 11:case 14:case 15:yo(4,J,J.return);break;case 1:si(J,J.return);var ye=J.stateNode;if(typeof ye.componentWillUnmount=="function"){d=J,o=J.return;try{a=d,ye.props=a.memoizedProps,ye.state=a.memoizedState,ye.componentWillUnmount()}catch(be){Dt(d,o,be)}}break;case 5:si(J,J.return);break;case 22:if(J.memoizedState!==null){Dg(ne);continue}}pe!==null?(pe.return=J,xe=pe):Dg(ne)}te=te.sibling}e:for(te=null,ne=r;;){if(ne.tag===5){if(te===null){te=ne;try{m=ne.stateNode,W?(g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=ne.stateNode,D=ne.memoizedProps.style,j=D!=null&&D.hasOwnProperty("display")?D.display:null,R.style.display=ia("display",j))}catch(be){Dt(r,r.return,be)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=W?"":ne.memoizedProps}catch(be){Dt(r,r.return,be)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:pr(a,r),Mr(r),d&4&&Ig(r);break;case 21:break;default:pr(a,r),Mr(r)}}function Mr(r){var a=r.flags;if(a&2){try{e:{for(var o=r.return;o!==null;){if(Pg(o)){var d=o;break e}o=o.return}throw Error(s(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Ir(m,""),d.flags&=-33);var g=Eg(r);sf(r,g,m);break;case 3:case 4:var j=d.stateNode.containerInfo,R=Eg(r);rf(r,R,j);break;default:throw Error(s(161))}}catch(D){Dt(r,r.return,D)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function R1(r,a,o){xe=r,Ag(r)}function Ag(r,a,o){for(var d=(r.mode&1)!==0;xe!==null;){var m=xe,g=m.child;if(m.tag===22&&d){var j=m.memoizedState!==null||ac;if(!j){var R=m.alternate,D=R!==null&&R.memoizedState!==null||vn;R=ac;var W=vn;if(ac=j,(vn=D)&&!W)for(xe=m;xe!==null;)j=xe,D=j.child,j.tag===22&&j.memoizedState!==null?Mg(m):D!==null?(D.return=j,xe=D):Mg(m);for(;g!==null;)xe=g,Ag(g),g=g.sibling;xe=m,ac=R,vn=W}Lg(r)}else(m.subtreeFlags&8772)!==0&&g!==null?(g.return=m,xe=g):Lg(r)}}function Lg(r){for(;xe!==null;){var a=xe;if((a.flags&8772)!==0){var o=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:vn||ic(5,a);break;case 1:var d=a.stateNode;if(a.flags&4&&!vn)if(o===null)d.componentDidMount();else{var m=a.elementType===a.type?o.memoizedProps:fr(a.type,o.memoizedProps);d.componentDidUpdate(m,o.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=a.updateQueue;g!==null&&Dh(a,g,d);break;case 3:var j=a.updateQueue;if(j!==null){if(o=null,a.child!==null)switch(a.child.tag){case 5:o=a.child.stateNode;break;case 1:o=a.child.stateNode}Dh(a,j,o)}break;case 5:var R=a.stateNode;if(o===null&&a.flags&4){o=R;var D=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&o.focus();break;case"img":D.src&&(o.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var W=a.alternate;if(W!==null){var te=W.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&Zi(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}vn||a.flags&512&&nf(a)}catch(J){Dt(a,a.return,J)}}if(a===r){xe=null;break}if(o=a.sibling,o!==null){o.return=a.return,xe=o;break}xe=a.return}}function Dg(r){for(;xe!==null;){var a=xe;if(a===r){xe=null;break}var o=a.sibling;if(o!==null){o.return=a.return,xe=o;break}xe=a.return}}function Mg(r){for(;xe!==null;){var a=xe;try{switch(a.tag){case 0:case 11:case 15:var o=a.return;try{ic(4,a)}catch(D){Dt(a,o,D)}break;case 1:var d=a.stateNode;if(typeof d.componentDidMount=="function"){var m=a.return;try{d.componentDidMount()}catch(D){Dt(a,m,D)}}var g=a.return;try{nf(a)}catch(D){Dt(a,g,D)}break;case 5:var j=a.return;try{nf(a)}catch(D){Dt(a,j,D)}}}catch(D){Dt(a,a.return,D)}if(a===r){xe=null;break}var R=a.sibling;if(R!==null){R.return=a.return,xe=R;break}xe=a.return}}var A1=Math.ceil,oc=P.ReactCurrentDispatcher,af=P.ReactCurrentOwner,Xn=P.ReactCurrentBatchConfig,rt=0,Zt=null,Vt=null,cn=0,zn=0,ai=ks(0),Wt=0,wo=null,ga=0,lc=0,of=0,bo=null,In=null,lf=0,ii=1/0,rs=null,cc=!1,cf=null,Is=null,dc=!1,Rs=null,uc=0,jo=0,df=null,fc=-1,mc=0;function Sn(){return(rt&6)!==0?Ft():fc!==-1?fc:fc=Ft()}function As(r){return(r.mode&1)===0?1:(rt&2)!==0&&cn!==0?cn&-cn:g1.transition!==null?(mc===0&&(mc=Ep()),mc):(r=ut,r!==0||(r=window.event,r=r===void 0?16:Fp(r.type)),r)}function hr(r,a,o,d){if(50<jo)throw jo=0,df=null,Error(s(185));Wi(r,o,d),((rt&2)===0||r!==Zt)&&(r===Zt&&((rt&2)===0&&(lc|=o),Wt===4&&Ls(r,cn)),Rn(r,d),o===1&&rt===0&&(a.mode&1)===0&&(ii=Ft()+500,Bl&&_s()))}function Rn(r,a){var o=r.callbackNode;gj(r,a);var d=jl(r,r===Zt?cn:0);if(d===0)o!==null&&Cp(o),r.callbackNode=null,r.callbackPriority=0;else if(a=d&-d,r.callbackPriority!==a){if(o!=null&&Cp(o),a===1)r.tag===0?h1(Fg.bind(null,r)):Nh(Fg.bind(null,r)),u1(function(){(rt&6)===0&&_s()}),o=null;else{switch(Tp(d)){case 1:o=Vd;break;case 4:o=_p;break;case 16:o=vl;break;case 536870912:o=Pp;break;default:o=vl}o=Qg(o,Og.bind(null,r))}r.callbackPriority=a,r.callbackNode=o}}function Og(r,a){if(fc=-1,mc=0,(rt&6)!==0)throw Error(s(327));var o=r.callbackNode;if(oi()&&r.callbackNode!==o)return null;var d=jl(r,r===Zt?cn:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||a)a=pc(r,d);else{a=d;var m=rt;rt|=2;var g=$g();(Zt!==r||cn!==a)&&(rs=null,ii=Ft()+500,va(r,a));do try{M1();break}catch(R){zg(r,R)}while(!0);_u(),oc.current=g,rt=m,Vt!==null?a=0:(Zt=null,cn=0,a=Wt)}if(a!==0){if(a===2&&(m=qd(r),m!==0&&(d=m,a=uf(r,m))),a===1)throw o=wo,va(r,0),Ls(r,d),Rn(r,Ft()),o;if(a===6)Ls(r,d);else{if(m=r.current.alternate,(d&30)===0&&!L1(m)&&(a=pc(r,d),a===2&&(g=qd(r),g!==0&&(d=g,a=uf(r,g))),a===1))throw o=wo,va(r,0),Ls(r,d),Rn(r,Ft()),o;switch(r.finishedWork=m,r.finishedLanes=d,a){case 0:case 1:throw Error(s(345));case 2:ya(r,In,rs);break;case 3:if(Ls(r,d),(d&130023424)===d&&(a=lf+500-Ft(),10<a)){if(jl(r,0)!==0)break;if(m=r.suspendedLanes,(m&d)!==d){Sn(),r.pingedLanes|=r.suspendedLanes&m;break}r.timeoutHandle=gu(ya.bind(null,r,In,rs),a);break}ya(r,In,rs);break;case 4:if(Ls(r,d),(d&4194240)===d)break;for(a=r.eventTimes,m=-1;0<d;){var j=31-cr(d);g=1<<j,j=a[j],j>m&&(m=j),d&=~g}if(d=m,d=Ft()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*A1(d/1960))-d,10<d){r.timeoutHandle=gu(ya.bind(null,r,In,rs),d);break}ya(r,In,rs);break;case 5:ya(r,In,rs);break;default:throw Error(s(329))}}}return Rn(r,Ft()),r.callbackNode===o?Og.bind(null,r):null}function uf(r,a){var o=bo;return r.current.memoizedState.isDehydrated&&(va(r,a).flags|=256),r=pc(r,a),r!==2&&(a=In,In=o,a!==null&&ff(a)),r}function ff(r){In===null?In=r:In.push.apply(In,r)}function L1(r){for(var a=r;;){if(a.flags&16384){var o=a.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var d=0;d<o.length;d++){var m=o[d],g=m.getSnapshot;m=m.value;try{if(!dr(g(),m))return!1}catch{return!1}}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ls(r,a){for(a&=~of,a&=~lc,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var o=31-cr(a),d=1<<o;r[o]=-1,a&=~d}}function Fg(r){if((rt&6)!==0)throw Error(s(327));oi();var a=jl(r,0);if((a&1)===0)return Rn(r,Ft()),null;var o=pc(r,a);if(r.tag!==0&&o===2){var d=qd(r);d!==0&&(a=d,o=uf(r,d))}if(o===1)throw o=wo,va(r,0),Ls(r,a),Rn(r,Ft()),o;if(o===6)throw Error(s(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,ya(r,In,rs),Rn(r,Ft()),null}function mf(r,a){var o=rt;rt|=1;try{return r(a)}finally{rt=o,rt===0&&(ii=Ft()+500,Bl&&_s())}}function xa(r){Rs!==null&&Rs.tag===0&&(rt&6)===0&&oi();var a=rt;rt|=1;var o=Xn.transition,d=ut;try{if(Xn.transition=null,ut=1,r)return r()}finally{ut=d,Xn.transition=o,rt=a,(rt&6)===0&&_s()}}function pf(){zn=ai.current,bt(ai)}function va(r,a){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;if(o!==-1&&(r.timeoutHandle=-1,d1(o)),Vt!==null)for(o=Vt.return;o!==null;){var d=o;switch(ju(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&zl();break;case 3:ni(),bt(Pn),bt(hn),Du();break;case 5:Au(d);break;case 4:ni();break;case 13:bt(Pt);break;case 19:bt(Pt);break;case 10:Pu(d.type._context);break;case 22:case 23:pf()}o=o.return}if(Zt=r,Vt=r=Ds(r.current,null),cn=zn=a,Wt=0,wo=null,of=lc=ga=0,In=bo=null,ma!==null){for(a=0;a<ma.length;a++)if(o=ma[a],d=o.interleaved,d!==null){o.interleaved=null;var m=d.next,g=o.pending;if(g!==null){var j=g.next;g.next=m,d.next=j}o.pending=d}ma=null}return r}function zg(r,a){do{var o=Vt;try{if(_u(),Yl.current=tc,Xl){for(var d=Et.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Xl=!1}if(ha=0,Kt=Ut=Et=null,po=!1,ho=0,af.current=null,o===null||o.return===null){Wt=1,wo=a,Vt=null;break}e:{var g=r,j=o.return,R=o,D=a;if(a=cn,R.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=D,te=R,ne=te.tag;if((te.mode&1)===0&&(ne===0||ne===11||ne===15)){var J=te.alternate;J?(te.updateQueue=J.updateQueue,te.memoizedState=J.memoizedState,te.lanes=J.lanes):(te.updateQueue=null,te.memoizedState=null)}var pe=dg(j);if(pe!==null){pe.flags&=-257,ug(pe,j,R,g,a),pe.mode&1&&cg(g,W,a),a=pe,D=W;var ye=a.updateQueue;if(ye===null){var be=new Set;be.add(D),a.updateQueue=be}else ye.add(D);break e}else{if((a&1)===0){cg(g,W,a),hf();break e}D=Error(s(426))}}else if(Ct&&R.mode&1){var zt=dg(j);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),ug(zt,j,R,g,a),ku(ri(D,R));break e}}g=D=ri(D,R),Wt!==4&&(Wt=2),bo===null?bo=[g]:bo.push(g),g=j;do{switch(g.tag){case 3:g.flags|=65536,a&=-a,g.lanes|=a;var z=og(g,D,a);Lh(g,z);break e;case 1:R=D;var M=g.type,V=g.stateNode;if((g.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Is===null||!Is.has(V)))){g.flags|=65536,a&=-a,g.lanes|=a;var ie=lg(g,R,a);Lh(g,ie);break e}}g=g.return}while(g!==null)}Vg(o)}catch(je){a=je,Vt===o&&o!==null&&(Vt=o=o.return);continue}break}while(!0)}function $g(){var r=oc.current;return oc.current=tc,r===null?tc:r}function hf(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),Zt===null||(ga&268435455)===0&&(lc&268435455)===0||Ls(Zt,cn)}function pc(r,a){var o=rt;rt|=2;var d=$g();(Zt!==r||cn!==a)&&(rs=null,va(r,a));do try{D1();break}catch(m){zg(r,m)}while(!0);if(_u(),rt=o,oc.current=d,Vt!==null)throw Error(s(261));return Zt=null,cn=0,Wt}function D1(){for(;Vt!==null;)Bg(Vt)}function M1(){for(;Vt!==null&&!oj();)Bg(Vt)}function Bg(r){var a=Wg(r.alternate,r,zn);r.memoizedProps=r.pendingProps,a===null?Vg(r):Vt=a,af.current=null}function Vg(r){var a=r;do{var o=a.alternate;if(r=a.return,(a.flags&32768)===0){if(o=P1(o,a,zn),o!==null){Vt=o;return}}else{if(o=E1(o,a),o!==null){o.flags&=32767,Vt=o;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Wt=6,Vt=null;return}}if(a=a.sibling,a!==null){Vt=a;return}Vt=a=r}while(a!==null);Wt===0&&(Wt=5)}function ya(r,a,o){var d=ut,m=Xn.transition;try{Xn.transition=null,ut=1,O1(r,a,o,d)}finally{Xn.transition=m,ut=d}return null}function O1(r,a,o,d){do oi();while(Rs!==null);if((rt&6)!==0)throw Error(s(327));o=r.finishedWork;var m=r.finishedLanes;if(o===null)return null;if(r.finishedWork=null,r.finishedLanes=0,o===r.current)throw Error(s(177));r.callbackNode=null,r.callbackPriority=0;var g=o.lanes|o.childLanes;if(xj(r,g),r===Zt&&(Vt=Zt=null,cn=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||dc||(dc=!0,Qg(vl,function(){return oi(),null})),g=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||g){g=Xn.transition,Xn.transition=null;var j=ut;ut=1;var R=rt;rt|=4,af.current=null,I1(r,o),Rg(o,r),r1(pu),kl=!!mu,pu=mu=null,r.current=o,R1(o),lj(),rt=R,ut=j,Xn.transition=g}else r.current=o;if(dc&&(dc=!1,Rs=r,uc=m),g=r.pendingLanes,g===0&&(Is=null),uj(o.stateNode),Rn(r,Ft()),a!==null)for(d=r.onRecoverableError,o=0;o<a.length;o++)m=a[o],d(m.value,{componentStack:m.stack,digest:m.digest});if(cc)throw cc=!1,r=cf,cf=null,r;return(uc&1)!==0&&r.tag!==0&&oi(),g=r.pendingLanes,(g&1)!==0?r===df?jo++:(jo=0,df=r):jo=0,_s(),null}function oi(){if(Rs!==null){var r=Tp(uc),a=Xn.transition,o=ut;try{if(Xn.transition=null,ut=16>r?16:r,Rs===null)var d=!1;else{if(r=Rs,Rs=null,uc=0,(rt&6)!==0)throw Error(s(331));var m=rt;for(rt|=4,xe=r.current;xe!==null;){var g=xe,j=g.child;if((xe.flags&16)!==0){var R=g.deletions;if(R!==null){for(var D=0;D<R.length;D++){var W=R[D];for(xe=W;xe!==null;){var te=xe;switch(te.tag){case 0:case 11:case 15:yo(8,te,g)}var ne=te.child;if(ne!==null)ne.return=te,xe=ne;else for(;xe!==null;){te=xe;var J=te.sibling,pe=te.return;if(_g(te),te===W){xe=null;break}if(J!==null){J.return=pe,xe=J;break}xe=pe}}}var ye=g.alternate;if(ye!==null){var be=ye.child;if(be!==null){ye.child=null;do{var zt=be.sibling;be.sibling=null,be=zt}while(be!==null)}}xe=g}}if((g.subtreeFlags&2064)!==0&&j!==null)j.return=g,xe=j;else e:for(;xe!==null;){if(g=xe,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:yo(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,xe=z;break e}xe=g.return}}var M=r.current;for(xe=M;xe!==null;){j=xe;var V=j.child;if((j.subtreeFlags&2064)!==0&&V!==null)V.return=j,xe=V;else e:for(j=M;xe!==null;){if(R=xe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:ic(9,R)}}catch(je){Dt(R,R.return,je)}if(R===j){xe=null;break e}var ie=R.sibling;if(ie!==null){ie.return=R.return,xe=ie;break e}xe=R.return}}if(rt=m,_s(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(yl,r)}catch{}d=!0}return d}finally{ut=o,Xn.transition=a}}return!1}function qg(r,a,o){a=ri(o,a),a=og(r,a,1),r=Es(r,a,1),a=Sn(),r!==null&&(Wi(r,1,a),Rn(r,a))}function Dt(r,a,o){if(r.tag===3)qg(r,r,o);else for(;a!==null;){if(a.tag===3){qg(a,r,o);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Is===null||!Is.has(d))){r=ri(o,r),r=lg(a,r,1),a=Es(a,r,1),r=Sn(),a!==null&&(Wi(a,1,r),Rn(a,r));break}}a=a.return}}function F1(r,a,o){var d=r.pingCache;d!==null&&d.delete(a),a=Sn(),r.pingedLanes|=r.suspendedLanes&o,Zt===r&&(cn&o)===o&&(Wt===4||Wt===3&&(cn&130023424)===cn&&500>Ft()-lf?va(r,0):of|=o),Rn(r,a)}function Ug(r,a){a===0&&((r.mode&1)===0?a=1:(a=bl,bl<<=1,(bl&130023424)===0&&(bl=4194304)));var o=Sn();r=es(r,a),r!==null&&(Wi(r,a,o),Rn(r,o))}function z1(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),Ug(r,o)}function $1(r,a){var o=0;switch(r.tag){case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(s(314))}d!==null&&d.delete(a),Ug(r,o)}var Wg;Wg=function(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps||Pn.current)Tn=!0;else{if((r.lanes&o)===0&&(a.flags&128)===0)return Tn=!1,_1(r,a,o);Tn=(r.flags&131072)!==0}else Tn=!1,Ct&&(a.flags&1048576)!==0&&Sh(a,ql,a.index);switch(a.lanes=0,a.tag){case 2:var d=a.type;sc(r,a),r=a.pendingProps;var m=Ka(a,hn.current);ti(a,o),m=Fu(null,a,d,r,m,o);var g=zu();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,En(d)?(g=!0,$l(a)):g=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Iu(a),m.updater=nc,a.stateNode=m,m._reactInternals=a,Wu(a,d,r,o),a=Ku(null,a,d,!0,g,o)):(a.tag=0,Ct&&g&&bu(a),Nn(null,a,m,o),a=a.child),a;case 16:d=a.elementType;e:{switch(sc(r,a),r=a.pendingProps,m=d._init,d=m(d._payload),a.type=d,m=a.tag=V1(d),r=fr(d,r),m){case 0:a=Gu(null,a,d,r,o);break e;case 1:a=xg(null,a,d,r,o);break e;case 11:a=fg(null,a,d,r,o);break e;case 14:a=mg(null,a,d,fr(d.type,r),o);break e}throw Error(s(306,d,""))}return a;case 0:return d=a.type,m=a.pendingProps,m=a.elementType===d?m:fr(d,m),Gu(r,a,d,m,o);case 1:return d=a.type,m=a.pendingProps,m=a.elementType===d?m:fr(d,m),xg(r,a,d,m,o);case 3:e:{if(vg(a),r===null)throw Error(s(387));d=a.pendingProps,g=a.memoizedState,m=g.element,Ah(r,a),Kl(a,d,null,o);var j=a.memoizedState;if(d=j.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){m=ri(Error(s(423)),a),a=yg(r,a,d,o,m);break e}else if(d!==m){m=ri(Error(s(424)),a),a=yg(r,a,d,o,m);break e}else for(Fn=Ss(a.stateNode.containerInfo.firstChild),On=a,Ct=!0,ur=null,o=Ih(a,null,d,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Xa(),d===m){a=ns(r,a,o);break e}Nn(r,a,d,o)}a=a.child}return a;case 5:return Mh(a),r===null&&Su(a),d=a.type,m=a.pendingProps,g=r!==null?r.memoizedProps:null,j=m.children,hu(d,m)?j=null:g!==null&&hu(d,g)&&(a.flags|=32),gg(r,a),Nn(r,a,j,o),a.child;case 6:return r===null&&Su(a),null;case 13:return wg(r,a,o);case 4:return Ru(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=Ja(a,null,d,o):Nn(r,a,d,o),a.child;case 11:return d=a.type,m=a.pendingProps,m=a.elementType===d?m:fr(d,m),fg(r,a,d,m,o);case 7:return Nn(r,a,a.pendingProps,o),a.child;case 8:return Nn(r,a,a.pendingProps.children,o),a.child;case 12:return Nn(r,a,a.pendingProps.children,o),a.child;case 10:e:{if(d=a.type._context,m=a.pendingProps,g=a.memoizedProps,j=m.value,vt(Ql,d._currentValue),d._currentValue=j,g!==null)if(dr(g.value,j)){if(g.children===m.children&&!Pn.current){a=ns(r,a,o);break e}}else for(g=a.child,g!==null&&(g.return=a);g!==null;){var R=g.dependencies;if(R!==null){j=g.child;for(var D=R.firstContext;D!==null;){if(D.context===d){if(g.tag===1){D=ts(-1,o&-o),D.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var te=W.pending;te===null?D.next=D:(D.next=te.next,te.next=D),W.pending=D}}g.lanes|=o,D=g.alternate,D!==null&&(D.lanes|=o),Eu(g.return,o,a),R.lanes|=o;break}D=D.next}}else if(g.tag===10)j=g.type===a.type?null:g.child;else if(g.tag===18){if(j=g.return,j===null)throw Error(s(341));j.lanes|=o,R=j.alternate,R!==null&&(R.lanes|=o),Eu(j,o,a),j=g.sibling}else j=g.child;if(j!==null)j.return=g;else for(j=g;j!==null;){if(j===a){j=null;break}if(g=j.sibling,g!==null){g.return=j.return,j=g;break}j=j.return}g=j}Nn(r,a,m.children,o),a=a.child}return a;case 9:return m=a.type,d=a.pendingProps.children,ti(a,o),m=Zn(m),d=d(m),a.flags|=1,Nn(r,a,d,o),a.child;case 14:return d=a.type,m=fr(d,a.pendingProps),m=fr(d.type,m),mg(r,a,d,m,o);case 15:return pg(r,a,a.type,a.pendingProps,o);case 17:return d=a.type,m=a.pendingProps,m=a.elementType===d?m:fr(d,m),sc(r,a),a.tag=1,En(d)?(r=!0,$l(a)):r=!1,ti(a,o),ag(a,d,m),Wu(a,d,m,o),Ku(null,a,d,!0,r,o);case 19:return jg(r,a,o);case 22:return hg(r,a,o)}throw Error(s(156,a.tag))};function Qg(r,a){return kp(r,a)}function B1(r,a,o,d){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(r,a,o,d){return new B1(r,a,o,d)}function gf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function V1(r){if(typeof r=="function")return gf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===oe)return 11;if(r===fe)return 14}return 2}function Ds(r,a){var o=r.alternate;return o===null?(o=Jn(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&14680064,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o}function hc(r,a,o,d,m,g){var j=2;if(d=r,typeof r=="function")gf(r)&&(j=1);else if(typeof r=="string")j=5;else e:switch(r){case q:return wa(o.children,m,g,a);case X:j=8,m|=8;break;case se:return r=Jn(12,o,a,m|2),r.elementType=se,r.lanes=g,r;case K:return r=Jn(13,o,a,m),r.elementType=K,r.lanes=g,r;case $:return r=Jn(19,o,a,m),r.elementType=$,r.lanes=g,r;case Y:return gc(o,m,g,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ce:j=10;break e;case ge:j=9;break e;case oe:j=11;break e;case fe:j=14;break e;case B:j=16,d=null;break e}throw Error(s(130,r==null?r:typeof r,""))}return a=Jn(j,o,a,m),a.elementType=r,a.type=d,a.lanes=g,a}function wa(r,a,o,d){return r=Jn(7,r,d,a),r.lanes=o,r}function gc(r,a,o,d){return r=Jn(22,r,d,a),r.elementType=Y,r.lanes=o,r.stateNode={isHidden:!1},r}function xf(r,a,o){return r=Jn(6,r,null,a),r.lanes=o,r}function vf(r,a,o){return a=Jn(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function q1(r,a,o,d,m){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ud(0),this.expirationTimes=Ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ud(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function yf(r,a,o,d,m,g,j,R,D){return r=new q1(r,a,o,R,D),a===1?(a=1,g===!0&&(a|=8)):a=0,g=Jn(3,null,null,a),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iu(g),r}function U1(r,a,o){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:d==null?null:""+d,children:r,containerInfo:a,implementation:o}}function Hg(r){if(!r)return Cs;r=r._reactInternals;e:{if(it(r)!==r||r.tag!==1)throw Error(s(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(En(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(s(171))}if(r.tag===1){var o=r.type;if(En(o))return bh(r,o,a)}return a}function Gg(r,a,o,d,m,g,j,R,D){return r=yf(o,d,!0,r,m,g,j,R,D),r.context=Hg(null),o=r.current,d=Sn(),m=As(o),g=ts(d,m),g.callback=a??null,Es(o,g,m),r.current.lanes=m,Wi(r,m,d),Rn(r,d),r}function xc(r,a,o,d){var m=a.current,g=Sn(),j=As(m);return o=Hg(o),a.context===null?a.context=o:a.pendingContext=o,a=ts(g,j),a.payload={element:r},d=d===void 0?null:d,d!==null&&(a.callback=d),r=Es(m,a,j),r!==null&&(hr(r,m,j,g),Gl(r,m,j)),j}function vc(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function Kg(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function wf(r,a){Kg(r,a),(r=r.alternate)&&Kg(r,a)}function W1(){return null}var Zg=typeof reportError=="function"?reportError:function(r){console.error(r)};function bf(r){this._internalRoot=r}yc.prototype.render=bf.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(s(409));xc(r,a,null,null)},yc.prototype.unmount=bf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;xa(function(){xc(null,r,null,null)}),a[Zr]=null}};function yc(r){this._internalRoot=r}yc.prototype.unstable_scheduleHydration=function(r){if(r){var a=Ap();r={blockedOn:null,target:r,priority:a};for(var o=0;o<bs.length&&a!==0&&a<bs[o].priority;o++);bs.splice(o,0,r),o===0&&Mp(r)}};function jf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function wc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Yg(){}function Q1(r,a,o,d,m){if(m){if(typeof d=="function"){var g=d;d=function(){var W=vc(j);g.call(W)}}var j=Gg(a,d,r,0,null,!1,!1,"",Yg);return r._reactRootContainer=j,r[Zr]=j.current,ao(r.nodeType===8?r.parentNode:r),xa(),j}for(;m=r.lastChild;)r.removeChild(m);if(typeof d=="function"){var R=d;d=function(){var W=vc(D);R.call(W)}}var D=yf(r,0,!1,null,null,!1,!1,"",Yg);return r._reactRootContainer=D,r[Zr]=D.current,ao(r.nodeType===8?r.parentNode:r),xa(function(){xc(a,D,o,d)}),D}function bc(r,a,o,d,m){var g=o._reactRootContainer;if(g){var j=g;if(typeof m=="function"){var R=m;m=function(){var D=vc(j);R.call(D)}}xc(a,j,r,m)}else j=Q1(o,a,r,m,d);return vc(j)}Ip=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var o=Ui(a.pendingLanes);o!==0&&(Wd(a,o|1),Rn(a,Ft()),(rt&6)===0&&(ii=Ft()+500,_s()))}break;case 13:xa(function(){var d=es(r,1);if(d!==null){var m=Sn();hr(d,r,1,m)}}),wf(r,1)}},Qd=function(r){if(r.tag===13){var a=es(r,134217728);if(a!==null){var o=Sn();hr(a,r,134217728,o)}wf(r,134217728)}},Rp=function(r){if(r.tag===13){var a=As(r),o=es(r,a);if(o!==null){var d=Sn();hr(o,r,a,d)}wf(r,a)}},Ap=function(){return ut},Lp=function(r,a){var o=ut;try{return ut=r,a()}finally{ut=o}},$i=function(r,a,o){switch(a){case"input":if(lr(r,o),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<o.length;a++){var d=o[a];if(d!==r&&d.form===r.form){var m=Fl(d);if(!m)throw Error(s(90));dt(d),lr(d,m)}}}break;case"textarea":Di(r,o);break;case"select":a=o.value,a!=null&&an(r,!!o.multiple,a,!1)}},hl=mf,gl=xa;var H1={usingClientEntryPoint:!1,Events:[lo,Ha,Fl,Bi,pl,mf]},No={findFiberByHostInstance:ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G1={bundleType:No.bundleType,version:No.version,rendererPackageName:No.rendererPackageName,rendererConfig:No.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Np(r),r===null?null:r.stateNode},findFiberByHostInstance:No.findFiberByHostInstance||W1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{yl=jc.inject(G1),Rr=jc}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H1,An.createPortal=function(r,a){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jf(a))throw Error(s(200));return U1(r,a,null,o)},An.createRoot=function(r,a){if(!jf(r))throw Error(s(299));var o=!1,d="",m=Zg;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=yf(r,1,!1,null,null,o,!1,d,m),r[Zr]=a.current,ao(r.nodeType===8?r.parentNode:r),new bf(a)},An.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=Np(a),r=r===null?null:r.stateNode,r},An.flushSync=function(r){return xa(r)},An.hydrate=function(r,a,o){if(!wc(a))throw Error(s(200));return bc(null,r,a,!0,o)},An.hydrateRoot=function(r,a,o){if(!jf(r))throw Error(s(405));var d=o!=null&&o.hydratedSources||null,m=!1,g="",j=Zg;if(o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(j=o.onRecoverableError)),a=Gg(a,null,r,1,o??null,m,!1,g,j),r[Zr]=a.current,ao(r),d)for(r=0;r<d.length;r++)o=d[r],m=o._getVersion,m=m(o._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[o,m]:a.mutableSourceEagerHydrationData.push(o,m);return new yc(a)},An.render=function(r,a,o){if(!wc(a))throw Error(s(200));return bc(null,r,a,!1,o)},An.unmountComponentAtNode=function(r){if(!wc(r))throw Error(s(40));return r._reactRootContainer?(xa(function(){bc(null,null,r,!1,function(){r._reactRootContainer=null,r[Zr]=null})}),!0):!1},An.unstable_batchedUpdates=mf,An.unstable_renderSubtreeIntoContainer=function(r,a,o,d){if(!wc(o))throw Error(s(200));if(r==null||r._reactInternals===void 0)throw Error(s(38));return bc(r,a,o,!1,d)},An.version="18.3.1-next-f1338f8080-20240426",An}var ax;function Iv(){if(ax)return kf.exports;ax=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),kf.exports=nN(),kf.exports}var ix;function rN(){if(ix)return Nc;ix=1;var e=Iv();return Nc.createRoot=e.createRoot,Nc.hydrateRoot=e.hydrateRoot,Nc}var sN=rN();function aN(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var s,i,l,c,u=[],f="",h=e.split("/");for(h[0]||h.shift();l=h.shift();)s=l[0],s==="*"?(u.push(s),f+=l[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(i=l.indexOf("?",1),c=l.indexOf(".",1),u.push(l.substring(1,~i?i:~c?c:l.length)),f+=~i&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(f+=(~i?"?":"")+"\\"+l.substring(c))):f+="/"+l;return{keys:u,pattern:new RegExp("^"+f+(t?"(?=$|/)":"/?$"),"i")}}var x=hd();const zs=Tv(x),Rv=Z1({__proto__:null,default:zs},[x]);var Pf={exports:{}},Ef={};var ox;function iN(){if(ox)return Ef;ox=1;var e=hd();function t(b,N){return b===N&&(b!==0||1/b===1/N)||b!==b&&N!==N}var s=typeof Object.is=="function"?Object.is:t,i=e.useState,l=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue;function f(b,N){var C=N(),_=i({inst:{value:C,getSnapshot:N}}),w=_[0].inst,S=_[1];return c(function(){w.value=C,w.getSnapshot=N,h(w)&&S({inst:w})},[b,C,N]),l(function(){return h(w)&&S({inst:w}),b(function(){h(w)&&S({inst:w})})},[b]),u(C),C}function h(b){var N=b.getSnapshot;b=b.value;try{var C=N();return!s(b,C)}catch{return!0}}function p(b,N){return N()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return Ef.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,Ef}var lx;function oN(){return lx||(lx=1,Pf.exports=iN()),Pf.exports}var lN=oN();const cN=Rv.useInsertionEffect,dN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uN=dN?x.useLayoutEffect:x.useEffect,fN=cN||uN,Av=e=>{const t=x.useRef([e,(...s)=>t[0](...s)]).current;return fN(()=>{t[0]=e}),t[1]},mN="popstate",Dm="pushState",Mm="replaceState",pN="hashchange",cx=[mN,Dm,Mm,pN],hN=e=>{for(const t of cx)addEventListener(t,e);return()=>{for(const t of cx)removeEventListener(t,e)}},Lv=(e,t)=>lN.useSyncExternalStore(hN,e,t),gN=()=>location.search,xN=({ssrSearch:e=""}={})=>Lv(gN,()=>e),dx=()=>location.pathname,vN=({ssrPath:e}={})=>Lv(dx,e?()=>e:dx),yN=(e,{replace:t=!1,state:s=null}={})=>history[t?Mm:Dm](s,"",e),wN=(e={})=>[vN(e),yN],ux=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ux]>"u"){for(const e of[Dm,Mm]){const t=history[e];history[e]=function(){const s=t.apply(this,arguments),i=new Event(e);return i.arguments=arguments,dispatchEvent(i),s}}Object.defineProperty(window,ux,{value:!0})}const bN=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Dv=(e="")=>e==="/"?"":e,jN=(e,t)=>e[0]==="~"?e.slice(1):Dv(t)+e,NN=(e="",t)=>bN(fx(Dv(e)),fx(t)),fx=e=>{try{return decodeURI(e)}catch{return e}},Mv={hook:wN,searchHook:xN,parser:aN,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Ov=x.createContext(Mv),al=()=>x.useContext(Ov),Fv={},zv=x.createContext(Fv),SN=()=>x.useContext(zv),gd=e=>{const[t,s]=e.hook(e);return[NN(e.base,t),Av((i,l)=>s(jN(i,e.base),l))]},Un=()=>gd(al()),$v=(e,t,s,i)=>{const{pattern:l,keys:c}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",i),u=l.exec(s)||[],[f,...h]=u;return f!==void 0?[!0,(()=>{const p=c!==!1?Object.fromEntries(c.map((b,N)=>[b,h[N]])):u.groups;let v={...h};return p&&Object.assign(v,p),v})(),...i?[f]:[]]:[!1,null]},kN=({children:e,...t})=>{const s=al(),i=t.hook?Mv:s;let l=i;const[c,u]=t.ssrPath?.split("?")??[];u&&(t.ssrSearch=u,t.ssrPath=c),t.hrefs=t.hrefs??t.hook?.hrefs;let f=x.useRef({}),h=f.current,p=h;for(let v in i){const b=v==="base"?i[v]+(t[v]||""):t[v]||i[v];h===p&&b!==p[v]&&(f.current=p={...p}),p[v]=b,b!==i[v]&&(l=p)}return x.createElement(Ov.Provider,{value:l,children:e})},mx=({children:e,component:t},s)=>t?x.createElement(t,{params:s}):typeof e=="function"?e(s):e,CN=e=>{let t=x.useRef(Fv),s=t.current;for(const i in e)e[i]!==s[i]&&(s=e);return Object.keys(e).length===0&&(s=e),t.current=s},Ln=({path:e,nest:t,match:s,...i})=>{const l=al(),[c]=gd(l),[u,f,h]=s??$v(l.parser,e,c,t),p=CN({...SN(),...f});if(!u)return null;const v=h?x.createElement(kN,{base:h},mx(i,p)):mx(i,p);return x.createElement(zv.Provider,{value:p,children:v})};x.forwardRef((e,t)=>{const s=al(),[i,l]=gd(s),{to:c="",href:u=c,onClick:f,asChild:h,children:p,className:v,replace:b,state:N,...C}=e,_=Av(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(f?.(S),S.defaultPrevented||(S.preventDefault(),l(u,e)))}),w=s.hrefs(u[0]==="~"?u.slice(1):s.base+u,s);return h&&x.isValidElement(p)?x.cloneElement(p,{onClick:_,href:w}):x.createElement("a",{...C,onClick:_,href:w,className:v?.call?v(i===u):v,children:p,ref:t})});const Bv=e=>Array.isArray(e)?e.flatMap(t=>Bv(t&&t.type===x.Fragment?t.props.children:t)):[e],_N=({children:e,location:t})=>{const s=al(),[i]=gd(s);for(const l of Bv(e)){let c=0;if(x.isValidElement(l)&&(c=$v(s.parser,l.props.path,t||i,l.props.nest))[0])return x.cloneElement(l,{match:c})}return null};var Ei=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sa=typeof window>"u"||"Deno"in globalThis;function tr(){}function PN(e,t){return typeof e=="function"?e(t):e}function tm(e){return typeof e=="number"&&e>=0&&e!==1/0}function Vv(e,t){return Math.max(e+(t||0)-Date.now(),0)}function pi(e,t){return typeof e=="function"?e(t):e}function vr(e,t){return typeof e=="function"?e(t):e}function px(e,t){const{type:s="all",exact:i,fetchStatus:l,predicate:c,queryKey:u,stale:f}=e;if(u){if(i){if(t.queryHash!==Om(u,t.options))return!1}else if(!$o(t.queryKey,u))return!1}if(s!=="all"){const h=t.isActive();if(s==="active"&&!h||s==="inactive"&&h)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||l&&l!==t.state.fetchStatus||c&&!c(t))}function hx(e,t){const{exact:s,status:i,predicate:l,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(s){if(ka(t.options.mutationKey)!==ka(c))return!1}else if(!$o(t.options.mutationKey,c))return!1}return!(i&&t.state.status!==i||l&&!l(t))}function Om(e,t){return(t?.queryKeyHashFn||ka)(e)}function ka(e){return JSON.stringify(e,(t,s)=>nm(s)?Object.keys(s).sort().reduce((i,l)=>(i[l]=s[l],i),{}):s)}function $o(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!$o(e[s],t[s])):!1}function qv(e,t){if(e===t)return e;const s=gx(e)&&gx(t);if(s||nm(e)&&nm(t)){const i=s?e:Object.keys(e),l=i.length,c=s?t:Object.keys(t),u=c.length,f=s?[]:{};let h=0;for(let p=0;p<u;p++){const v=s?p:c[p];(!s&&i.includes(v)||s)&&e[v]===void 0&&t[v]===void 0?(f[v]=void 0,h++):(f[v]=qv(e[v],t[v]),f[v]===e[v]&&e[v]!==void 0&&h++)}return l===u&&h===l?e:f}return t}function Wc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function gx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function nm(e){if(!xx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!xx(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function xx(e){return Object.prototype.toString.call(e)==="[object Object]"}function EN(e){return new Promise(t=>{setTimeout(t,e)})}function rm(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?qv(e,t):t}function TN(e,t,s=0){const i=[...e,t];return s&&i.length>s?i.slice(1):i}function IN(e,t,s=0){const i=[t,...e];return s&&i.length>s?i.slice(0,-1):i}var Fm=Symbol();function Uv(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Fm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var RN=class extends Ei{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Sa&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},zm=new RN,AN=class extends Ei{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Sa&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Qc=new AN;function sm(){let e,t;const s=new Promise((l,c)=>{e=l,t=c});s.status="pending",s.catch(()=>{});function i(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{i({status:"fulfilled",value:l}),e(l)},s.reject=l=>{i({status:"rejected",reason:l}),t(l)},s}function LN(e){return Math.min(1e3*2**e,3e4)}function Wv(e){return(e??"online")==="online"?Qc.isOnline():!0}var Qv=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Tf(e){return e instanceof Qv}function Hv(e){let t=!1,s=0,i=!1,l;const c=sm(),u=w=>{i||(N(new Qv(w)),e.abort?.())},f=()=>{t=!0},h=()=>{t=!1},p=()=>zm.isFocused()&&(e.networkMode==="always"||Qc.isOnline())&&e.canRun(),v=()=>Wv(e.networkMode)&&e.canRun(),b=w=>{i||(i=!0,e.onSuccess?.(w),l?.(),c.resolve(w))},N=w=>{i||(i=!0,e.onError?.(w),l?.(),c.reject(w))},C=()=>new Promise(w=>{l=S=>{(i||p())&&w(S)},e.onPause?.()}).then(()=>{l=void 0,i||e.onContinue?.()}),_=()=>{if(i)return;let w;const S=s===0?e.initialPromise:void 0;try{w=S??e.fn()}catch(k){w=Promise.reject(k)}Promise.resolve(w).then(b).catch(k=>{if(i)return;const I=e.retry??(Sa?0:3),L=e.retryDelay??LN,P=typeof L=="function"?L(s,k):L,F=I===!0||typeof I=="number"&&s<I||typeof I=="function"&&I(s,k);if(t||!F){N(k);return}s++,e.onFail?.(s,k),EN(P).then(()=>p()?void 0:C()).then(()=>{t?N(k):_()})})};return{promise:c,cancel:u,continue:()=>(l?.(),c),cancelRetry:f,continueRetry:h,canStart:v,start:()=>(v()?_():C().then(_),c)}}function DN(){let e=[],t=0,s=f=>{f()},i=f=>{f()},l=f=>setTimeout(f,0);const c=f=>{t?e.push(f):l(()=>{s(f)})},u=()=>{const f=e;e=[],f.length&&l(()=>{i(()=>{f.forEach(h=>{s(h)})})})};return{batch:f=>{let h;t++;try{h=f()}finally{t--,t||u()}return h},batchCalls:f=>(...h)=>{c(()=>{f(...h)})},schedule:c,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{l=f}}}var Qt=DN(),Gv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tm(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Sa?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},MN=class extends Gv{#e;#t;#r;#n;#i;#a;constructor(e){super(),this.#a=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=ON(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const s=rm(this.state.data,e,this.options);return this.#s({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(tr).catch(tr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>vr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Vv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#a=!0,s.signal)})},l=()=>{const f=Uv(this.options,t),h={queryKey:this.queryKey,meta:this.meta};return i(h),this.#a=!1,this.options.persister?this.options.persister(f,h,this):f(h)},c={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};i(c),this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#s({type:"fetch",meta:c.fetchOptions?.meta});const u=f=>{Tf(f)&&f.silent||this.#s({type:"error",error:f}),Tf(f)||(this.#r.config.onError?.(f,this),this.#r.config.onSettled?.(this.state.data,f,this)),this.scheduleGc()};return this.#n=Hv({initialPromise:t?.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{if(f===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(h){u(h);return}this.#r.config.onSuccess?.(f,this),this.#r.config.onSettled?.(f,this.state.error,this),this.scheduleGc()},onError:u,onFail:(f,h)=>{this.#s({type:"failed",failureCount:f,error:h})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Kv(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Tf(i)&&i.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Qt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function Kv(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Wv(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ON(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,i=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var FN=class extends Ei{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const i=t.queryKey,l=t.queryHash??Om(i,t);let c=this.get(l);return c||(c=new MN({cache:this,queryKey:i,queryHash:l,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(c)),c}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Qt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>px(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>px(e,s)):t}notify(e){Qt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Qt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Qt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},zN=class extends Gv{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||Zv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=Hv({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#n({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",s=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:s}),await this.#t.config.onMutate?.(e,this);const l=await this.options.onMutate?.(e);l!==this.state.context&&this.#n({type:"pending",context:l,variables:e,isPaused:s})}const i=await this.#r.start();return await this.#t.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#t.runNext(this)}}#n(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Qt.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function Zv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $N=class extends Ei{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,s){const i=new zN({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:s});return this.add(i),i}add(e){const t=Sc(e),s=this.#e.get(t)??[];s.push(e),this.#e.set(t,s),this.notify({type:"added",mutation:e})}remove(e){const t=Sc(e);if(this.#e.has(t)){const s=this.#e.get(t)?.filter(i=>i!==e);s&&(s.length===0?this.#e.delete(t):this.#e.set(t,s))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(Sc(e))?.find(s=>s.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(Sc(e))?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve()}clear(){Qt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(s=>hx(t,s))}findAll(e={}){return this.getAll().filter(t=>hx(e,t))}notify(e){Qt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Qt.batch(()=>Promise.all(e.map(t=>t.continue().catch(tr))))}};function Sc(e){return e.options.scope?.id??String(e.mutationId)}function vx(e){return{onFetch:(t,s)=>{const i=t.options,l=t.fetchOptions?.meta?.fetchMore?.direction,c=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},h=0;const p=async()=>{let v=!1;const b=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},N=Uv(t.options,t.fetchOptions),C=async(_,w,S)=>{if(v)return Promise.reject();if(w==null&&_.pages.length)return Promise.resolve(_);const k={queryKey:t.queryKey,pageParam:w,direction:S?"backward":"forward",meta:t.options.meta};b(k);const I=await N(k),{maxPages:L}=t.options,P=S?IN:TN;return{pages:P(_.pages,I,L),pageParams:P(_.pageParams,w,L)}};if(l&&c.length){const _=l==="backward",w=_?BN:yx,S={pages:c,pageParams:u},k=w(i,S);f=await C(S,k,_)}else{const _=e??c.length;do{const w=h===0?u[0]??i.initialPageParam:yx(i,f);if(h>0&&w==null)break;f=await C(f,w),h++}while(h<_)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(p,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=p}}}function yx(e,{pages:t,pageParams:s}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,s[i],s):void 0}function BN(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var VN=class{#e;#t;#r;#n;#i;#a;#s;#o;constructor(e={}){this.#e=e.queryCache||new FN,this.#t=e.mutationCache||new $N,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#s=zm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Qc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const s=this.defaultQueryOptions(e),i=this.#e.build(this,s);return e.revalidateIfStale&&i.isStaleByTime(pi(s.staleTime,i))&&this.prefetchQuery(s),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const i=s.data;return[t,i]})}setQueryData(e,t,s){const i=this.defaultQueryOptions({queryKey:e}),c=this.#e.get(i.queryHash)?.state.data,u=PN(t,c);if(u!==void 0)return this.#e.build(this,i).setData(u,{...s,manual:!0})}setQueriesData(e,t,s){return Qt.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Qt.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e,i={type:"active",...e};return Qt.batch(()=>(s.findAll(e).forEach(l=>{l.reset()}),this.refetchQueries(i,t)))}cancelQueries(e={},t={}){const s={revert:!0,...t},i=Qt.batch(()=>this.#e.findAll(e).map(l=>l.cancel(s)));return Promise.all(i).then(tr).catch(tr)}invalidateQueries(e={},t={}){return Qt.batch(()=>{if(this.#e.findAll(e).forEach(i=>{i.invalidate()}),e.refetchType==="none")return Promise.resolve();const s={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(s,t)})}refetchQueries(e={},t){const s={...t,cancelRefetch:t?.cancelRefetch??!0},i=Qt.batch(()=>this.#e.findAll(e).filter(l=>!l.isDisabled()).map(l=>{let c=l.fetch(void 0,s);return s.throwOnError||(c=c.catch(tr)),l.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(i).then(tr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(pi(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(tr).catch(tr)}fetchInfiniteQuery(e){return e.behavior=vx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(tr).catch(tr)}ensureInfiniteQueryData(e){return e.behavior=vx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Qc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(ka(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let s={};return t.forEach(i=>{$o(e,i.queryKey)&&(s={...s,...i.defaultOptions})}),s}setMutationDefaults(e,t){this.#i.set(ka(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()];let s={};return t.forEach(i=>{$o(e,i.mutationKey)&&(s={...s,...i.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Om(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Fm&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},qN=class extends Ei{constructor(e,t){super(),this.options=t,this.#e=e,this.#o=null,this.#s=sm(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#a;#s;#o;#h;#f;#m;#c;#d;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),wx(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return am(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return am(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#b(),this.#t.removeObserver(this)}setOptions(e,t){const s=this.options,i=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),s._defaulted&&!Wc(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&bx(this.#t,i,this.options,s)&&this.#u(),this.updateResult(t),l&&(this.#t!==i||vr(this.options.enabled,this.#t)!==vr(s.enabled,this.#t)||pi(this.options.staleTime,this.#t)!==pi(s.staleTime,this.#t))&&this.#g();const c=this.#x();l&&(this.#t!==i||vr(this.options.enabled,this.#t)!==vr(s.enabled,this.#t)||c!==this.#l)&&this.#v(c)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(t,e);return WN(this,s)&&(this.#n=s,this.#a=this.options,this.#i=this.#t.state),s}getCurrentResult(){return this.#n}trackResult(e,t){const s={};return Object.keys(e).forEach(i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),t?.(i),e[i])})}),s}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(e){this.#j();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(tr)),t}#g(){this.#w();const e=pi(this.options.staleTime,this.#t);if(Sa||this.#n.isStale||!tm(e))return;const s=Vv(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},s)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#b(),this.#l=e,!(Sa||vr(this.options.enabled,this.#t)===!1||!tm(this.#l)||this.#l===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||zm.isFocused())&&this.#u()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#w(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#b(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const s=this.#t,i=this.options,l=this.#n,c=this.#i,u=this.#a,h=e!==s?e.state:this.#r,{state:p}=e;let v={...p},b=!1,N;if(t._optimisticResults){const q=this.hasListeners(),X=!q&&wx(e,t),se=q&&bx(e,s,t,i);(X||se)&&(v={...v,...Kv(p.data,e.options)}),t._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:C,errorUpdatedAt:_,status:w}=v;if(t.select&&v.data!==void 0)if(l&&v.data===c?.data&&t.select===this.#h)N=this.#f;else try{this.#h=t.select,N=t.select(v.data),N=rm(l?.data,N,t),this.#f=N,this.#o=null}catch(q){this.#o=q}else N=v.data;if(t.placeholderData!==void 0&&N===void 0&&w==="pending"){let q;if(l?.isPlaceholderData&&t.placeholderData===u?.placeholderData)q=l.data;else if(q=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,t.select&&q!==void 0)try{q=t.select(q),this.#o=null}catch(X){this.#o=X}q!==void 0&&(w="success",N=rm(l?.data,q,t),b=!0)}this.#o&&(C=this.#o,N=this.#f,_=Date.now(),w="error");const S=v.fetchStatus==="fetching",k=w==="pending",I=w==="error",L=k&&S,P=N!==void 0,G={status:w,fetchStatus:v.fetchStatus,isPending:k,isSuccess:w==="success",isError:I,isInitialLoading:L,isLoading:L,data:N,dataUpdatedAt:v.dataUpdatedAt,error:C,errorUpdatedAt:_,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>h.dataUpdateCount||v.errorUpdateCount>h.errorUpdateCount,isFetching:S,isRefetching:S&&!k,isLoadingError:I&&!P,isPaused:v.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:I&&P,isStale:$m(e,t),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const q=ce=>{G.status==="error"?ce.reject(G.error):G.data!==void 0&&ce.resolve(G.data)},X=()=>{const ce=this.#s=G.promise=sm();q(ce)},se=this.#s;switch(se.status){case"pending":e.queryHash===s.queryHash&&q(se);break;case"fulfilled":(G.status==="error"||G.data!==se.value)&&X();break;case"rejected":(G.status!=="error"||G.error!==se.reason)&&X();break}}return G}updateResult(e){const t=this.#n,s=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#m=this.#t),Wc(s,t))return;this.#n=s;const i={},l=()=>{if(!t)return!0;const{notifyOnChangeProps:c}=this.options,u=typeof c=="function"?c():c;if(u==="all"||!u&&!this.#p.size)return!0;const f=new Set(u??this.#p);return this.options.throwOnError&&f.add("error"),Object.keys(this.#n).some(h=>{const p=h;return this.#n[p]!==t[p]&&f.has(p)})};e?.listeners!==!1&&l()&&(i.listeners=!0),this.#N({...i,...e})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){Qt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function UN(e,t){return vr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function wx(e,t){return UN(e,t)||e.state.data!==void 0&&am(e,t,t.refetchOnMount)}function am(e,t,s){if(vr(t.enabled,e)!==!1){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&$m(e,t)}return!1}function bx(e,t,s,i){return(e!==t||vr(i.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&$m(e,s)}function $m(e,t){return vr(t.enabled,e)!==!1&&e.isStaleByTime(pi(t.staleTime,e))}function WN(e,t){return!Wc(e.getCurrentResult(),t)}var QN=class extends Ei{#e;#t=void 0;#r;#n;constructor(t,s){super(),this.#e=t,this.setOptions(s),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const s=this.options;this.options=this.#e.defaultMutationOptions(t),Wc(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),s?.mutationKey&&this.options.mutationKey&&ka(s.mutationKey)!==ka(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(t,s){return this.#n=s,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){const t=this.#r?.state??Zv();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){Qt.batch(()=>{if(this.#n&&this.hasListeners()){const s=this.#t.variables,i=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,s,i),this.#n.onSettled?.(t.data,null,s,i)):t?.type==="error"&&(this.#n.onError?.(t.error,s,i),this.#n.onSettled?.(void 0,t.error,s,i))}this.listeners.forEach(s=>{s(this.#t)})})}},Yv=x.createContext(void 0),Bm=e=>{const t=x.useContext(Yv);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},HN=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(Yv.Provider,{value:e,children:t})),Xv=x.createContext(!1),GN=()=>x.useContext(Xv);Xv.Provider;function KN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ZN=x.createContext(KN()),YN=()=>x.useContext(ZN);function Jv(e,t){return typeof e=="function"?e(...t):!!e}function im(){}var XN=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},JN=e=>{x.useEffect(()=>{e.clearReset()},[e])},eS=({result:e,errorResetBoundary:t,throwOnError:s,query:i})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&Jv(s,[e.error,i]),tS=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},nS=(e,t)=>e.isLoading&&e.isFetching&&!t,rS=(e,t)=>e?.suspense&&t.isPending,jx=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function sS(e,t,s){const i=Bm(),l=GN(),c=YN(),u=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=l?"isRestoring":"optimistic",tS(u),XN(u,c),JN(c);const f=!i.getQueryCache().get(u.queryHash),[h]=x.useState(()=>new t(i,u)),p=h.getOptimisticResult(u);if(x.useSyncExternalStore(x.useCallback(v=>{const b=l?im:h.subscribe(Qt.batchCalls(v));return h.updateResult(),b},[h,l]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),x.useEffect(()=>{h.setOptions(u,{listeners:!1})},[u,h]),rS(u,p))throw jx(u,h,c);if(eS({result:p,errorResetBoundary:c,throwOnError:u.throwOnError,query:i.getQueryCache().get(u.queryHash)}))throw p.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(u,p),u.experimental_prefetchInRender&&!Sa&&nS(p,l)&&(f?jx(u,h,c):i.getQueryCache().get(u.queryHash)?.promise)?.catch(im).finally(()=>{h.updateResult()}),u.notifyOnChangeProps?p:h.trackResult(p)}function lt(e,t){return sS(e,qN)}function Mt(e,t){const s=Bm(),[i]=x.useState(()=>new QN(s,e));x.useEffect(()=>{i.setOptions(e)},[i,e]);const l=x.useSyncExternalStore(x.useCallback(u=>i.subscribe(Qt.batchCalls(u)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),c=x.useCallback((u,f)=>{i.mutate(u,f).catch(im)},[i]);if(l.error&&Jv(i.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:c,mutateAsync:l.mutate}}async function ey(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function ve(e,t,s){const i=await fetch(t,{method:e,headers:s?{"Content-Type":"application/json"}:{},body:s?JSON.stringify(s):void 0,credentials:"include"});return await ey(i),i}const aS=({on401:e})=>async({queryKey:t})=>{const s=await fetch(t.join("/"),{credentials:"include"});return await ey(s),await s.json()},me=new VN({defaultOptions:{queries:{queryFn:aS({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),iS=1,oS=1e6;let If=0;function lS(){return If=(If+1)%Number.MAX_SAFE_INTEGER,If.toString()}const Rf=new Map,Nx=e=>{if(Rf.has(e))return;const t=setTimeout(()=>{Rf.delete(e),Lo({type:"REMOVE_TOAST",toastId:e})},oS);Rf.set(e,t)},cS=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,iS)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?Nx(s):e.toasts.forEach(i=>{Nx(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===s||s===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},Fc=[];let zc={toasts:[]};function Lo(e){zc=cS(zc,e),Fc.forEach(t=>{t(zc)})}function dS({...e}){const t=lS(),s=l=>Lo({type:"UPDATE_TOAST",toast:{...l,id:t}}),i=()=>Lo({type:"DISMISS_TOAST",toastId:t});return Lo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:l=>{l||i()}}}),{id:t,dismiss:i,update:s}}function Wn(){const[e,t]=x.useState(zc);return x.useEffect(()=>(Fc.push(t),()=>{const s=Fc.indexOf(t);s>-1&&Fc.splice(s,1)}),[e]),{...e,toast:dS,dismiss:s=>Lo({type:"DISMISS_TOAST",toastId:s})}}var Ti=Iv();const uS=Tv(Ti);function Ce(e,t,{checkForDefaultPrevented:s=!0}={}){return function(l){if(e?.(l),s===!1||!l.defaultPrevented)return t?.(l)}}function Sx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ty(...e){return t=>{let s=!1;const i=e.map(l=>{const c=Sx(l,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let l=0;l<i.length;l++){const c=i[l];typeof c=="function"?c():Sx(e[l],null)}}}}function st(...e){return x.useCallback(ty(...e),e)}function fS(e,t){const s=x.createContext(t),i=c=>{const{children:u,...f}=c,h=x.useMemo(()=>f,Object.values(f));return n.jsx(s.Provider,{value:h,children:u})};i.displayName=e+"Provider";function l(c){const u=x.useContext(s);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[i,l]}function Er(e,t=[]){let s=[];function i(c,u){const f=x.createContext(u),h=s.length;s=[...s,u];const p=b=>{const{scope:N,children:C,..._}=b,w=N?.[e]?.[h]||f,S=x.useMemo(()=>_,Object.values(_));return n.jsx(w.Provider,{value:S,children:C})};p.displayName=c+"Provider";function v(b,N){const C=N?.[e]?.[h]||f,_=x.useContext(C);if(_)return _;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${c}\``)}return[p,v]}const l=()=>{const c=s.map(u=>x.createContext(u));return function(f){const h=f?.[e]||c;return x.useMemo(()=>({[`__scope${e}`]:{...f,[e]:h}}),[f,h])}};return l.scopeName=e,[i,mS(l,...t)]}function mS(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const i=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const u=i.reduce((f,{useScope:h,scopeName:p})=>{const b=h(c)[`__scope${p}`];return{...f,...b}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return s.scopeName=t.scopeName,s}function bi(e){const t=hS(e),s=x.forwardRef((i,l)=>{const{children:c,...u}=i,f=x.Children.toArray(c),h=f.find(xS);if(h){const p=h.props.children,v=f.map(b=>b===h?x.Children.count(p)>1?x.Children.only(null):x.isValidElement(p)?p.props.children:null:b);return n.jsx(t,{...u,ref:l,children:x.isValidElement(p)?x.cloneElement(p,void 0,v):null})}return n.jsx(t,{...u,ref:l,children:c})});return s.displayName=`${e}.Slot`,s}var pS=bi("Slot");function hS(e){const t=x.forwardRef((s,i)=>{const{children:l,...c}=s;if(x.isValidElement(l)){const u=yS(l),f=vS(c,l.props);return l.type!==x.Fragment&&(f.ref=i?ty(i,u):u),x.cloneElement(l,f)}return x.Children.count(l)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ny=Symbol("radix.slottable");function gS(e){const t=({children:s})=>n.jsx(n.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=ny,t}function xS(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ny}function vS(e,t){const s={...t};for(const i in t){const l=e[i],c=t[i];/^on[A-Z]/.test(i)?l&&c?s[i]=(...f)=>{c(...f),l(...f)}:l&&(s[i]=l):i==="style"?s[i]={...l,...c}:i==="className"&&(s[i]=[l,c].filter(Boolean).join(" "))}return{...e,...s}}function yS(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Vm(e){const t=e+"CollectionProvider",[s,i]=Er(t),[l,c]=s(t,{collectionRef:{current:null},itemMap:new Map}),u=w=>{const{scope:S,children:k}=w,I=zs.useRef(null),L=zs.useRef(new Map).current;return n.jsx(l,{scope:S,itemMap:L,collectionRef:I,children:k})};u.displayName=t;const f=e+"CollectionSlot",h=bi(f),p=zs.forwardRef((w,S)=>{const{scope:k,children:I}=w,L=c(f,k),P=st(S,L.collectionRef);return n.jsx(h,{ref:P,children:I})});p.displayName=f;const v=e+"CollectionItemSlot",b="data-radix-collection-item",N=bi(v),C=zs.forwardRef((w,S)=>{const{scope:k,children:I,...L}=w,P=zs.useRef(null),F=st(S,P),G=c(v,k);return zs.useEffect(()=>(G.itemMap.set(P,{ref:P,...L}),()=>{G.itemMap.delete(P)})),n.jsx(N,{[b]:"",ref:F,children:I})});C.displayName=v;function _(w){const S=c(e+"CollectionConsumer",w);return zs.useCallback(()=>{const I=S.collectionRef.current;if(!I)return[];const L=Array.from(I.querySelectorAll(`[${b}]`));return Array.from(S.itemMap.values()).sort((G,q)=>L.indexOf(G.ref.current)-L.indexOf(q.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:u,Slot:p,ItemSlot:C},_,i]}var wS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qe=wS.reduce((e,t)=>{const s=bi(`Primitive.${t}`),i=x.forwardRef((l,c)=>{const{asChild:u,...f}=l,h=u?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(h,{...f,ref:c})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function ry(e,t){e&&Ti.flushSync(()=>e.dispatchEvent(t))}function Bt(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...s)=>t.current?.(...s),[])}function bS(e,t=globalThis?.document){const s=Bt(e);x.useEffect(()=>{const i=l=>{l.key==="Escape"&&s(l)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[s,t])}var jS="DismissableLayer",om="dismissableLayer.update",NS="dismissableLayer.pointerDownOutside",SS="dismissableLayer.focusOutside",kx,sy=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),il=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...h}=e,p=x.useContext(sy),[v,b]=x.useState(null),N=v?.ownerDocument??globalThis?.document,[,C]=x.useState({}),_=st(t,q=>b(q)),w=Array.from(p.layers),[S]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),k=w.indexOf(S),I=v?w.indexOf(v):-1,L=p.layersWithOutsidePointerEventsDisabled.size>0,P=I>=k,F=CS(q=>{const X=q.target,se=[...p.branches].some(ce=>ce.contains(X));!P||se||(l?.(q),u?.(q),q.defaultPrevented||f?.())},N),G=_S(q=>{const X=q.target;[...p.branches].some(ce=>ce.contains(X))||(c?.(q),u?.(q),q.defaultPrevented||f?.())},N);return bS(q=>{I===p.layers.size-1&&(i?.(q),!q.defaultPrevented&&f&&(q.preventDefault(),f()))},N),x.useEffect(()=>{if(v)return s&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(kx=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),Cx(),()=>{s&&p.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=kx)}},[v,N,s,p]),x.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),Cx())},[v,p]),x.useEffect(()=>{const q=()=>C({});return document.addEventListener(om,q),()=>document.removeEventListener(om,q)},[]),n.jsx(qe.div,{...h,ref:_,style:{pointerEvents:L?P?"auto":"none":void 0,...e.style},onFocusCapture:Ce(e.onFocusCapture,G.onFocusCapture),onBlurCapture:Ce(e.onBlurCapture,G.onBlurCapture),onPointerDownCapture:Ce(e.onPointerDownCapture,F.onPointerDownCapture)})});il.displayName=jS;var kS="DismissableLayerBranch",ay=x.forwardRef((e,t)=>{const s=x.useContext(sy),i=x.useRef(null),l=st(t,i);return x.useEffect(()=>{const c=i.current;if(c)return s.branches.add(c),()=>{s.branches.delete(c)}},[s.branches]),n.jsx(qe.div,{...e,ref:l})});ay.displayName=kS;function CS(e,t=globalThis?.document){const s=Bt(e),i=x.useRef(!1),l=x.useRef(()=>{});return x.useEffect(()=>{const c=f=>{if(f.target&&!i.current){let h=function(){iy(NS,s,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",l.current),l.current=h,t.addEventListener("click",l.current,{once:!0})):h()}else t.removeEventListener("click",l.current);i.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",c),t.removeEventListener("click",l.current)}},[t,s]),{onPointerDownCapture:()=>i.current=!0}}function _S(e,t=globalThis?.document){const s=Bt(e),i=x.useRef(!1);return x.useEffect(()=>{const l=c=>{c.target&&!i.current&&iy(SS,s,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",l),()=>t.removeEventListener("focusin",l)},[t,s]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Cx(){const e=new CustomEvent(om);document.dispatchEvent(e)}function iy(e,t,s,{discrete:i}){const l=s.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&l.addEventListener(e,t,{once:!0}),i?ry(l,c):l.dispatchEvent(c)}var PS=il,ES=ay,mn=globalThis?.document?x.useLayoutEffect:()=>{},TS="Portal",xd=x.forwardRef((e,t)=>{const{container:s,...i}=e,[l,c]=x.useState(!1);mn(()=>c(!0),[]);const u=s||l&&globalThis?.document?.body;return u?uS.createPortal(n.jsx(qe.div,{...i,ref:t}),u):null});xd.displayName=TS;function IS(e,t){return x.useReducer((s,i)=>t[s][i]??s,e)}var ir=e=>{const{present:t,children:s}=e,i=RS(t),l=typeof s=="function"?s({present:i.isPresent}):x.Children.only(s),c=st(i.ref,AS(l));return typeof s=="function"||i.isPresent?x.cloneElement(l,{ref:c}):null};ir.displayName="Presence";function RS(e){const[t,s]=x.useState(),i=x.useRef({}),l=x.useRef(e),c=x.useRef("none"),u=e?"mounted":"unmounted",[f,h]=IS(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const p=kc(i.current);c.current=f==="mounted"?p:"none"},[f]),mn(()=>{const p=i.current,v=l.current;if(v!==e){const N=c.current,C=kc(p);e?h("MOUNT"):C==="none"||p?.display==="none"?h("UNMOUNT"):h(v&&N!==C?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,h]),mn(()=>{if(t){let p;const v=t.ownerDocument.defaultView??window,b=C=>{const w=kc(i.current).includes(C.animationName);if(C.target===t&&w&&(h("ANIMATION_END"),!l.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",p=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},N=C=>{C.target===t&&(c.current=kc(i.current))};return t.addEventListener("animationstart",N),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{v.clearTimeout(p),t.removeEventListener("animationstart",N),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:x.useCallback(p=>{p&&(i.current=getComputedStyle(p)),s(p)},[])}}function kc(e){return e?.animationName||"none"}function AS(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Ca({prop:e,defaultProp:t,onChange:s=()=>{}}){const[i,l]=LS({defaultProp:t,onChange:s}),c=e!==void 0,u=c?e:i,f=Bt(s),h=x.useCallback(p=>{if(c){const b=typeof p=="function"?p(e):p;b!==e&&f(b)}else l(p)},[c,e,l,f]);return[u,h]}function LS({defaultProp:e,onChange:t}){const s=x.useState(e),[i]=s,l=x.useRef(i),c=Bt(t);return x.useEffect(()=>{l.current!==i&&(c(i),l.current=i)},[i,l,c]),s}var DS="VisuallyHidden",ol=x.forwardRef((e,t)=>n.jsx(qe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ol.displayName=DS;var MS=ol,qm="ToastProvider",[Um,OS,FS]=Vm("Toast"),[oy]=Er("Toast",[FS]),[zS,vd]=oy(qm),ly=e=>{const{__scopeToast:t,label:s="Notification",duration:i=5e3,swipeDirection:l="right",swipeThreshold:c=50,children:u}=e,[f,h]=x.useState(null),[p,v]=x.useState(0),b=x.useRef(!1),N=x.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${qm}\`. Expected non-empty \`string\`.`),n.jsx(Um.Provider,{scope:t,children:n.jsx(zS,{scope:t,label:s,duration:i,swipeDirection:l,swipeThreshold:c,toastCount:p,viewport:f,onViewportChange:h,onToastAdd:x.useCallback(()=>v(C=>C+1),[]),onToastRemove:x.useCallback(()=>v(C=>C-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:N,children:u})})};ly.displayName=qm;var cy="ToastViewport",$S=["F8"],lm="toast.viewportPause",cm="toast.viewportResume",dy=x.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:i=$S,label:l="Notifications ({hotkey})",...c}=e,u=vd(cy,s),f=OS(s),h=x.useRef(null),p=x.useRef(null),v=x.useRef(null),b=x.useRef(null),N=st(t,b,u.onViewportChange),C=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=u.toastCount>0;x.useEffect(()=>{const S=k=>{i.length!==0&&i.every(L=>k[L]||k.code===L)&&b.current?.focus()};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[i]),x.useEffect(()=>{const S=h.current,k=b.current;if(_&&S&&k){const I=()=>{if(!u.isClosePausedRef.current){const G=new CustomEvent(lm);k.dispatchEvent(G),u.isClosePausedRef.current=!0}},L=()=>{if(u.isClosePausedRef.current){const G=new CustomEvent(cm);k.dispatchEvent(G),u.isClosePausedRef.current=!1}},P=G=>{!S.contains(G.relatedTarget)&&L()},F=()=>{S.contains(document.activeElement)||L()};return S.addEventListener("focusin",I),S.addEventListener("focusout",P),S.addEventListener("pointermove",I),S.addEventListener("pointerleave",F),window.addEventListener("blur",I),window.addEventListener("focus",L),()=>{S.removeEventListener("focusin",I),S.removeEventListener("focusout",P),S.removeEventListener("pointermove",I),S.removeEventListener("pointerleave",F),window.removeEventListener("blur",I),window.removeEventListener("focus",L)}}},[_,u.isClosePausedRef]);const w=x.useCallback(({tabbingDirection:S})=>{const I=f().map(L=>{const P=L.ref.current,F=[P,...JS(P)];return S==="forwards"?F:F.reverse()});return(S==="forwards"?I.reverse():I).flat()},[f]);return x.useEffect(()=>{const S=b.current;if(S){const k=I=>{const L=I.altKey||I.ctrlKey||I.metaKey;if(I.key==="Tab"&&!L){const F=document.activeElement,G=I.shiftKey;if(I.target===S&&G){p.current?.focus();return}const se=w({tabbingDirection:G?"backwards":"forwards"}),ce=se.findIndex(ge=>ge===F);Af(se.slice(ce+1))?I.preventDefault():G?p.current?.focus():v.current?.focus()}};return S.addEventListener("keydown",k),()=>S.removeEventListener("keydown",k)}},[f,w]),n.jsxs(ES,{ref:h,role:"region","aria-label":l.replace("{hotkey}",C),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&n.jsx(dm,{ref:p,onFocusFromOutsideViewport:()=>{const S=w({tabbingDirection:"forwards"});Af(S)}}),n.jsx(Um.Slot,{scope:s,children:n.jsx(qe.ol,{tabIndex:-1,...c,ref:N})}),_&&n.jsx(dm,{ref:v,onFocusFromOutsideViewport:()=>{const S=w({tabbingDirection:"backwards"});Af(S)}})]})});dy.displayName=cy;var uy="ToastFocusProxy",dm=x.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:i,...l}=e,c=vd(uy,s);return n.jsx(ol,{"aria-hidden":!0,tabIndex:0,...l,ref:t,style:{position:"fixed"},onFocus:u=>{const f=u.relatedTarget;!c.viewport?.contains(f)&&i()}})});dm.displayName=uy;var yd="Toast",BS="toast.swipeStart",VS="toast.swipeMove",qS="toast.swipeCancel",US="toast.swipeEnd",fy=x.forwardRef((e,t)=>{const{forceMount:s,open:i,defaultOpen:l,onOpenChange:c,...u}=e,[f=!0,h]=Ca({prop:i,defaultProp:l,onChange:c});return n.jsx(ir,{present:s||f,children:n.jsx(HS,{open:f,...u,ref:t,onClose:()=>h(!1),onPause:Bt(e.onPause),onResume:Bt(e.onResume),onSwipeStart:Ce(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(e.onSwipeMove,p=>{const{x:v,y:b}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:Ce(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(e.onSwipeEnd,p=>{const{x:v,y:b}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),h(!1)})})})});fy.displayName=yd;var[WS,QS]=oy(yd,{onClose(){}}),HS=x.forwardRef((e,t)=>{const{__scopeToast:s,type:i="foreground",duration:l,open:c,onClose:u,onEscapeKeyDown:f,onPause:h,onResume:p,onSwipeStart:v,onSwipeMove:b,onSwipeCancel:N,onSwipeEnd:C,..._}=e,w=vd(yd,s),[S,k]=x.useState(null),I=st(t,$=>k($)),L=x.useRef(null),P=x.useRef(null),F=l||w.duration,G=x.useRef(0),q=x.useRef(F),X=x.useRef(0),{onToastAdd:se,onToastRemove:ce}=w,ge=Bt(()=>{S?.contains(document.activeElement)&&w.viewport?.focus(),u()}),oe=x.useCallback($=>{!$||$===1/0||(window.clearTimeout(X.current),G.current=new Date().getTime(),X.current=window.setTimeout(ge,$))},[ge]);x.useEffect(()=>{const $=w.viewport;if($){const fe=()=>{oe(q.current),p?.()},B=()=>{const Y=new Date().getTime()-G.current;q.current=q.current-Y,window.clearTimeout(X.current),h?.()};return $.addEventListener(lm,B),$.addEventListener(cm,fe),()=>{$.removeEventListener(lm,B),$.removeEventListener(cm,fe)}}},[w.viewport,F,h,p,oe]),x.useEffect(()=>{c&&!w.isClosePausedRef.current&&oe(F)},[c,F,w.isClosePausedRef,oe]),x.useEffect(()=>(se(),()=>ce()),[se,ce]);const K=x.useMemo(()=>S?yy(S):null,[S]);return w.viewport?n.jsxs(n.Fragment,{children:[K&&n.jsx(GS,{__scopeToast:s,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),n.jsx(WS,{scope:s,onClose:ge,children:Ti.createPortal(n.jsx(Um.ItemSlot,{scope:s,children:n.jsx(PS,{asChild:!0,onEscapeKeyDown:Ce(f,()=>{w.isFocusedToastEscapeKeyDownRef.current||ge(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(qe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":w.swipeDirection,..._,ref:I,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ce(e.onKeyDown,$=>{$.key==="Escape"&&(f?.($.nativeEvent),$.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,ge()))}),onPointerDown:Ce(e.onPointerDown,$=>{$.button===0&&(L.current={x:$.clientX,y:$.clientY})}),onPointerMove:Ce(e.onPointerMove,$=>{if(!L.current)return;const fe=$.clientX-L.current.x,B=$.clientY-L.current.y,Y=!!P.current,E=["left","right"].includes(w.swipeDirection),U=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,Q=E?U(0,fe):0,A=E?0:U(0,B),H=$.pointerType==="touch"?10:2,_e={x:Q,y:A},Ee={originalEvent:$,delta:_e};Y?(P.current=_e,Cc(VS,b,Ee,{discrete:!1})):_x(_e,w.swipeDirection,H)?(P.current=_e,Cc(BS,v,Ee,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(fe)>H||Math.abs(B)>H)&&(L.current=null)}),onPointerUp:Ce(e.onPointerUp,$=>{const fe=P.current,B=$.target;if(B.hasPointerCapture($.pointerId)&&B.releasePointerCapture($.pointerId),P.current=null,L.current=null,fe){const Y=$.currentTarget,E={originalEvent:$,delta:fe};_x(fe,w.swipeDirection,w.swipeThreshold)?Cc(US,C,E,{discrete:!0}):Cc(qS,N,E,{discrete:!0}),Y.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),GS=e=>{const{__scopeToast:t,children:s,...i}=e,l=vd(yd,t),[c,u]=x.useState(!1),[f,h]=x.useState(!1);return YS(()=>u(!0)),x.useEffect(()=>{const p=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(p)},[]),f?null:n.jsx(xd,{asChild:!0,children:n.jsx(ol,{...i,children:c&&n.jsxs(n.Fragment,{children:[l.label," ",s]})})})},KS="ToastTitle",my=x.forwardRef((e,t)=>{const{__scopeToast:s,...i}=e;return n.jsx(qe.div,{...i,ref:t})});my.displayName=KS;var ZS="ToastDescription",py=x.forwardRef((e,t)=>{const{__scopeToast:s,...i}=e;return n.jsx(qe.div,{...i,ref:t})});py.displayName=ZS;var hy="ToastAction",gy=x.forwardRef((e,t)=>{const{altText:s,...i}=e;return s.trim()?n.jsx(vy,{altText:s,asChild:!0,children:n.jsx(Wm,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${hy}\`. Expected non-empty \`string\`.`),null)});gy.displayName=hy;var xy="ToastClose",Wm=x.forwardRef((e,t)=>{const{__scopeToast:s,...i}=e,l=QS(xy,s);return n.jsx(vy,{asChild:!0,children:n.jsx(qe.button,{type:"button",...i,ref:t,onClick:Ce(e.onClick,l.onClose)})})});Wm.displayName=xy;var vy=x.forwardRef((e,t)=>{const{__scopeToast:s,altText:i,...l}=e;return n.jsx(qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...l,ref:t})});function yy(e){const t=[];return Array.from(e.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),XS(i)){const l=i.ariaHidden||i.hidden||i.style.display==="none",c=i.dataset.radixToastAnnounceExclude==="";if(!l)if(c){const u=i.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...yy(i))}}),t}function Cc(e,t,s,{discrete:i}){const l=s.originalEvent.currentTarget,c=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&l.addEventListener(e,t,{once:!0}),i?ry(l,c):l.dispatchEvent(c)}var _x=(e,t,s=0)=>{const i=Math.abs(e.x),l=Math.abs(e.y),c=i>l;return t==="left"||t==="right"?c&&i>s:!c&&l>s};function YS(e=()=>{}){const t=Bt(e);mn(()=>{let s=0,i=0;return s=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(i)}},[t])}function XS(e){return e.nodeType===e.ELEMENT_NODE}function JS(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const l=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||l?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Af(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var ek=ly,wy=dy,by=fy,jy=my,Ny=py,Sy=gy,ky=Wm;function Cy(e){var t,s,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(s=Cy(e[t]))&&(i&&(i+=" "),i+=s)}else for(s in e)e[s]&&(i&&(i+=" "),i+=s);return i}function _y(){for(var e,t,s=0,i="",l=arguments.length;s<l;s++)(e=arguments[s])&&(t=Cy(e))&&(i&&(i+=" "),i+=t);return i}const Px=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ex=_y,wd=(e,t)=>s=>{var i;if(t?.variants==null)return Ex(e,s?.class,s?.className);const{variants:l,defaultVariants:c}=t,u=Object.keys(l).map(p=>{const v=s?.[p],b=c?.[p];if(v===null)return null;const N=Px(v)||Px(b);return l[p][N]}),f=s&&Object.entries(s).reduce((p,v)=>{let[b,N]=v;return N===void 0||(p[b]=N),p},{}),h=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((p,v)=>{let{class:b,className:N,...C}=v;return Object.entries(C).every(_=>{let[w,S]=_;return Array.isArray(S)?S.includes({...c,...f}[w]):{...c,...f}[w]===S})?[...p,b,N]:p},[]);return Ex(e,u,h,s?.class,s?.className)};const tk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Py=(...e)=>e.filter((t,s,i)=>!!t&&i.indexOf(t)===s).join(" ");var nk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rk=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:c,iconNode:u,...f},h)=>x.createElement("svg",{ref:h,...nk,width:t,height:t,stroke:e,strokeWidth:i?Number(s)*24/Number(t):s,className:Py("lucide",l),...f},[...u.map(([p,v])=>x.createElement(p,v)),...Array.isArray(c)?c:[c]]));const Pe=(e,t)=>{const s=x.forwardRef(({className:i,...l},c)=>x.createElement(rk,{ref:c,iconNode:t,className:Py(`lucide-${tk(e)}`,i),...l}));return s.displayName=`${e}`,s};const Lf=Pe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const kr=Pe("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);const Qm=Pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const sk=Pe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const Tx=Pe("Backpack",[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1ol0lm"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6",key:"1fr6do"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}]]);const Ey=Pe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const ak=Pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const en=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Bo=Pe("Castle",[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z",key:"109fe4"}],["path",{d:"M18 11V4H6v7",key:"mon5oj"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3a3 3 0 0 0-3 3v4",key:"1k4jtn"}],["path",{d:"M22 11V9",key:"3zbp94"}],["path",{d:"M2 11V9",key:"1x5rnq"}],["path",{d:"M6 4V2",key:"1rsq15"}],["path",{d:"M18 4V2",key:"1jsdo1"}],["path",{d:"M10 4V2",key:"75d9ly"}],["path",{d:"M14 4V2",key:"8nj3z6"}]]);const Hc=Pe("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);const cs=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Ty=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const ik=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const ok=Pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const lk=Pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const ck=Pe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Gs=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Iy=Pe("Clover",[["path",{d:"M16.17 7.83 2 22",key:"t58vo8"}],["path",{d:"M4.02 12a2.827 2.827 0 1 1 3.81-4.17A2.827 2.827 0 1 1 12 4.02a2.827 2.827 0 1 1 4.17 3.81A2.827 2.827 0 1 1 19.98 12a2.827 2.827 0 1 1-3.81 4.17A2.827 2.827 0 1 1 12 19.98a2.827 2.827 0 1 1-4.17-3.81A1 1 0 1 1 4 12",key:"17k36q"}],["path",{d:"m7.83 7.83 8.34 8.34",key:"1d7sxk"}]]);const rr=Pe("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);const ds=Pe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const um=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const dk=Pe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const fi=Pe("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);const qs=Pe("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);const is=Pe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const Ix=Pe("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);const jr=Pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const uk=Pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const fk=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const ar=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const bn=Pe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const mk=Pe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const pk=Pe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const nr=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const hk=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Nr=Pe("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);const To=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const tn=Pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const kn=Pe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const Rx=Pe("Skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]]);const kt=Pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const Ax=Pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const fm=Pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const Us=Pe("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);const St=Pe("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);const Ht=Pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const gk=Pe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const ba=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const xk=Pe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const mm=Pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const yt=Pe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const Ry=Pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const Ay=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Ws=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const vk=Pe("Vault",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}],["path",{d:"m7.9 7.9 2.7 2.7",key:"hpeyl3"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}],["path",{d:"m13.4 10.6 2.7-2.7",key:"264c1n"}],["circle",{cx:"7.5",cy:"16.5",r:".5",fill:"currentColor",key:"nkw3mc"}],["path",{d:"m7.9 16.1 2.7-2.7",key:"p81g5e"}],["circle",{cx:"16.5",cy:"16.5",r:".5",fill:"currentColor",key:"fubopw"}],["path",{d:"m13.4 13.4 2.7 2.7",key:"abhel3"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const yk=Pe("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);const $r=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Ks=Pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Hm="-",wk=e=>{const t=jk(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:u=>{const f=u.split(Hm);return f[0]===""&&f.length!==1&&f.shift(),Ly(f,t)||bk(u)},getConflictingClassGroupIds:(u,f)=>{const h=s[u]||[];return f&&i[u]?[...h,...i[u]]:h}}},Ly=(e,t)=>{if(e.length===0)return t.classGroupId;const s=e[0],i=t.nextPart.get(s),l=i?Ly(e.slice(1),i):void 0;if(l)return l;if(t.validators.length===0)return;const c=e.join(Hm);return t.validators.find(({validator:u})=>u(c))?.classGroupId},Lx=/^\[(.+)\]$/,bk=e=>{if(Lx.test(e)){const t=Lx.exec(e)[1],s=t?.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},jk=e=>{const{theme:t,prefix:s}=e,i={nextPart:new Map,validators:[]};return Sk(Object.entries(e.classGroups),s).forEach(([c,u])=>{pm(u,i,c,t)}),i},pm=(e,t,s,i)=>{e.forEach(l=>{if(typeof l=="string"){const c=l===""?t:Dx(t,l);c.classGroupId=s;return}if(typeof l=="function"){if(Nk(l)){pm(l(i),t,s,i);return}t.validators.push({validator:l,classGroupId:s});return}Object.entries(l).forEach(([c,u])=>{pm(u,Dx(t,c),s,i)})})},Dx=(e,t)=>{let s=e;return t.split(Hm).forEach(i=>{s.nextPart.has(i)||s.nextPart.set(i,{nextPart:new Map,validators:[]}),s=s.nextPart.get(i)}),s},Nk=e=>e.isThemeGetter,Sk=(e,t)=>t?e.map(([s,i])=>{const l=i.map(c=>typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([u,f])=>[t+u,f])):c);return[s,l]}):e,kk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,i=new Map;const l=(c,u)=>{s.set(c,u),t++,t>e&&(t=0,i=s,s=new Map)};return{get(c){let u=s.get(c);if(u!==void 0)return u;if((u=i.get(c))!==void 0)return l(c,u),u},set(c,u){s.has(c)?s.set(c,u):l(c,u)}}},Dy="!",Ck=e=>{const{separator:t,experimentalParseClassName:s}=e,i=t.length===1,l=t[0],c=t.length,u=f=>{const h=[];let p=0,v=0,b;for(let S=0;S<f.length;S++){let k=f[S];if(p===0){if(k===l&&(i||f.slice(S,S+c)===t)){h.push(f.slice(v,S)),v=S+c;continue}if(k==="/"){b=S;continue}}k==="["?p++:k==="]"&&p--}const N=h.length===0?f:f.substring(v),C=N.startsWith(Dy),_=C?N.substring(1):N,w=b&&b>v?b-v:void 0;return{modifiers:h,hasImportantModifier:C,baseClassName:_,maybePostfixModifierPosition:w}};return s?f=>s({className:f,parseClassName:u}):u},_k=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(i=>{i[0]==="["?(t.push(...s.sort(),i),s=[]):s.push(i)}),t.push(...s.sort()),t},Pk=e=>({cache:kk(e.cacheSize),parseClassName:Ck(e),...wk(e)}),Ek=/\s+/,Tk=(e,t)=>{const{parseClassName:s,getClassGroupId:i,getConflictingClassGroupIds:l}=t,c=[],u=e.trim().split(Ek);let f="";for(let h=u.length-1;h>=0;h-=1){const p=u[h],{modifiers:v,hasImportantModifier:b,baseClassName:N,maybePostfixModifierPosition:C}=s(p);let _=!!C,w=i(_?N.substring(0,C):N);if(!w){if(!_){f=p+(f.length>0?" "+f:f);continue}if(w=i(N),!w){f=p+(f.length>0?" "+f:f);continue}_=!1}const S=_k(v).join(":"),k=b?S+Dy:S,I=k+w;if(c.includes(I))continue;c.push(I);const L=l(w,_);for(let P=0;P<L.length;++P){const F=L[P];c.push(k+F)}f=p+(f.length>0?" "+f:f)}return f};function Ik(){let e=0,t,s,i="";for(;e<arguments.length;)(t=arguments[e++])&&(s=My(t))&&(i&&(i+=" "),i+=s);return i}const My=e=>{if(typeof e=="string")return e;let t,s="";for(let i=0;i<e.length;i++)e[i]&&(t=My(e[i]))&&(s&&(s+=" "),s+=t);return s};function Rk(e,...t){let s,i,l,c=u;function u(h){const p=t.reduce((v,b)=>b(v),e());return s=Pk(p),i=s.cache.get,l=s.cache.set,c=f,f(h)}function f(h){const p=i(h);if(p)return p;const v=Tk(h,s);return l(h,v),v}return function(){return c(Ik.apply(null,arguments))}}const jt=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},Oy=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ak=/^\d+\/\d+$/,Lk=new Set(["px","full","screen"]),Dk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Mk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ok=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Fk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ss=e=>hi(e)||Lk.has(e)||Ak.test(e),Os=e=>Ii(e,"length",Hk),hi=e=>!!e&&!Number.isNaN(Number(e)),Df=e=>Ii(e,"number",hi),ko=e=>!!e&&Number.isInteger(Number(e)),$k=e=>e.endsWith("%")&&hi(e.slice(0,-1)),Ze=e=>Oy.test(e),Fs=e=>Dk.test(e),Bk=new Set(["length","size","percentage"]),Vk=e=>Ii(e,Bk,Fy),qk=e=>Ii(e,"position",Fy),Uk=new Set(["image","url"]),Wk=e=>Ii(e,Uk,Kk),Qk=e=>Ii(e,"",Gk),Co=()=>!0,Ii=(e,t,s)=>{const i=Oy.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):s(i[2]):!1},Hk=e=>Mk.test(e)&&!Ok.test(e),Fy=()=>!1,Gk=e=>Fk.test(e),Kk=e=>zk.test(e),Zk=()=>{const e=jt("colors"),t=jt("spacing"),s=jt("blur"),i=jt("brightness"),l=jt("borderColor"),c=jt("borderRadius"),u=jt("borderSpacing"),f=jt("borderWidth"),h=jt("contrast"),p=jt("grayscale"),v=jt("hueRotate"),b=jt("invert"),N=jt("gap"),C=jt("gradientColorStops"),_=jt("gradientColorStopPositions"),w=jt("inset"),S=jt("margin"),k=jt("opacity"),I=jt("padding"),L=jt("saturate"),P=jt("scale"),F=jt("sepia"),G=jt("skew"),q=jt("space"),X=jt("translate"),se=()=>["auto","contain","none"],ce=()=>["auto","hidden","clip","visible","scroll"],ge=()=>["auto",Ze,t],oe=()=>[Ze,t],K=()=>["",ss,Os],$=()=>["auto",hi,Ze],fe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Ze],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[hi,Ze];return{cacheSize:500,separator:":",theme:{colors:[Co],spacing:[ss,Os],blur:["none","",Fs,Ze],brightness:A(),borderColor:[e],borderRadius:["none","","full",Fs,Ze],borderSpacing:oe(),borderWidth:K(),contrast:A(),grayscale:U(),hueRotate:A(),invert:U(),gap:oe(),gradientColorStops:[e],gradientColorStopPositions:[$k,Os],inset:ge(),margin:ge(),opacity:A(),padding:oe(),saturate:A(),scale:A(),sepia:U(),skew:A(),space:oe(),translate:oe()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[Fs]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...fe(),Ze]}],overflow:[{overflow:ce()}],"overflow-x":[{"overflow-x":ce()}],"overflow-y":[{"overflow-y":ce()}],overscroll:[{overscroll:se()}],"overscroll-x":[{"overscroll-x":se()}],"overscroll-y":[{"overscroll-y":se()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ko,Ze]}],basis:[{basis:ge()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",ko,Ze]}],"grid-cols":[{"grid-cols":[Co]}],"col-start-end":[{col:["auto",{span:["full",ko,Ze]},Ze]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Co]}],"row-start-end":[{row:["auto",{span:[ko,Ze]},Ze]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,t]}],"min-w":[{"min-w":[Ze,t,"min","max","fit"]}],"max-w":[{"max-w":[Ze,t,"none","full","min","max","fit","prose",{screen:[Fs]},Fs]}],h:[{h:[Ze,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Fs,Os]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Df]}],"font-family":[{font:[Co]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",hi,Df]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ss,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ss,Os]}],"underline-offset":[{"underline-offset":["auto",ss,Ze]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:oe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...fe(),qk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Vk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Wk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[C]}],"gradient-via":[{via:[C]}],"gradient-to":[{to:[C]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:B()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-s":[{"border-s":[l]}],"border-color-e":[{"border-e":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[ss,Ze]}],"outline-w":[{outline:[ss,Os]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[ss,Os]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Fs,Qk]}],"shadow-color":[{shadow:[Co]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[i]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Fs,Ze]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[b]}],saturate:[{saturate:[L]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[L]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[ko,Ze]}],"translate-x":[{"translate-x":[X]}],"translate-y":[{"translate-y":[X]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":oe()}],"scroll-mx":[{"scroll-mx":oe()}],"scroll-my":[{"scroll-my":oe()}],"scroll-ms":[{"scroll-ms":oe()}],"scroll-me":[{"scroll-me":oe()}],"scroll-mt":[{"scroll-mt":oe()}],"scroll-mr":[{"scroll-mr":oe()}],"scroll-mb":[{"scroll-mb":oe()}],"scroll-ml":[{"scroll-ml":oe()}],"scroll-p":[{"scroll-p":oe()}],"scroll-px":[{"scroll-px":oe()}],"scroll-py":[{"scroll-py":oe()}],"scroll-ps":[{"scroll-ps":oe()}],"scroll-pe":[{"scroll-pe":oe()}],"scroll-pt":[{"scroll-pt":oe()}],"scroll-pr":[{"scroll-pr":oe()}],"scroll-pb":[{"scroll-pb":oe()}],"scroll-pl":[{"scroll-pl":oe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ss,Os,Df]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Yk=Rk(Zk);function we(...e){return Yk(_y(e))}const Xk=ek,zy=x.forwardRef(({className:e,...t},s)=>n.jsx(wy,{ref:s,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));zy.displayName=wy.displayName;const Jk=wd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$y=x.forwardRef(({className:e,variant:t,...s},i)=>n.jsx(by,{ref:i,className:we(Jk({variant:t}),e),...s}));$y.displayName=by.displayName;const eC=x.forwardRef(({className:e,...t},s)=>n.jsx(Sy,{ref:s,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));eC.displayName=Sy.displayName;const By=x.forwardRef(({className:e,...t},s)=>n.jsx(ky,{ref:s,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx($r,{className:"h-4 w-4"})}));By.displayName=ky.displayName;const Vy=x.forwardRef(({className:e,...t},s)=>n.jsx(jy,{ref:s,className:we("text-sm font-semibold",e),...t}));Vy.displayName=jy.displayName;const qy=x.forwardRef(({className:e,...t},s)=>n.jsx(Ny,{ref:s,className:we("text-sm opacity-90",e),...t}));qy.displayName=Ny.displayName;function tC(){const{toasts:e}=Wn();return n.jsxs(Xk,{children:[e.map(function({id:t,title:s,description:i,action:l,...c}){return n.jsxs($y,{...c,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(Vy,{children:s}),i&&n.jsx(qy,{children:i})]}),l,n.jsx(By,{})]},t)}),n.jsx(zy,{})]})}var nC=Rv[" useId ".trim().toString()]||(()=>{}),rC=0;function Qs(e){const[t,s]=x.useState(nC());return mn(()=>{s(i=>i??String(rC++))},[e]),t?`radix-${t}`:""}const sC=["top","right","bottom","left"],Zs=Math.min,$n=Math.max,Gc=Math.round,_c=Math.floor,Br=e=>({x:e,y:e}),aC={left:"right",right:"left",bottom:"top",top:"bottom"},iC={start:"end",end:"start"};function hm(e,t,s){return $n(e,Zs(t,s))}function us(e,t){return typeof e=="function"?e(t):e}function fs(e){return e.split("-")[0]}function Ri(e){return e.split("-")[1]}function Gm(e){return e==="x"?"y":"x"}function Km(e){return e==="y"?"height":"width"}function Ys(e){return["top","bottom"].includes(fs(e))?"y":"x"}function Zm(e){return Gm(Ys(e))}function oC(e,t,s){s===void 0&&(s=!1);const i=Ri(e),l=Zm(e),c=Km(l);let u=l==="x"?i===(s?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(u=Kc(u)),[u,Kc(u)]}function lC(e){const t=Kc(e);return[gm(e),t,gm(t)]}function gm(e){return e.replace(/start|end/g,t=>iC[t])}function cC(e,t,s){const i=["left","right"],l=["right","left"],c=["top","bottom"],u=["bottom","top"];switch(e){case"top":case"bottom":return s?t?l:i:t?i:l;case"left":case"right":return t?c:u;default:return[]}}function dC(e,t,s,i){const l=Ri(e);let c=cC(fs(e),s==="start",i);return l&&(c=c.map(u=>u+"-"+l),t&&(c=c.concat(c.map(gm)))),c}function Kc(e){return e.replace(/left|right|bottom|top/g,t=>aC[t])}function uC(e){return{top:0,right:0,bottom:0,left:0,...e}}function Uy(e){return typeof e!="number"?uC(e):{top:e,right:e,bottom:e,left:e}}function Zc(e){const{x:t,y:s,width:i,height:l}=e;return{width:i,height:l,top:s,left:t,right:t+i,bottom:s+l,x:t,y:s}}function Mx(e,t,s){let{reference:i,floating:l}=e;const c=Ys(t),u=Zm(t),f=Km(u),h=fs(t),p=c==="y",v=i.x+i.width/2-l.width/2,b=i.y+i.height/2-l.height/2,N=i[f]/2-l[f]/2;let C;switch(h){case"top":C={x:v,y:i.y-l.height};break;case"bottom":C={x:v,y:i.y+i.height};break;case"right":C={x:i.x+i.width,y:b};break;case"left":C={x:i.x-l.width,y:b};break;default:C={x:i.x,y:i.y}}switch(Ri(t)){case"start":C[u]-=N*(s&&p?-1:1);break;case"end":C[u]+=N*(s&&p?-1:1);break}return C}const fC=async(e,t,s)=>{const{placement:i="bottom",strategy:l="absolute",middleware:c=[],platform:u}=s,f=c.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(t));let p=await u.getElementRects({reference:e,floating:t,strategy:l}),{x:v,y:b}=Mx(p,i,h),N=i,C={},_=0;for(let w=0;w<f.length;w++){const{name:S,fn:k}=f[w],{x:I,y:L,data:P,reset:F}=await k({x:v,y:b,initialPlacement:i,placement:N,strategy:l,middlewareData:C,rects:p,platform:u,elements:{reference:e,floating:t}});v=I??v,b=L??b,C={...C,[S]:{...C[S],...P}},F&&_<=50&&(_++,typeof F=="object"&&(F.placement&&(N=F.placement),F.rects&&(p=F.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:l}):F.rects),{x:v,y:b}=Mx(p,N,h)),w=-1)}return{x:v,y:b,placement:N,strategy:l,middlewareData:C}};async function Vo(e,t){var s;t===void 0&&(t={});const{x:i,y:l,platform:c,rects:u,elements:f,strategy:h}=e,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:N=!1,padding:C=0}=us(t,e),_=Uy(C),S=f[N?b==="floating"?"reference":"floating":b],k=Zc(await c.getClippingRect({element:(s=await(c.isElement==null?void 0:c.isElement(S)))==null||s?S:S.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:p,rootBoundary:v,strategy:h})),I=b==="floating"?{x:i,y:l,width:u.floating.width,height:u.floating.height}:u.reference,L=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),P=await(c.isElement==null?void 0:c.isElement(L))?await(c.getScale==null?void 0:c.getScale(L))||{x:1,y:1}:{x:1,y:1},F=Zc(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:I,offsetParent:L,strategy:h}):I);return{top:(k.top-F.top+_.top)/P.y,bottom:(F.bottom-k.bottom+_.bottom)/P.y,left:(k.left-F.left+_.left)/P.x,right:(F.right-k.right+_.right)/P.x}}const mC=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:i,placement:l,rects:c,platform:u,elements:f,middlewareData:h}=t,{element:p,padding:v=0}=us(e,t)||{};if(p==null)return{};const b=Uy(v),N={x:s,y:i},C=Zm(l),_=Km(C),w=await u.getDimensions(p),S=C==="y",k=S?"top":"left",I=S?"bottom":"right",L=S?"clientHeight":"clientWidth",P=c.reference[_]+c.reference[C]-N[C]-c.floating[_],F=N[C]-c.reference[C],G=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let q=G?G[L]:0;(!q||!await(u.isElement==null?void 0:u.isElement(G)))&&(q=f.floating[L]||c.floating[_]);const X=P/2-F/2,se=q/2-w[_]/2-1,ce=Zs(b[k],se),ge=Zs(b[I],se),oe=ce,K=q-w[_]-ge,$=q/2-w[_]/2+X,fe=hm(oe,$,K),B=!h.arrow&&Ri(l)!=null&&$!==fe&&c.reference[_]/2-($<oe?ce:ge)-w[_]/2<0,Y=B?$<oe?$-oe:$-K:0;return{[C]:N[C]+Y,data:{[C]:fe,centerOffset:$-fe-Y,...B&&{alignmentOffset:Y}},reset:B}}}),pC=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,i;const{placement:l,middlewareData:c,rects:u,initialPlacement:f,platform:h,elements:p}=t,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:N,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:w=!0,...S}=us(e,t);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const k=fs(l),I=Ys(f),L=fs(f)===f,P=await(h.isRTL==null?void 0:h.isRTL(p.floating)),F=N||(L||!w?[Kc(f)]:lC(f)),G=_!=="none";!N&&G&&F.push(...dC(f,w,_,P));const q=[f,...F],X=await Vo(t,S),se=[];let ce=((i=c.flip)==null?void 0:i.overflows)||[];if(v&&se.push(X[k]),b){const $=oC(l,u,P);se.push(X[$[0]],X[$[1]])}if(ce=[...ce,{placement:l,overflows:se}],!se.every($=>$<=0)){var ge,oe;const $=(((ge=c.flip)==null?void 0:ge.index)||0)+1,fe=q[$];if(fe)return{data:{index:$,overflows:ce},reset:{placement:fe}};let B=(oe=ce.filter(Y=>Y.overflows[0]<=0).sort((Y,E)=>Y.overflows[1]-E.overflows[1])[0])==null?void 0:oe.placement;if(!B)switch(C){case"bestFit":{var K;const Y=(K=ce.filter(E=>{if(G){const U=Ys(E.placement);return U===I||U==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(U=>U>0).reduce((U,Q)=>U+Q,0)]).sort((E,U)=>E[1]-U[1])[0])==null?void 0:K[0];Y&&(B=Y);break}case"initialPlacement":B=f;break}if(l!==B)return{reset:{placement:B}}}return{}}}};function Ox(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Fx(e){return sC.some(t=>e[t]>=0)}const hC=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:i="referenceHidden",...l}=us(e,t);switch(i){case"referenceHidden":{const c=await Vo(t,{...l,elementContext:"reference"}),u=Ox(c,s.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Fx(u)}}}case"escaped":{const c=await Vo(t,{...l,altBoundary:!0}),u=Ox(c,s.floating);return{data:{escapedOffsets:u,escaped:Fx(u)}}}default:return{}}}}};async function gC(e,t){const{placement:s,platform:i,elements:l}=e,c=await(i.isRTL==null?void 0:i.isRTL(l.floating)),u=fs(s),f=Ri(s),h=Ys(s)==="y",p=["left","top"].includes(u)?-1:1,v=c&&h?-1:1,b=us(t,e);let{mainAxis:N,crossAxis:C,alignmentAxis:_}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof _=="number"&&(C=f==="end"?_*-1:_),h?{x:C*v,y:N*p}:{x:N*p,y:C*v}}const xC=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,i;const{x:l,y:c,placement:u,middlewareData:f}=t,h=await gC(t,e);return u===((s=f.offset)==null?void 0:s.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:l+h.x,y:c+h.y,data:{...h,placement:u}}}}},vC=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:i,placement:l}=t,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:S=>{let{x:k,y:I}=S;return{x:k,y:I}}},...h}=us(e,t),p={x:s,y:i},v=await Vo(t,h),b=Ys(fs(l)),N=Gm(b);let C=p[N],_=p[b];if(c){const S=N==="y"?"top":"left",k=N==="y"?"bottom":"right",I=C+v[S],L=C-v[k];C=hm(I,C,L)}if(u){const S=b==="y"?"top":"left",k=b==="y"?"bottom":"right",I=_+v[S],L=_-v[k];_=hm(I,_,L)}const w=f.fn({...t,[N]:C,[b]:_});return{...w,data:{x:w.x-s,y:w.y-i,enabled:{[N]:c,[b]:u}}}}}},yC=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:i,placement:l,rects:c,middlewareData:u}=t,{offset:f=0,mainAxis:h=!0,crossAxis:p=!0}=us(e,t),v={x:s,y:i},b=Ys(l),N=Gm(b);let C=v[N],_=v[b];const w=us(f,t),S=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(h){const L=N==="y"?"height":"width",P=c.reference[N]-c.floating[L]+S.mainAxis,F=c.reference[N]+c.reference[L]-S.mainAxis;C<P?C=P:C>F&&(C=F)}if(p){var k,I;const L=N==="y"?"width":"height",P=["top","left"].includes(fs(l)),F=c.reference[b]-c.floating[L]+(P&&((k=u.offset)==null?void 0:k[b])||0)+(P?0:S.crossAxis),G=c.reference[b]+c.reference[L]+(P?0:((I=u.offset)==null?void 0:I[b])||0)-(P?S.crossAxis:0);_<F?_=F:_>G&&(_=G)}return{[N]:C,[b]:_}}}},wC=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,i;const{placement:l,rects:c,platform:u,elements:f}=t,{apply:h=()=>{},...p}=us(e,t),v=await Vo(t,p),b=fs(l),N=Ri(l),C=Ys(l)==="y",{width:_,height:w}=c.floating;let S,k;b==="top"||b==="bottom"?(S=b,k=N===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(k=b,S=N==="end"?"top":"bottom");const I=w-v.top-v.bottom,L=_-v.left-v.right,P=Zs(w-v[S],I),F=Zs(_-v[k],L),G=!t.middlewareData.shift;let q=P,X=F;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(X=L),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(q=I),G&&!N){const ce=$n(v.left,0),ge=$n(v.right,0),oe=$n(v.top,0),K=$n(v.bottom,0);C?X=_-2*(ce!==0||ge!==0?ce+ge:$n(v.left,v.right)):q=w-2*(oe!==0||K!==0?oe+K:$n(v.top,v.bottom))}await h({...t,availableWidth:X,availableHeight:q});const se=await u.getDimensions(f.floating);return _!==se.width||w!==se.height?{reset:{rects:!0}}:{}}}};function bd(){return typeof window<"u"}function Ai(e){return Wy(e)?(e.nodeName||"").toLowerCase():"#document"}function Vn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qr(e){var t;return(t=(Wy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Wy(e){return bd()?e instanceof Node||e instanceof Vn(e).Node:!1}function Cr(e){return bd()?e instanceof Element||e instanceof Vn(e).Element:!1}function qr(e){return bd()?e instanceof HTMLElement||e instanceof Vn(e).HTMLElement:!1}function zx(e){return!bd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vn(e).ShadowRoot}function ll(e){const{overflow:t,overflowX:s,overflowY:i,display:l}=_r(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+s)&&!["inline","contents"].includes(l)}function bC(e){return["table","td","th"].includes(Ai(e))}function jd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ym(e){const t=Xm(),s=Cr(e)?_r(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>s[i]?s[i]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(s.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(s.contain||"").includes(i))}function jC(e){let t=Xs(e);for(;qr(t)&&!ji(t);){if(Ym(t))return t;if(jd(t))return null;t=Xs(t)}return null}function Xm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ji(e){return["html","body","#document"].includes(Ai(e))}function _r(e){return Vn(e).getComputedStyle(e)}function Nd(e){return Cr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xs(e){if(Ai(e)==="html")return e;const t=e.assignedSlot||e.parentNode||zx(e)&&e.host||Qr(e);return zx(t)?t.host:t}function Qy(e){const t=Xs(e);return ji(t)?e.ownerDocument?e.ownerDocument.body:e.body:qr(t)&&ll(t)?t:Qy(t)}function qo(e,t,s){var i;t===void 0&&(t=[]),s===void 0&&(s=!0);const l=Qy(e),c=l===((i=e.ownerDocument)==null?void 0:i.body),u=Vn(l);if(c){const f=xm(u);return t.concat(u,u.visualViewport||[],ll(l)?l:[],f&&s?qo(f):[])}return t.concat(l,qo(l,[],s))}function xm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Hy(e){const t=_r(e);let s=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const l=qr(e),c=l?e.offsetWidth:s,u=l?e.offsetHeight:i,f=Gc(s)!==c||Gc(i)!==u;return f&&(s=c,i=u),{width:s,height:i,$:f}}function Jm(e){return Cr(e)?e:e.contextElement}function gi(e){const t=Jm(e);if(!qr(t))return Br(1);const s=t.getBoundingClientRect(),{width:i,height:l,$:c}=Hy(t);let u=(c?Gc(s.width):s.width)/i,f=(c?Gc(s.height):s.height)/l;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const NC=Br(0);function Gy(e){const t=Vn(e);return!Xm()||!t.visualViewport?NC:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function SC(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Vn(e)?!1:t}function _a(e,t,s,i){t===void 0&&(t=!1),s===void 0&&(s=!1);const l=e.getBoundingClientRect(),c=Jm(e);let u=Br(1);t&&(i?Cr(i)&&(u=gi(i)):u=gi(e));const f=SC(c,s,i)?Gy(c):Br(0);let h=(l.left+f.x)/u.x,p=(l.top+f.y)/u.y,v=l.width/u.x,b=l.height/u.y;if(c){const N=Vn(c),C=i&&Cr(i)?Vn(i):i;let _=N,w=xm(_);for(;w&&i&&C!==_;){const S=gi(w),k=w.getBoundingClientRect(),I=_r(w),L=k.left+(w.clientLeft+parseFloat(I.paddingLeft))*S.x,P=k.top+(w.clientTop+parseFloat(I.paddingTop))*S.y;h*=S.x,p*=S.y,v*=S.x,b*=S.y,h+=L,p+=P,_=Vn(w),w=xm(_)}}return Zc({width:v,height:b,x:h,y:p})}function ep(e,t){const s=Nd(e).scrollLeft;return t?t.left+s:_a(Qr(e)).left+s}function Ky(e,t,s){s===void 0&&(s=!1);const i=e.getBoundingClientRect(),l=i.left+t.scrollLeft-(s?0:ep(e,i)),c=i.top+t.scrollTop;return{x:l,y:c}}function kC(e){let{elements:t,rect:s,offsetParent:i,strategy:l}=e;const c=l==="fixed",u=Qr(i),f=t?jd(t.floating):!1;if(i===u||f&&c)return s;let h={scrollLeft:0,scrollTop:0},p=Br(1);const v=Br(0),b=qr(i);if((b||!b&&!c)&&((Ai(i)!=="body"||ll(u))&&(h=Nd(i)),qr(i))){const C=_a(i);p=gi(i),v.x=C.x+i.clientLeft,v.y=C.y+i.clientTop}const N=u&&!b&&!c?Ky(u,h,!0):Br(0);return{width:s.width*p.x,height:s.height*p.y,x:s.x*p.x-h.scrollLeft*p.x+v.x+N.x,y:s.y*p.y-h.scrollTop*p.y+v.y+N.y}}function CC(e){return Array.from(e.getClientRects())}function _C(e){const t=Qr(e),s=Nd(e),i=e.ownerDocument.body,l=$n(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),c=$n(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let u=-s.scrollLeft+ep(e);const f=-s.scrollTop;return _r(i).direction==="rtl"&&(u+=$n(t.clientWidth,i.clientWidth)-l),{width:l,height:c,x:u,y:f}}function PC(e,t){const s=Vn(e),i=Qr(e),l=s.visualViewport;let c=i.clientWidth,u=i.clientHeight,f=0,h=0;if(l){c=l.width,u=l.height;const p=Xm();(!p||p&&t==="fixed")&&(f=l.offsetLeft,h=l.offsetTop)}return{width:c,height:u,x:f,y:h}}function EC(e,t){const s=_a(e,!0,t==="fixed"),i=s.top+e.clientTop,l=s.left+e.clientLeft,c=qr(e)?gi(e):Br(1),u=e.clientWidth*c.x,f=e.clientHeight*c.y,h=l*c.x,p=i*c.y;return{width:u,height:f,x:h,y:p}}function $x(e,t,s){let i;if(t==="viewport")i=PC(e,s);else if(t==="document")i=_C(Qr(e));else if(Cr(t))i=EC(t,s);else{const l=Gy(e);i={x:t.x-l.x,y:t.y-l.y,width:t.width,height:t.height}}return Zc(i)}function Zy(e,t){const s=Xs(e);return s===t||!Cr(s)||ji(s)?!1:_r(s).position==="fixed"||Zy(s,t)}function TC(e,t){const s=t.get(e);if(s)return s;let i=qo(e,[],!1).filter(f=>Cr(f)&&Ai(f)!=="body"),l=null;const c=_r(e).position==="fixed";let u=c?Xs(e):e;for(;Cr(u)&&!ji(u);){const f=_r(u),h=Ym(u);!h&&f.position==="fixed"&&(l=null),(c?!h&&!l:!h&&f.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||ll(u)&&!h&&Zy(e,u))?i=i.filter(v=>v!==u):l=f,u=Xs(u)}return t.set(e,i),i}function IC(e){let{element:t,boundary:s,rootBoundary:i,strategy:l}=e;const u=[...s==="clippingAncestors"?jd(t)?[]:TC(t,this._c):[].concat(s),i],f=u[0],h=u.reduce((p,v)=>{const b=$x(t,v,l);return p.top=$n(b.top,p.top),p.right=Zs(b.right,p.right),p.bottom=Zs(b.bottom,p.bottom),p.left=$n(b.left,p.left),p},$x(t,f,l));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function RC(e){const{width:t,height:s}=Hy(e);return{width:t,height:s}}function AC(e,t,s){const i=qr(t),l=Qr(t),c=s==="fixed",u=_a(e,!0,c,t);let f={scrollLeft:0,scrollTop:0};const h=Br(0);if(i||!i&&!c)if((Ai(t)!=="body"||ll(l))&&(f=Nd(t)),i){const N=_a(t,!0,c,t);h.x=N.x+t.clientLeft,h.y=N.y+t.clientTop}else l&&(h.x=ep(l));const p=l&&!i&&!c?Ky(l,f):Br(0),v=u.left+f.scrollLeft-h.x-p.x,b=u.top+f.scrollTop-h.y-p.y;return{x:v,y:b,width:u.width,height:u.height}}function Mf(e){return _r(e).position==="static"}function Bx(e,t){if(!qr(e)||_r(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Qr(e)===s&&(s=s.ownerDocument.body),s}function Yy(e,t){const s=Vn(e);if(jd(e))return s;if(!qr(e)){let l=Xs(e);for(;l&&!ji(l);){if(Cr(l)&&!Mf(l))return l;l=Xs(l)}return s}let i=Bx(e,t);for(;i&&bC(i)&&Mf(i);)i=Bx(i,t);return i&&ji(i)&&Mf(i)&&!Ym(i)?s:i||jC(e)||s}const LC=async function(e){const t=this.getOffsetParent||Yy,s=this.getDimensions,i=await s(e.floating);return{reference:AC(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function DC(e){return _r(e).direction==="rtl"}const MC={convertOffsetParentRelativeRectToViewportRelativeRect:kC,getDocumentElement:Qr,getClippingRect:IC,getOffsetParent:Yy,getElementRects:LC,getClientRects:CC,getDimensions:RC,getScale:gi,isElement:Cr,isRTL:DC};function Xy(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function OC(e,t){let s=null,i;const l=Qr(e);function c(){var f;clearTimeout(i),(f=s)==null||f.disconnect(),s=null}function u(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),c();const p=e.getBoundingClientRect(),{left:v,top:b,width:N,height:C}=p;if(f||t(),!N||!C)return;const _=_c(b),w=_c(l.clientWidth-(v+N)),S=_c(l.clientHeight-(b+C)),k=_c(v),L={rootMargin:-_+"px "+-w+"px "+-S+"px "+-k+"px",threshold:$n(0,Zs(1,h))||1};let P=!0;function F(G){const q=G[0].intersectionRatio;if(q!==h){if(!P)return u();q?u(!1,q):i=setTimeout(()=>{u(!1,1e-7)},1e3)}q===1&&!Xy(p,e.getBoundingClientRect())&&u(),P=!1}try{s=new IntersectionObserver(F,{...L,root:l.ownerDocument})}catch{s=new IntersectionObserver(F,L)}s.observe(e)}return u(!0),c}function FC(e,t,s,i){i===void 0&&(i={});const{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,p=Jm(e),v=l||c?[...p?qo(p):[],...qo(t)]:[];v.forEach(k=>{l&&k.addEventListener("scroll",s,{passive:!0}),c&&k.addEventListener("resize",s)});const b=p&&f?OC(p,s):null;let N=-1,C=null;u&&(C=new ResizeObserver(k=>{let[I]=k;I&&I.target===p&&C&&(C.unobserve(t),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var L;(L=C)==null||L.observe(t)})),s()}),p&&!h&&C.observe(p),C.observe(t));let _,w=h?_a(e):null;h&&S();function S(){const k=_a(e);w&&!Xy(w,k)&&s(),w=k,_=requestAnimationFrame(S)}return s(),()=>{var k;v.forEach(I=>{l&&I.removeEventListener("scroll",s),c&&I.removeEventListener("resize",s)}),b?.(),(k=C)==null||k.disconnect(),C=null,h&&cancelAnimationFrame(_)}}const zC=xC,$C=vC,BC=pC,VC=wC,qC=hC,Vx=mC,UC=yC,WC=(e,t,s)=>{const i=new Map,l={platform:MC,...s},c={...l.platform,_c:i};return fC(e,t,{...l,platform:c})};var $c=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Yc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,i,l;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(i=s;i--!==0;)if(!Yc(e[i],t[i]))return!1;return!0}if(l=Object.keys(e),s=l.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!{}.hasOwnProperty.call(t,l[i]))return!1;for(i=s;i--!==0;){const c=l[i];if(!(c==="_owner"&&e.$$typeof)&&!Yc(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function Jy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qx(e,t){const s=Jy(e);return Math.round(t*s)/s}function Of(e){const t=x.useRef(e);return $c(()=>{t.current=e}),t}function QC(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:i=[],platform:l,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:h,open:p}=e,[v,b]=x.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[N,C]=x.useState(i);Yc(N,i)||C(i);const[_,w]=x.useState(null),[S,k]=x.useState(null),I=x.useCallback(E=>{E!==G.current&&(G.current=E,w(E))},[]),L=x.useCallback(E=>{E!==q.current&&(q.current=E,k(E))},[]),P=c||_,F=u||S,G=x.useRef(null),q=x.useRef(null),X=x.useRef(v),se=h!=null,ce=Of(h),ge=Of(l),oe=Of(p),K=x.useCallback(()=>{if(!G.current||!q.current)return;const E={placement:t,strategy:s,middleware:N};ge.current&&(E.platform=ge.current),WC(G.current,q.current,E).then(U=>{const Q={...U,isPositioned:oe.current!==!1};$.current&&!Yc(X.current,Q)&&(X.current=Q,Ti.flushSync(()=>{b(Q)}))})},[N,t,s,ge,oe]);$c(()=>{p===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,b(E=>({...E,isPositioned:!1})))},[p]);const $=x.useRef(!1);$c(()=>($.current=!0,()=>{$.current=!1}),[]),$c(()=>{if(P&&(G.current=P),F&&(q.current=F),P&&F){if(ce.current)return ce.current(P,F,K);K()}},[P,F,K,ce,se]);const fe=x.useMemo(()=>({reference:G,floating:q,setReference:I,setFloating:L}),[I,L]),B=x.useMemo(()=>({reference:P,floating:F}),[P,F]),Y=x.useMemo(()=>{const E={position:s,left:0,top:0};if(!B.floating)return E;const U=qx(B.floating,v.x),Q=qx(B.floating,v.y);return f?{...E,transform:"translate("+U+"px, "+Q+"px)",...Jy(B.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:U,top:Q}},[s,f,B.floating,v.x,v.y]);return x.useMemo(()=>({...v,update:K,refs:fe,elements:B,floatingStyles:Y}),[v,K,fe,B,Y])}const HC=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:i,padding:l}=typeof e=="function"?e(s):e;return i&&t(i)?i.current!=null?Vx({element:i.current,padding:l}).fn(s):{}:i?Vx({element:i,padding:l}).fn(s):{}}}},GC=(e,t)=>({...zC(e),options:[e,t]}),KC=(e,t)=>({...$C(e),options:[e,t]}),ZC=(e,t)=>({...UC(e),options:[e,t]}),YC=(e,t)=>({...BC(e),options:[e,t]}),XC=(e,t)=>({...VC(e),options:[e,t]}),JC=(e,t)=>({...qC(e),options:[e,t]}),e2=(e,t)=>({...HC(e),options:[e,t]});var t2="Arrow",e0=x.forwardRef((e,t)=>{const{children:s,width:i=10,height:l=5,...c}=e;return n.jsx(qe.svg,{...c,ref:t,width:i,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});e0.displayName=t2;var n2=e0;function t0(e){const[t,s]=x.useState(void 0);return mn(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const c=l[0];let u,f;if("borderBoxSize"in c){const h=c.borderBoxSize,p=Array.isArray(h)?h[0]:h;u=p.inlineSize,f=p.blockSize}else u=e.offsetWidth,f=e.offsetHeight;s({width:u,height:f})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else s(void 0)},[e]),t}var tp="Popper",[n0,Sd]=Er(tp),[r2,r0]=n0(tp),s0=e=>{const{__scopePopper:t,children:s}=e,[i,l]=x.useState(null);return n.jsx(r2,{scope:t,anchor:i,onAnchorChange:l,children:s})};s0.displayName=tp;var a0="PopperAnchor",i0=x.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:i,...l}=e,c=r0(a0,s),u=x.useRef(null),f=st(t,u);return x.useEffect(()=>{c.onAnchorChange(i?.current||u.current)}),i?null:n.jsx(qe.div,{...l,ref:f})});i0.displayName=a0;var np="PopperContent",[s2,a2]=n0(np),o0=x.forwardRef((e,t)=>{const{__scopePopper:s,side:i="bottom",sideOffset:l=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:N=!1,updatePositionStrategy:C="optimized",onPlaced:_,...w}=e,S=r0(np,s),[k,I]=x.useState(null),L=st(t,ae=>I(ae)),[P,F]=x.useState(null),G=t0(P),q=G?.width??0,X=G?.height??0,se=i+(c!=="center"?"-"+c:""),ce=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},ge=Array.isArray(p)?p:[p],oe=ge.length>0,K={padding:ce,boundary:ge.filter(o2),altBoundary:oe},{refs:$,floatingStyles:fe,placement:B,isPositioned:Y,middlewareData:E}=QC({strategy:"fixed",placement:se,whileElementsMounted:(...ae)=>FC(...ae,{animationFrame:C==="always"}),elements:{reference:S.anchor},middleware:[GC({mainAxis:l+X,alignmentAxis:u}),h&&KC({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?ZC():void 0,...K}),h&&YC({...K}),XC({...K,apply:({elements:ae,rects:de,availableWidth:Fe,availableHeight:Se})=>{const{width:Ke,height:dt}=de.reference,xt=ae.floating.style;xt.setProperty("--radix-popper-available-width",`${Fe}px`),xt.setProperty("--radix-popper-available-height",`${Se}px`),xt.setProperty("--radix-popper-anchor-width",`${Ke}px`),xt.setProperty("--radix-popper-anchor-height",`${dt}px`)}}),P&&e2({element:P,padding:f}),l2({arrowWidth:q,arrowHeight:X}),N&&JC({strategy:"referenceHidden",...K})]}),[U,Q]=d0(B),A=Bt(_);mn(()=>{Y&&A?.()},[Y,A]);const H=E.arrow?.x,_e=E.arrow?.y,Ee=E.arrow?.centerOffset!==0,[$e,Be]=x.useState();return mn(()=>{k&&Be(window.getComputedStyle(k).zIndex)},[k]),n.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...fe,transform:Y?fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$e,"--radix-popper-transform-origin":[E.transformOrigin?.x,E.transformOrigin?.y].join(" "),...E.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(s2,{scope:s,placedSide:U,onArrowChange:F,arrowX:H,arrowY:_e,shouldHideArrow:Ee,children:n.jsx(qe.div,{"data-side":U,"data-align":Q,...w,ref:L,style:{...w.style,animation:Y?void 0:"none"}})})})});o0.displayName=np;var l0="PopperArrow",i2={top:"bottom",right:"left",bottom:"top",left:"right"},c0=x.forwardRef(function(t,s){const{__scopePopper:i,...l}=t,c=a2(l0,i),u=i2[c.placedSide];return n.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:n.jsx(n2,{...l,ref:s,style:{...l.style,display:"block"}})})});c0.displayName=l0;function o2(e){return e!==null}var l2=e=>({name:"transformOrigin",options:e,fn(t){const{placement:s,rects:i,middlewareData:l}=t,u=l.arrow?.centerOffset!==0,f=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[p,v]=d0(s),b={start:"0%",center:"50%",end:"100%"}[v],N=(l.arrow?.x??0)+f/2,C=(l.arrow?.y??0)+h/2;let _="",w="";return p==="bottom"?(_=u?b:`${N}px`,w=`${-h}px`):p==="top"?(_=u?b:`${N}px`,w=`${i.floating.height+h}px`):p==="right"?(_=`${-h}px`,w=u?b:`${C}px`):p==="left"&&(_=`${i.floating.width+h}px`,w=u?b:`${C}px`),{data:{x:_,y:w}}}});function d0(e){const[t,s="center"]=e.split("-");return[t,s]}var c2=s0,u0=i0,f0=o0,m0=c0,[kd]=Er("Tooltip",[Sd]),rp=Sd(),p0="TooltipProvider",d2=700,Ux="tooltip.open",[u2,h0]=kd(p0),g0=e=>{const{__scopeTooltip:t,delayDuration:s=d2,skipDelayDuration:i=300,disableHoverableContent:l=!1,children:c}=e,u=x.useRef(!0),f=x.useRef(!1),h=x.useRef(0);return x.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),n.jsx(u2,{scope:t,isOpenDelayedRef:u,delayDuration:s,onOpen:x.useCallback(()=>{window.clearTimeout(h.current),u.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u.current=!0,i)},[i]),isPointerInTransitRef:f,onPointerInTransitChange:x.useCallback(p=>{f.current=p},[]),disableHoverableContent:l,children:c})};g0.displayName=p0;var x0="Tooltip",[IR,Cd]=kd(x0),vm="TooltipTrigger",f2=x.forwardRef((e,t)=>{const{__scopeTooltip:s,...i}=e,l=Cd(vm,s),c=h0(vm,s),u=rp(s),f=x.useRef(null),h=st(t,f,l.onTriggerChange),p=x.useRef(!1),v=x.useRef(!1),b=x.useCallback(()=>p.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),n.jsx(u0,{asChild:!0,...u,children:n.jsx(qe.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...i,ref:h,onPointerMove:Ce(e.onPointerMove,N=>{N.pointerType!=="touch"&&!v.current&&!c.isPointerInTransitRef.current&&(l.onTriggerEnter(),v.current=!0)}),onPointerLeave:Ce(e.onPointerLeave,()=>{l.onTriggerLeave(),v.current=!1}),onPointerDown:Ce(e.onPointerDown,()=>{l.open&&l.onClose(),p.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:Ce(e.onFocus,()=>{p.current||l.onOpen()}),onBlur:Ce(e.onBlur,l.onClose),onClick:Ce(e.onClick,l.onClose)})})});f2.displayName=vm;var m2="TooltipPortal",[RR,p2]=kd(m2,{forceMount:void 0}),Ni="TooltipContent",v0=x.forwardRef((e,t)=>{const s=p2(Ni,e.__scopeTooltip),{forceMount:i=s.forceMount,side:l="top",...c}=e,u=Cd(Ni,e.__scopeTooltip);return n.jsx(ir,{present:i||u.open,children:u.disableHoverableContent?n.jsx(y0,{side:l,...c,ref:t}):n.jsx(h2,{side:l,...c,ref:t})})}),h2=x.forwardRef((e,t)=>{const s=Cd(Ni,e.__scopeTooltip),i=h0(Ni,e.__scopeTooltip),l=x.useRef(null),c=st(t,l),[u,f]=x.useState(null),{trigger:h,onClose:p}=s,v=l.current,{onPointerInTransitChange:b}=i,N=x.useCallback(()=>{f(null),b(!1)},[b]),C=x.useCallback((_,w)=>{const S=_.currentTarget,k={x:_.clientX,y:_.clientY},I=w2(k,S.getBoundingClientRect()),L=b2(k,I),P=j2(w.getBoundingClientRect()),F=S2([...L,...P]);f(F),b(!0)},[b]);return x.useEffect(()=>()=>N(),[N]),x.useEffect(()=>{if(h&&v){const _=S=>C(S,v),w=S=>C(S,h);return h.addEventListener("pointerleave",_),v.addEventListener("pointerleave",w),()=>{h.removeEventListener("pointerleave",_),v.removeEventListener("pointerleave",w)}}},[h,v,C,N]),x.useEffect(()=>{if(u){const _=w=>{const S=w.target,k={x:w.clientX,y:w.clientY},I=h?.contains(S)||v?.contains(S),L=!N2(k,u);I?N():L&&(N(),p())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[h,v,u,p,N]),n.jsx(y0,{...e,ref:c})}),[g2,x2]=kd(x0,{isInside:!1}),v2=gS("TooltipContent"),y0=x.forwardRef((e,t)=>{const{__scopeTooltip:s,children:i,"aria-label":l,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=e,h=Cd(Ni,s),p=rp(s),{onClose:v}=h;return x.useEffect(()=>(document.addEventListener(Ux,v),()=>document.removeEventListener(Ux,v)),[v]),x.useEffect(()=>{if(h.trigger){const b=N=>{N.target?.contains(h.trigger)&&v()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[h.trigger,v]),n.jsx(il,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:b=>b.preventDefault(),onDismiss:v,children:n.jsxs(f0,{"data-state":h.stateAttribute,...p,...f,ref:t,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(v2,{children:i}),n.jsx(g2,{scope:s,isInside:!0,children:n.jsx(MS,{id:h.contentId,role:"tooltip",children:l||i})})]})})});v0.displayName=Ni;var w0="TooltipArrow",y2=x.forwardRef((e,t)=>{const{__scopeTooltip:s,...i}=e,l=rp(s);return x2(w0,s).isInside?null:n.jsx(m0,{...l,...i,ref:t})});y2.displayName=w0;function w2(e,t){const s=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),l=Math.abs(t.right-e.x),c=Math.abs(t.left-e.x);switch(Math.min(s,i,l,c)){case c:return"left";case l:return"right";case s:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function b2(e,t,s=5){const i=[];switch(t){case"top":i.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":i.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":i.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":i.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return i}function j2(e){const{top:t,right:s,bottom:i,left:l}=e;return[{x:l,y:t},{x:s,y:t},{x:s,y:i},{x:l,y:i}]}function N2(e,t){const{x:s,y:i}=e;let l=!1;for(let c=0,u=t.length-1;c<t.length;u=c++){const f=t[c].x,h=t[c].y,p=t[u].x,v=t[u].y;h>i!=v>i&&s<(p-f)*(i-h)/(v-h)+f&&(l=!l)}return l}function S2(e){const t=e.slice();return t.sort((s,i)=>s.x<i.x?-1:s.x>i.x?1:s.y<i.y?-1:s.y>i.y?1:0),k2(t)}function k2(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const l=e[i];for(;t.length>=2;){const c=t[t.length-1],u=t[t.length-2];if((c.x-u.x)*(l.y-u.y)>=(c.y-u.y)*(l.x-u.x))t.pop();else break}t.push(l)}t.pop();const s=[];for(let i=e.length-1;i>=0;i--){const l=e[i];for(;s.length>=2;){const c=s[s.length-1],u=s[s.length-2];if((c.x-u.x)*(l.y-u.y)>=(c.y-u.y)*(l.x-u.x))s.pop();else break}s.push(l)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var C2=g0,b0=v0;const _2=C2,P2=x.forwardRef(({className:e,sideOffset:t=4,...s},i)=>n.jsx(b0,{ref:i,sideOffset:t,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));P2.displayName=b0.displayName;const j0=x.createContext(null),_o="lov_session",Ff="lov_account_",Pc="lov_inventory_",Wx="lov_global_accounts";function E2({children:e}){const[t,s]=x.useState(null),[i,l]=x.useState([]),[c,u]=x.useState(!0);Wn();const f=S=>{const k=JSON.parse(localStorage.getItem(Wx)||"[]"),I=k.findIndex(L=>L.username===S.username);I>-1?k[I]=S:k.push(S),localStorage.setItem(Wx,JSON.stringify(k))},h=S=>{const k=localStorage.getItem(Ff+S),I=localStorage.getItem(Pc+S);if(k){const L=JSON.parse(k);s(L),f(L)}l(I?JSON.parse(I):[])};x.useEffect(()=>{const S=localStorage.getItem(_o);if(S)try{const{username:k}=JSON.parse(S);h(k)}catch{localStorage.removeItem(_o)}u(!1)},[]);const p=x.useCallback(S=>{s(S),S?(localStorage.setItem(_o,JSON.stringify({username:S.username})),localStorage.setItem(Ff+S.username,JSON.stringify(S)),f(S)):localStorage.removeItem(_o)},[]),v=x.useCallback(async(S,k,I)=>{const L=localStorage.getItem(Ff+S);let P;return L?P=JSON.parse(L):P={id:Math.floor(Math.random()*1e6).toString(),username:S,password:k,role:I,gold:1e4,rubies:0,soulShards:0,focusedShards:0,trainingPoints:100,petExp:0,runes:0,pets:[],rank:"Novice",wins:0,losses:0,stats:{Str:10,Spd:10,Int:10,Luck:10,Pot:0},equipped:{weapon:null,armor:null,accessory1:null,accessory2:null},npcFloor:1,npcLevel:1,equippedPetId:null,lastActive:new Date},p(P),h(S),{account:P}},[p]),b=x.useCallback(()=>{localStorage.removeItem(_o),s(null),l([])},[]),N=x.useCallback(async()=>{if(t){const S=localStorage.getItem(Pc+t.username);S&&l(JSON.parse(S))}},[t]),C=x.useCallback(S=>{if(!t||t.gold<S)return!1;const k={...t,gold:t.gold-S};return p(k),!0},[t,p]),_=x.useCallback(S=>{if(!t)return;const k={...t,gold:t.gold+S};p(k)},[t,p]),w=x.useCallback(async S=>{if(!t||t.gold<S.price)return!1;const k={...t,gold:t.gold-S.price},I={id:Math.floor(Math.random()*1e6).toString(),accountId:t.id,itemId:S.id,stats:{},purchasedAt:new Date},L=[...i,I];return p(k),l(L),localStorage.setItem(Pc+t.username,JSON.stringify(L)),!0},[t,i,p]);return n.jsx(j0.Provider,{value:{account:t,inventory:i,isLoading:c,setAccount:p,setInventory:S=>{l(S),t&&localStorage.setItem(Pc+t.username,JSON.stringify(S))},addToInventory:w,spendGold:C,addGold:_,logout:b,login:v,refreshInventory:N},children:e})}function Qn(){const e=x.useContext(j0);if(!e)throw new Error("useGame must be used within a GameProvider");return e}const T2=wd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),T=x.forwardRef(({className:e,variant:t,size:s,asChild:i=!1,...l},c)=>{const u=i?pS:"button";return n.jsx(u,{className:we(T2({variant:t,size:s,className:e})),ref:c,...l})});T.displayName="Button";const tt=x.forwardRef(({className:e,type:t,...s},i)=>n.jsx("input",{type:t,className:we("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...s}));tt.displayName="Input";const Te=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:we("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));Te.displayName="Card";const He=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:we("flex flex-col space-y-1.5 p-6",e),...t}));He.displayName="CardHeader";const Qe=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:we("text-2xl font-semibold leading-none tracking-tight",e),...t}));Qe.displayName="CardTitle";const un=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:we("text-sm text-muted-foreground",e),...t}));un.displayName="CardDescription";const Le=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:we("p-6 pt-0",e),...t}));Le.displayName="CardContent";const Xc=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:we("flex items-center p-6 pt-0",e),...t}));Xc.displayName="CardFooter";var I2="Label",N0=x.forwardRef((e,t)=>n.jsx(qe.label,{...e,ref:t,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));N0.displayName=I2;var S0=N0;const R2=wd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Me=x.forwardRef(({className:e,...t},s)=>n.jsx(S0,{ref:s,className:we(R2(),e),...t}));Me.displayName=S0.displayName;function A2(){const[,e]=Un(),{login:t,isLoading:s}=Qn(),[i,l]=x.useState(""),[c,u]=x.useState(""),[f,h]=x.useState(""),[p,v]=x.useState(""),[b,N]=x.useState("none"),[C,_]=x.useState(""),w=async()=>{if(!i.trim()||!c)return;_("");const k=await t(i.trim(),c,"player");k.account?e("/shop"):_(k.error||"Login failed")},S=async()=>{if(!f.trim()||!p)return;_("");const k=await t(f.trim(),p,"admin");k.account?e("/admin"):_(k.error||"Login failed")};return n.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-accent/20",style:{backgroundImage:`
            radial-gradient(ellipse at 20% 30%, hsl(var(--tier-super-rare) / 0.1) 0%, transparent 50%),
            radial-gradient(ellipse at 80% 70%, hsl(var(--tier-x) / 0.15) 0%, transparent 50%),
            radial-gradient(ellipse at 50% 50%, hsl(var(--primary) / 0.05) 0%, transparent 70%)
          `}}),n.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[n.jsx("header",{className:"p-6 flex items-center justify-center",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Us,{className:"w-8 h-8 text-primary"}),n.jsx("h1",{className:"font-serif text-2xl font-bold tracking-wider text-foreground",children:"LEGEND OF VALOR"}),n.jsx(Us,{className:"w-8 h-8 text-primary transform scale-x-[-1]"})]})}),n.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center px-4 pb-20",children:[n.jsxs("div",{className:"text-center mb-12 max-w-2xl",children:[n.jsxs("h2",{className:"font-serif text-4xl md:text-5xl font-bold text-foreground mb-4",children:["Forge Your ",n.jsx("span",{className:"text-primary",children:"Legend"})]}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Discover legendary weapons, armor, and artifacts. Trade with other adventurers and build your ultimate arsenal."})]}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-6 mb-12",children:[n.jsx(Ec,{icon:n.jsx(Us,{className:"w-6 h-6 text-stat-str"}),title:"Epic Weapons",description:"From common blades to legendary artifacts"}),n.jsx(Ec,{icon:n.jsx(tn,{className:"w-6 h-6 text-stat-int"}),title:"Mythic Armor",description:"Protection worthy of the gods"}),n.jsx(Ec,{icon:n.jsx(qs,{className:"w-6 h-6 text-stat-luck"}),title:"Rare Accessories",description:"Rings, amulets, and enchanted trinkets"}),n.jsx(Ec,{icon:n.jsx(kt,{className:"w-6 h-6 text-tier-ssumr"}),title:"5 Rarity Tiers",description:"Normal to SSUMR legendary items"})]}),b==="none"?n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs(T,{size:"lg",onClick:()=>N("player"),className:"min-w-[200px] font-serif","data-testid":"button-start-player",children:[n.jsx(Ks,{className:"w-5 h-5 mr-2"}),"Start as Player"]}),n.jsxs(T,{size:"lg",variant:"outline",onClick:()=>N("admin"),className:"min-w-[200px] font-serif","data-testid":"button-start-admin",children:[n.jsx(ds,{className:"w-5 h-5 mr-2"}),"Admin Login"]})]}):n.jsxs(Te,{className:"w-full max-w-sm",children:[n.jsxs(He,{children:[n.jsx(Qe,{className:"font-serif flex items-center gap-2",children:b==="player"?n.jsxs(n.Fragment,{children:[n.jsx(Ks,{className:"w-5 h-5 text-primary"}),"Player Login"]}):n.jsxs(n.Fragment,{children:[n.jsx(ds,{className:"w-5 h-5 text-tier-x"}),"Admin Login"]})}),n.jsx(un,{children:b==="player"?"Enter your adventurer name to begin":"Access the admin control panel"})]}),n.jsx(Le,{children:n.jsxs("form",{onSubmit:k=>{k.preventDefault(),b==="player"?w():S()},className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"username",children:"Username"}),n.jsx(tt,{id:"username",placeholder:b==="player"?"Enter adventurer name...":"Enter admin name...",value:b==="player"?i:f,onChange:k=>b==="player"?l(k.target.value):h(k.target.value),autoFocus:!0,disabled:s,"data-testid":"input-username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"password",children:"Password"}),n.jsx(tt,{id:"password",type:"password",placeholder:"Enter password...",value:b==="player"?c:p,onChange:k=>b==="player"?u(k.target.value):v(k.target.value),disabled:s,"data-testid":"input-password"})]}),C&&n.jsx("p",{className:"text-sm text-destructive","data-testid":"text-login-error",children:C}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(T,{type:"button",variant:"outline",onClick:()=>{N("none"),_("")},className:"flex-1",disabled:s,"data-testid":"button-cancel",children:"Back"}),n.jsx(T,{type:"submit",className:"flex-1",disabled:s,"data-testid":"button-login",children:s?n.jsx(uk,{className:"w-4 h-4 animate-spin"}):b==="player"?"Enter World":"Login"})]})]})})]})]}),n.jsx("footer",{className:"p-6 text-center text-muted-foreground text-sm",children:n.jsx("p",{children:"Legend of Valor - An Epic RPG Item Trading Experience"})})]})]})}function Ec({icon:e,title:t,description:s}){return n.jsxs("div",{className:"flex flex-col items-center text-center p-4 rounded-lg bg-card/50 border border-border w-40",children:[n.jsx("div",{className:"p-2 rounded-md bg-secondary/50 mb-2",children:e}),n.jsx("h3",{className:"font-serif font-semibold text-sm mb-1",children:t}),n.jsx("p",{className:"text-xs text-muted-foreground",children:s})]})}const ee=Symbol.for("drizzle:entityKind");function dn(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,ee))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let s=Object.getPrototypeOf(e).constructor;if(s)for(;s;){if(ee in s&&s[ee]===t[ee])return!0;s=Object.getPrototypeOf(s)}return!1}class Uo{constructor(t,s){this.table=t,this.config=s,this.name=s.name,this.keyAsName=s.keyAsName,this.notNull=s.notNull,this.default=s.default,this.defaultFn=s.defaultFn,this.onUpdateFn=s.onUpdateFn,this.hasDefault=s.hasDefault,this.primary=s.primaryKey,this.isUnique=s.isUnique,this.uniqueName=s.uniqueName,this.uniqueType=s.uniqueType,this.dataType=s.dataType,this.columnType=s.columnType,this.generated=s.generated,this.generatedIdentity=s.generatedIdentity}static[ee]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class L2{static[ee]="ColumnBuilder";config;constructor(t,s,i){this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:s,columnType:i,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}const xi=Symbol.for("drizzle:Name");class D2{static[ee]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(t,s){this.reference=()=>{const{name:i,columns:l,foreignColumns:c}=t();return{name:i,columns:l,foreignTable:c[0].table,foreignColumns:c}},s&&(this._onUpdate=s.onUpdate,this._onDelete=s.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new M2(t,this)}}class M2{constructor(t,s){this.table=t,this.reference=s.reference,this.onUpdate=s._onUpdate,this.onDelete=s._onDelete}static[ee]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:t,columns:s,foreignColumns:i}=this.reference(),l=s.map(f=>f.name),c=i.map(f=>f.name),u=[this.table[xi],...l,i[0].table[xi],...c];return t??`${u.join("_")}_fk`}}function O2(e,...t){return e(...t)}function F2(e,t){return`${e[xi]}_${t.join("_")}_unique`}function Qx(e,t,s){for(let i=t;i<e.length;i++){const l=e[i];if(l==="\\"){i++;continue}if(l==='"')return[e.slice(t,i).replace(/\\/g,""),i+1];if(!s&&(l===","||l==="}"))return[e.slice(t,i).replace(/\\/g,""),i]}return[e.slice(t).replace(/\\/g,""),e.length]}function k0(e,t=0){const s=[];let i=t,l=!1;for(;i<e.length;){const c=e[i];if(c===","){(l||i===t)&&s.push(""),l=!0,i++;continue}if(l=!1,c==="\\"){i+=2;continue}if(c==='"'){const[h,p]=Qx(e,i+1,!0);s.push(h),i=p;continue}if(c==="}")return[s,i+1];if(c==="{"){const[h,p]=k0(e,i+1);s.push(h),i=p;continue}const[u,f]=Qx(e,i,!1);s.push(u),i=f}return[s,i]}function z2(e){const[t]=k0(e,1);return t}function C0(e){return`{${e.map(t=>Array.isArray(t)?C0(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}class at extends L2{foreignKeyConfigs=[];static[ee]="PgColumnBuilder";array(t){return new B2(this.config.name,this,t)}references(t,s={}){return this.foreignKeyConfigs.push({ref:t,actions:s}),this}unique(t,s){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=s?.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,s){return this.foreignKeyConfigs.map(({ref:i,actions:l})=>O2((c,u)=>{const f=new D2(()=>{const h=c();return{columns:[t],foreignColumns:[h]}});return u.onUpdate&&f.onUpdate(u.onUpdate),u.onDelete&&f.onDelete(u.onDelete),f.build(s)},i,l))}buildExtraConfigColumn(t){return new $2(t,this.config)}}class Ye extends Uo{constructor(t,s){s.uniqueName||(s.uniqueName=F2(t,[s.name])),super(t,s),this.table=t}static[ee]="PgColumn"}class $2 extends Ye{static[ee]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}}class B2 extends at{static[ee]="PgArrayBuilder";constructor(t,s,i){super(t,"array","PgArray"),this.config.baseBuilder=s,this.config.size=i}build(t){const s=this.config.baseBuilder.build(t);return new sp(t,this.config,s)}}class sp extends Ye{constructor(t,s,i,l){super(t,s),this.baseColumn=i,this.range=l,this.size=s.size}size;static[ee]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=z2(t)),t.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(t,s=!1){const i=t.map(l=>l===null?null:dn(this.baseColumn,sp)?this.baseColumn.mapToDriverValue(l,!0):this.baseColumn.mapToDriverValue(l));return s?i:C0(i)}}const Hx=Symbol.for("drizzle:isPgEnum");function V2(e){return!!e&&typeof e=="function"&&Hx in e&&e[Hx]===!0}class _0{static[ee]="Subquery";constructor(t,s,i,l=!1){this._={brand:"Subquery",sql:t,selectedFields:s,alias:i,isWith:l}}}const q2={startActiveSpan(e,t){return t()}},vi=Symbol.for("drizzle:ViewBaseConfig"),zf=Symbol.for("drizzle:Schema"),Gx=Symbol.for("drizzle:Columns"),Kx=Symbol.for("drizzle:ExtraConfigColumns"),$f=Symbol.for("drizzle:OriginalName"),Bf=Symbol.for("drizzle:BaseName"),Jc=Symbol.for("drizzle:IsAlias"),Zx=Symbol.for("drizzle:ExtraConfigBuilder"),P0=Symbol.for("drizzle:IsDrizzleTable");let Bn=class{static[ee]="Table";static Symbol={Name:xi,Schema:zf,OriginalName:$f,Columns:Gx,ExtraConfigColumns:Kx,BaseName:Bf,IsAlias:Jc,ExtraConfigBuilder:Zx};[xi];[$f];[zf];[Gx];[Kx];[Bf];[Jc]=!1;[P0]=!0;[Zx]=void 0;constructor(t,s,i){this[xi]=this[$f]=t,this[zf]=s,this[Bf]=i}};function E0(e){return typeof e=="object"&&e!==null&&P0 in e}function U2(e){return e!=null&&typeof e.getSQL=="function"}function W2(e){const t={sql:"",params:[]};for(const s of e)t.sql+=s.sql,t.params.push(...s.params),s.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...s.typings));return t}class xr{static[ee]="StringChunk";value;constructor(t){this.value=Array.isArray(t)?t:[t]}getSQL(){return new Ot([this])}}class Ot{constructor(t){this.queryChunks=t}static[ee]="SQL";decoder=T0;shouldInlineParams=!1;append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return q2.startActiveSpan("drizzle.buildSQL",s=>{const i=this.buildQueryFromSourceParams(this.queryChunks,t);return s?.setAttributes({"drizzle.query.text":i.sql,"drizzle.query.params":JSON.stringify(i.params)}),i})}buildQueryFromSourceParams(t,s){const i=Object.assign({},s,{inlineParams:s.inlineParams||this.shouldInlineParams,paramStartIndex:s.paramStartIndex||{value:0}}),{casing:l,escapeName:c,escapeParam:u,prepareTyping:f,inlineParams:h,paramStartIndex:p}=i;return W2(t.map(v=>{if(dn(v,xr))return{sql:v.value.join(""),params:[]};if(dn(v,ym))return{sql:c(v.value),params:[]};if(v===void 0)return{sql:"",params:[]};if(Array.isArray(v)){const b=[new xr("(")];for(const[N,C]of v.entries())b.push(C),N<v.length-1&&b.push(new xr(", "));return b.push(new xr(")")),this.buildQueryFromSourceParams(b,i)}if(dn(v,Ot))return this.buildQueryFromSourceParams(v.queryChunks,{...i,inlineParams:h||v.shouldInlineParams});if(dn(v,Bn)){const b=v[Bn.Symbol.Schema],N=v[Bn.Symbol.Name];return{sql:b===void 0||v[Jc]?c(N):c(b)+"."+c(N),params:[]}}if(dn(v,Uo)){const b=l.getColumnCasing(v);if(s.invokeSource==="indexes")return{sql:c(b),params:[]};const N=v.table[Bn.Symbol.Schema];return{sql:v.table[Jc]||N===void 0?c(v.table[Bn.Symbol.Name])+"."+c(b):c(N)+"."+c(v.table[Bn.Symbol.Name])+"."+c(b),params:[]}}if(dn(v,Q2)){const b=v[vi].schema,N=v[vi].name;return{sql:b===void 0||v[vi].isAlias?c(N):c(b)+"."+c(N),params:[]}}if(dn(v,R0)){if(dn(v.value,wm))return{sql:u(p.value++,v),params:[v],typings:["none"]};const b=v.value===null?null:v.encoder.mapToDriverValue(v.value);if(dn(b,Ot))return this.buildQueryFromSourceParams([b],i);if(h)return{sql:this.mapInlineParam(b,i),params:[]};let N=["none"];return f&&(N=[f(v.encoder)]),{sql:u(p.value++,b),params:[b],typings:N}}return dn(v,wm)?{sql:u(p.value++,v),params:[v],typings:["none"]}:dn(v,Ot.Aliased)&&v.fieldAlias!==void 0?{sql:c(v.fieldAlias),params:[]}:dn(v,_0)?v._.isWith?{sql:c(v._.alias),params:[]}:this.buildQueryFromSourceParams([new xr("("),v._.sql,new xr(") "),new ym(v._.alias)],i):V2(v)?v.schema?{sql:c(v.schema)+"."+c(v.enumName),params:[]}:{sql:c(v.enumName),params:[]}:U2(v)?v.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([v.getSQL()],i):this.buildQueryFromSourceParams([new xr("("),v.getSQL(),new xr(")")],i):h?{sql:this.mapInlineParam(v,i),params:[]}:{sql:u(p.value++,v),params:[v],typings:["none"]}}))}mapInlineParam(t,{escapeString:s}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return s(t);if(typeof t=="object"){const i=t.toString();return s(i==="[object Object]"?JSON.stringify(t):i)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Ot.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}}class ym{constructor(t){this.value=t}static[ee]="Name";brand;getSQL(){return new Ot([this])}}const T0={mapFromDriverValue:e=>e},I0={mapToDriverValue:e=>e};({...T0,...I0});class R0{constructor(t,s=I0){this.value=t,this.encoder=s}static[ee]="Param";brand;getSQL(){return new Ot([this])}}function _t(e,...t){const s=[];(t.length>0||e.length>0&&e[0]!=="")&&s.push(new xr(e[0]));for(const[i,l]of t.entries())s.push(l,new xr(e[i+1]));return new Ot(s)}(e=>{function t(){return new Ot([])}e.empty=t;function s(h){return new Ot(h)}e.fromList=s;function i(h){return new Ot([new xr(h)])}e.raw=i;function l(h,p){const v=[];for(const[b,N]of h.entries())b>0&&p!==void 0&&v.push(p),v.push(N);return new Ot(v)}e.join=l;function c(h){return new ym(h)}e.identifier=c;function u(h){return new wm(h)}e.placeholder=u;function f(h,p){return new R0(h,p)}e.param=f})(_t||(_t={}));(e=>{class t{constructor(i,l){this.sql=i,this.fieldAlias=l}static[ee]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(Ot||(Ot={}));class wm{constructor(t){this.name=t}static[ee]="Placeholder";getSQL(){return new Ot([this])}}const A0=Symbol.for("drizzle:IsDrizzleView");class Q2{static[ee]="View";[vi];[A0]=!0;constructor({name:t,schema:s,selectedFields:i,query:l}){this[vi]={name:t,originalName:t,schema:s,selectedFields:i,query:l,isExisting:!l,isAlias:!1}}getSQL(){return new Ot([this])}}function H2(e){return typeof e=="object"&&e!==null&&A0 in e}Uo.prototype.getSQL=function(){return new Ot([this])};Bn.prototype.getSQL=function(){return new Ot([this])};_0.prototype.getSQL=function(){return new Ot([this])};function G2(e){return e[Bn.Symbol.Columns]}function K2(e){return e[vi].selectedFields}function nn(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}class _d extends at{static[ee]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(t){if(t){const{name:s,...i}=t;this.config.generatedIdentity={type:"always",sequenceName:s,sequenceOptions:i}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:s,...i}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:s,sequenceOptions:i}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class Z2 extends _d{static[ee]="PgBigInt53Builder";constructor(t){super(t,"number","PgBigInt53")}build(t){return new Y2(t,this.config)}}class Y2 extends Ye{static[ee]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class X2 extends _d{static[ee]="PgBigInt64Builder";constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new J2(t,this.config)}}class J2 extends Ye{static[ee]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}function $s(e,t){const{name:s,config:i}=nn(e,t);return i.mode==="number"?new Z2(s):new X2(s)}class e_ extends at{static[ee]="PgBigSerial53Builder";constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new t_(t,this.config)}}class t_ extends Ye{static[ee]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class n_ extends at{static[ee]="PgBigSerial64Builder";constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new r_(t,this.config)}}class r_ extends Ye{static[ee]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}function s_(e,t){const{name:s,config:i}=nn(e,t);return i.mode==="number"?new e_(s):new n_(s)}class a_ extends at{static[ee]="PgBooleanBuilder";constructor(t){super(t,"boolean","PgBoolean")}build(t){return new i_(t,this.config)}}class i_ extends Ye{static[ee]="PgBoolean";getSQLType(){return"boolean"}}function Si(e){return new a_(e??"")}class o_ extends at{static[ee]="PgCharBuilder";constructor(t,s){super(t,"string","PgChar"),this.config.length=s.length,this.config.enumValues=s.enum}build(t){return new l_(t,this.config)}}class l_ extends Ye{static[ee]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function c_(e,t={}){const{name:s,config:i}=nn(e,t);return new o_(s,i)}class d_ extends at{static[ee]="PgCidrBuilder";constructor(t){super(t,"string","PgCidr")}build(t){return new u_(t,this.config)}}class u_ extends Ye{static[ee]="PgCidr";getSQLType(){return"cidr"}}function f_(e){return new d_(e??"")}class m_ extends at{static[ee]="PgCustomColumnBuilder";constructor(t,s,i){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=s,this.config.customTypeParams=i}build(t){return new p_(t,this.config)}}class p_ extends Ye{static[ee]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(t,s){super(t,s),this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}}function h_(e){return(t,s)=>{const{name:i,config:l}=nn(t,s);return new m_(i,l,e)}}class cl extends at{static[ee]="PgDateColumnBaseBuilder";defaultNow(){return this.default(_t`now()`)}}class g_ extends cl{static[ee]="PgDateBuilder";constructor(t){super(t,"date","PgDate")}build(t){return new x_(t,this.config)}}class x_ extends Ye{static[ee]="PgDate";getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}class v_ extends cl{static[ee]="PgDateStringBuilder";constructor(t){super(t,"string","PgDateString")}build(t){return new y_(t,this.config)}}class y_ extends Ye{static[ee]="PgDateString";getSQLType(){return"date"}}function w_(e,t){const{name:s,config:i}=nn(e,t);return i?.mode==="date"?new g_(s):new v_(s)}class b_ extends at{static[ee]="PgDoublePrecisionBuilder";constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new j_(t,this.config)}}class j_ extends Ye{static[ee]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}function N_(e){return new b_(e??"")}class S_ extends at{static[ee]="PgInetBuilder";constructor(t){super(t,"string","PgInet")}build(t){return new k_(t,this.config)}}class k_ extends Ye{static[ee]="PgInet";getSQLType(){return"inet"}}function C_(e){return new S_(e??"")}class __ extends _d{static[ee]="PgIntegerBuilder";constructor(t){super(t,"number","PgInteger")}build(t){return new P_(t,this.config)}}class P_ extends Ye{static[ee]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}function wn(e){return new __(e??"")}class E_ extends at{static[ee]="PgIntervalBuilder";constructor(t,s){super(t,"string","PgInterval"),this.config.intervalConfig=s}build(t){return new T_(t,this.config)}}class T_ extends Ye{static[ee]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const t=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${t}${s}`}}function I_(e,t={}){const{name:s,config:i}=nn(e,t);return new E_(s,i)}class R_ extends at{static[ee]="PgJsonBuilder";constructor(t){super(t,"json","PgJson")}build(t){return new A_(t,this.config)}}class A_ extends Ye{static[ee]="PgJson";constructor(t,s){super(t,s)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function L_(e){return new R_(e??"")}class D_ extends at{static[ee]="PgJsonbBuilder";constructor(t){super(t,"json","PgJsonb")}build(t){return new M_(t,this.config)}}class M_ extends Ye{static[ee]="PgJsonb";constructor(t,s){super(t,s)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function sr(e){return new D_(e??"")}class O_ extends at{static[ee]="PgLineBuilder";constructor(t){super(t,"array","PgLine")}build(t){return new F_(t,this.config)}}class F_ extends Ye{static[ee]="PgLine";getSQLType(){return"line"}mapFromDriverValue(t){const[s,i,l]=t.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(i),Number.parseFloat(l)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}class z_ extends at{static[ee]="PgLineABCBuilder";constructor(t){super(t,"json","PgLineABC")}build(t){return new $_(t,this.config)}}class $_ extends Ye{static[ee]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(t){const[s,i,l]=t.slice(1,-1).split(",");return{a:Number.parseFloat(s),b:Number.parseFloat(i),c:Number.parseFloat(l)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}function B_(e,t){const{name:s,config:i}=nn(e,t);return!i?.mode||i.mode==="tuple"?new O_(s):new z_(s)}class V_ extends at{static[ee]="PgMacaddrBuilder";constructor(t){super(t,"string","PgMacaddr")}build(t){return new q_(t,this.config)}}class q_ extends Ye{static[ee]="PgMacaddr";getSQLType(){return"macaddr"}}function U_(e){return new V_(e??"")}class W_ extends at{static[ee]="PgMacaddr8Builder";constructor(t){super(t,"string","PgMacaddr8")}build(t){return new Q_(t,this.config)}}class Q_ extends Ye{static[ee]="PgMacaddr8";getSQLType(){return"macaddr8"}}function H_(e){return new W_(e??"")}class G_ extends at{static[ee]="PgNumericBuilder";constructor(t,s,i){super(t,"string","PgNumeric"),this.config.precision=s,this.config.scale=i}build(t){return new K_(t,this.config)}}class K_ extends Ye{static[ee]="PgNumeric";precision;scale;constructor(t,s){super(t,s),this.precision=s.precision,this.scale=s.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function Z_(e,t){const{name:s,config:i}=nn(e,t);return new G_(s,i?.precision,i?.scale)}class Y_ extends at{static[ee]="PgPointTupleBuilder";constructor(t){super(t,"array","PgPointTuple")}build(t){return new X_(t,this.config)}}class X_ extends Ye{static[ee]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[s,i]=t.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(i)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}class J_ extends at{static[ee]="PgPointObjectBuilder";constructor(t){super(t,"json","PgPointObject")}build(t){return new e4(t,this.config)}}class e4 extends Ye{static[ee]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[s,i]=t.slice(1,-1).split(",");return{x:Number.parseFloat(s),y:Number.parseFloat(i)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}function t4(e,t){const{name:s,config:i}=nn(e,t);return!i?.mode||i.mode==="tuple"?new Y_(s):new J_(s)}function n4(e){const t=[];for(let s=0;s<e.length;s+=2)t.push(Number.parseInt(e.slice(s,s+2),16));return new Uint8Array(t)}function Yx(e,t){const s=new ArrayBuffer(8),i=new DataView(s);for(let l=0;l<8;l++)i.setUint8(l,e[t+l]);return i.getFloat64(0,!0)}function L0(e){const t=n4(e);let s=0;const i=t[s];s+=1;const l=new DataView(t.buffer),c=l.getUint32(s,i===1);if(s+=4,c&536870912&&(l.getUint32(s,i===1),s+=4),(c&65535)===1){const u=Yx(t,s);s+=8;const f=Yx(t,s);return s+=8,[u,f]}throw new Error("Unsupported geometry type")}class r4 extends at{static[ee]="PgGeometryBuilder";constructor(t){super(t,"array","PgGeometry")}build(t){return new s4(t,this.config)}}class s4 extends Ye{static[ee]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return L0(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}class a4 extends at{static[ee]="PgGeometryObjectBuilder";constructor(t){super(t,"json","PgGeometryObject")}build(t){return new i4(t,this.config)}}class i4 extends Ye{static[ee]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const s=L0(t);return{x:s[0],y:s[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}function o4(e,t){const{name:s,config:i}=nn(e,t);return!i?.mode||i.mode==="tuple"?new r4(s):new a4(s)}class l4 extends at{static[ee]="PgRealBuilder";constructor(t,s){super(t,"number","PgReal"),this.config.length=s}build(t){return new c4(t,this.config)}}class c4 extends Ye{static[ee]="PgReal";constructor(t,s){super(t,s)}getSQLType(){return"real"}mapFromDriverValue=t=>typeof t=="string"?Number.parseFloat(t):t}function d4(e){return new l4(e??"")}class u4 extends at{static[ee]="PgSerialBuilder";constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new f4(t,this.config)}}class f4 extends Ye{static[ee]="PgSerial";getSQLType(){return"serial"}}function m4(e){return new u4(e??"")}class p4 extends _d{static[ee]="PgSmallIntBuilder";constructor(t){super(t,"number","PgSmallInt")}build(t){return new h4(t,this.config)}}class h4 extends Ye{static[ee]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=t=>typeof t=="string"?Number(t):t}function g4(e){return new p4(e??"")}class x4 extends at{static[ee]="PgSmallSerialBuilder";constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new v4(t,this.config)}}class v4 extends Ye{static[ee]="PgSmallSerial";getSQLType(){return"smallserial"}}function y4(e){return new x4(e??"")}class w4 extends at{static[ee]="PgTextBuilder";constructor(t,s){super(t,"string","PgText"),this.config.enumValues=s.enum}build(t){return new b4(t,this.config)}}class b4 extends Ye{static[ee]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function ft(e,t={}){const{name:s,config:i}=nn(e,t);return new w4(s,i)}class j4 extends cl{constructor(t,s,i){super(t,"string","PgTime"),this.withTimezone=s,this.precision=i,this.config.withTimezone=s,this.config.precision=i}static[ee]="PgTimeBuilder";build(t){return new N4(t,this.config)}}class N4 extends Ye{static[ee]="PgTime";withTimezone;precision;constructor(t,s){super(t,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function S4(e,t={}){const{name:s,config:i}=nn(e,t);return new j4(s,i.withTimezone??!1,i.precision)}class k4 extends cl{static[ee]="PgTimestampBuilder";constructor(t,s,i){super(t,"date","PgTimestamp"),this.config.withTimezone=s,this.config.precision=i}build(t){return new C4(t,this.config)}}class C4 extends Ye{static[ee]="PgTimestamp";withTimezone;precision;constructor(t,s){super(t,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=t=>new Date(this.withTimezone?t:t+"+0000");mapToDriverValue=t=>t.toISOString()}class _4 extends cl{static[ee]="PgTimestampStringBuilder";constructor(t,s,i){super(t,"string","PgTimestampString"),this.config.withTimezone=s,this.config.precision=i}build(t){return new P4(t,this.config)}}class P4 extends Ye{static[ee]="PgTimestampString";withTimezone;precision;constructor(t,s){super(t,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function ct(e,t={}){const{name:s,config:i}=nn(e,t);return i?.mode==="string"?new _4(s,i.withTimezone??!1,i.precision):new k4(s,i?.withTimezone??!1,i?.precision)}class E4 extends at{static[ee]="PgUUIDBuilder";constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(_t`gen_random_uuid()`)}build(t){return new T4(t,this.config)}}class T4 extends Ye{static[ee]="PgUUID";getSQLType(){return"uuid"}}function I4(e){return new E4(e??"")}class R4 extends at{static[ee]="PgVarcharBuilder";constructor(t,s){super(t,"string","PgVarchar"),this.config.length=s.length,this.config.enumValues=s.enum}build(t){return new A4(t,this.config)}}class A4 extends Ye{static[ee]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function De(e,t={}){const{name:s,config:i}=nn(e,t);return new R4(s,i)}class L4 extends at{static[ee]="PgBinaryVectorBuilder";constructor(t,s){super(t,"string","PgBinaryVector"),this.config.dimensions=s.dimensions}build(t){return new D4(t,this.config)}}class D4 extends Ye{static[ee]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function M4(e,t){const{name:s,config:i}=nn(e,t);return new L4(s,i)}class O4 extends at{static[ee]="PgHalfVectorBuilder";constructor(t,s){super(t,"array","PgHalfVector"),this.config.dimensions=s.dimensions}build(t){return new F4(t,this.config)}}class F4 extends Ye{static[ee]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}function z4(e,t){const{name:s,config:i}=nn(e,t);return new O4(s,i)}class $4 extends at{static[ee]="PgSparseVectorBuilder";constructor(t,s){super(t,"string","PgSparseVector"),this.config.dimensions=s.dimensions}build(t){return new B4(t,this.config)}}class B4 extends Ye{static[ee]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function V4(e,t){const{name:s,config:i}=nn(e,t);return new $4(s,i)}class q4 extends at{static[ee]="PgVectorBuilder";constructor(t,s){super(t,"array","PgVector"),this.config.dimensions=s.dimensions}build(t){return new U4(t,this.config)}}class U4 extends Ye{static[ee]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}function W4(e,t){const{name:s,config:i}=nn(e,t);return new q4(s,i)}function Q4(){return{bigint:$s,bigserial:s_,boolean:Si,char:c_,cidr:f_,customType:h_,date:w_,doublePrecision:N_,inet:C_,integer:wn,interval:I_,json:L_,jsonb:sr,line:B_,macaddr:U_,macaddr8:H_,numeric:Z_,point:t4,geometry:o4,real:d4,serial:m4,smallint:g4,smallserial:y4,text:ft,time:S4,timestamp:ct,uuid:I4,varchar:De,bit:M4,halfvec:z4,sparsevec:V4,vector:W4}}const bm=Symbol.for("drizzle:PgInlineForeignKeys"),Xx=Symbol.for("drizzle:EnableRLS");class Jx extends Bn{static[ee]="PgTable";static Symbol=Object.assign({},Bn.Symbol,{InlineForeignKeys:bm,EnableRLS:Xx});[bm]=[];[Xx]=!1;[Bn.Symbol.ExtraConfigBuilder]=void 0}function H4(e,t,s,i,l=e){const c=new Jx(e,i,l),u=typeof t=="function"?t(Q4()):t,f=Object.fromEntries(Object.entries(u).map(([v,b])=>{const N=b;N.setName(v);const C=N.build(c);return c[bm].push(...N.buildForeignKeys(C,c)),[v,C]})),h=Object.fromEntries(Object.entries(u).map(([v,b])=>{const N=b;N.setName(v);const C=N.buildExtraConfigColumn(c);return[v,C]})),p=Object.assign(c,f);return p[Bn.Symbol.Columns]=f,p[Bn.Symbol.ExtraConfigColumns]=h,Object.assign(p,{enableRLS:()=>(p[Jx.Symbol.EnableRLS]=!0,p)})}const Gt=(e,t,s)=>H4(e,t,s,void 0);var nt;(function(e){e.assertEqual=l=>l;function t(l){}e.assertIs=t;function s(l){throw new Error}e.assertNever=s,e.arrayToEnum=l=>{const c={};for(const u of l)c[u]=u;return c},e.getValidEnumValues=l=>{const c=e.objectKeys(l).filter(f=>typeof l[l[f]]!="number"),u={};for(const f of c)u[f]=l[f];return e.objectValues(u)},e.objectValues=l=>e.objectKeys(l).map(function(c){return l[c]}),e.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const c=[];for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&c.push(u);return c},e.find=(l,c)=>{for(const u of l)if(c(u))return u},e.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&isFinite(l)&&Math.floor(l)===l;function i(l,c=" | "){return l.map(u=>typeof u=="string"?`'${u}'`:u).join(c)}e.joinValues=i,e.jsonStringifyReplacer=(l,c)=>typeof c=="bigint"?c.toString():c})(nt||(nt={}));var jm;(function(e){e.mergeShapes=(t,s)=>({...t,...s})})(jm||(jm={}));const he=nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),os=e=>{switch(typeof e){case"undefined":return he.undefined;case"string":return he.string;case"number":return isNaN(e)?he.nan:he.number;case"boolean":return he.boolean;case"function":return he.function;case"bigint":return he.bigint;case"symbol":return he.symbol;case"object":return Array.isArray(e)?he.array:e===null?he.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?he.promise:typeof Map<"u"&&e instanceof Map?he.map:typeof Set<"u"&&e instanceof Set?he.set:typeof Date<"u"&&e instanceof Date?he.date:he.object;default:return he.unknown}},re=nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),G4=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class qn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(c){return c.message},i={_errors:[]},l=c=>{for(const u of c.issues)if(u.code==="invalid_union")u.unionErrors.map(l);else if(u.code==="invalid_return_type")l(u.returnTypeError);else if(u.code==="invalid_arguments")l(u.argumentsError);else if(u.path.length===0)i._errors.push(s(u));else{let f=i,h=0;for(;h<u.path.length;){const p=u.path[h];h===u.path.length-1?(f[p]=f[p]||{_errors:[]},f[p]._errors.push(s(u))):f[p]=f[p]||{_errors:[]},f=f[p],h++}}};return l(this),i}static assert(t){if(!(t instanceof qn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},i=[];for(const l of this.issues)l.path.length>0?(s[l.path[0]]=s[l.path[0]]||[],s[l.path[0]].push(t(l))):i.push(t(l));return{formErrors:i,fieldErrors:s}}get formErrors(){return this.flatten()}}qn.create=e=>new qn(e);const ki=(e,t)=>{let s;switch(e.code){case re.invalid_type:e.received===he.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case re.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,nt.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:s=`Unrecognized key(s) in object: ${nt.joinValues(e.keys,", ")}`;break;case re.invalid_union:s="Invalid input";break;case re.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${nt.joinValues(e.options)}`;break;case re.invalid_enum_value:s=`Invalid enum value. Expected ${nt.joinValues(e.options)}, received '${e.received}'`;break;case re.invalid_arguments:s="Invalid function arguments";break;case re.invalid_return_type:s="Invalid function return type";break;case re.invalid_date:s="Invalid date";break;case re.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:nt.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case re.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case re.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case re.custom:s="Invalid input";break;case re.invalid_intersection_types:s="Intersection results could not be merged";break;case re.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case re.not_finite:s="Number must be finite";break;default:s=t.defaultError,nt.assertNever(e)}return{message:s}};let D0=ki;function K4(e){D0=e}function ed(){return D0}const td=e=>{const{data:t,path:s,errorMaps:i,issueData:l}=e,c=[...s,...l.path||[]],u={...l,path:c};if(l.message!==void 0)return{...l,path:c,message:l.message};let f="";const h=i.filter(p=>!!p).slice().reverse();for(const p of h)f=p(u,{data:t,defaultError:f}).message;return{...l,path:c,message:f}},Z4=[];function ue(e,t){const s=ed(),i=td({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===ki?void 0:ki].filter(l=>!!l)});e.common.issues.push(i)}class jn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const i=[];for(const l of s){if(l.status==="aborted")return Ve;l.status==="dirty"&&t.dirty(),i.push(l.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,s){const i=[];for(const l of s){const c=await l.key,u=await l.value;i.push({key:c,value:u})}return jn.mergeObjectSync(t,i)}static mergeObjectSync(t,s){const i={};for(const l of s){const{key:c,value:u}=l;if(c.status==="aborted"||u.status==="aborted")return Ve;c.status==="dirty"&&t.dirty(),u.status==="dirty"&&t.dirty(),c.value!=="__proto__"&&(typeof u.value<"u"||l.alwaysSet)&&(i[c.value]=u.value)}return{status:t.value,value:i}}}const Ve=Object.freeze({status:"aborted"}),mi=e=>({status:"dirty",value:e}),Cn=e=>({status:"valid",value:e}),Nm=e=>e.status==="aborted",Sm=e=>e.status==="dirty",Pa=e=>e.status==="valid",Wo=e=>typeof Promise<"u"&&e instanceof Promise;function nd(e,t,s,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function M0(e,t,s,i,l){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,s),s}var Ne;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Ne||(Ne={}));var Io,Ro;class Ur{constructor(t,s,i,l){this._cachedPath=[],this.parent=t,this.data=s,this._path=i,this._key=l}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ev=(e,t)=>{if(Pa(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new qn(e.common.issues);return this._error=s,this._error}}};function Ge(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:i,description:l}=e;if(t&&(s||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:l}:{errorMap:(u,f)=>{var h,p;const{message:v}=e;return u.code==="invalid_enum_value"?{message:v??f.defaultError}:typeof f.data>"u"?{message:(h=v??i)!==null&&h!==void 0?h:f.defaultError}:u.code!=="invalid_type"?{message:f.defaultError}:{message:(p=v??s)!==null&&p!==void 0?p:f.defaultError}},description:l}}class Xe{get description(){return this._def.description}_getType(t){return os(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:os(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new jn,ctx:{common:t.parent.common,data:t.data,parsedType:os(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(Wo(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const i=this.safeParse(t,s);if(i.success)return i.data;throw i.error}safeParse(t,s){var i;const l={common:{issues:[],async:(i=s?.async)!==null&&i!==void 0?i:!1,contextualErrorMap:s?.errorMap},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:os(t)},c=this._parseSync({data:t,path:l.path,parent:l});return ev(l,c)}"~validate"(t){var s,i;const l={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:os(t)};if(!this["~standard"].async)try{const c=this._parseSync({data:t,path:[],parent:l});return Pa(c)?{value:c.value}:{issues:l.common.issues}}catch(c){!((i=(s=c?.message)===null||s===void 0?void 0:s.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),l.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:l}).then(c=>Pa(c)?{value:c.value}:{issues:l.common.issues})}async parseAsync(t,s){const i=await this.safeParseAsync(t,s);if(i.success)return i.data;throw i.error}async safeParseAsync(t,s){const i={common:{issues:[],contextualErrorMap:s?.errorMap,async:!0},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:os(t)},l=this._parse({data:t,path:i.path,parent:i}),c=await(Wo(l)?l:Promise.resolve(l));return ev(i,c)}refine(t,s){const i=l=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(l):s;return this._refinement((l,c)=>{const u=t(l),f=()=>c.addIssue({code:re.custom,...i(l)});return typeof Promise<"u"&&u instanceof Promise?u.then(h=>h?!0:(f(),!1)):u?!0:(f(),!1)})}refinement(t,s){return this._refinement((i,l)=>t(i)?!0:(l.addIssue(typeof s=="function"?s(i,l):s),!1))}_refinement(t){return new Pr({schema:this,typeName:ze.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Vr.create(this,this._def)}nullable(){return na.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sr.create(this)}promise(){return _i.create(this,this._def)}or(t){return Ko.create([this,t],this._def)}and(t){return Zo.create(this,t,this._def)}transform(t){return new Pr({...Ge(this._def),schema:this,typeName:ze.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new tl({...Ge(this._def),innerType:this,defaultValue:s,typeName:ze.ZodDefault})}brand(){return new ap({typeName:ze.ZodBranded,type:this,...Ge(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new nl({...Ge(this._def),innerType:this,catchValue:s,typeName:ze.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return dl.create(this,t)}readonly(){return rl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Y4=/^c[^\s-]{8,}$/i,X4=/^[0-9a-z]+$/,J4=/^[0-9A-HJKMNP-TV-Z]{26}$/i,eP=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tP=/^[a-z0-9_-]{21}$/i,nP=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rP=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sP=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,aP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Vf;const iP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,lP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,cP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dP=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,uP=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,O0="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fP=new RegExp(`^${O0}$`);function F0(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function mP(e){return new RegExp(`^${F0(e)}$`)}function z0(e){let t=`${O0}T${F0(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function pP(e,t){return!!((t==="v4"||!t)&&iP.test(e)||(t==="v6"||!t)&&lP.test(e))}function hP(e,t){if(!nP.test(e))return!1;try{const[s]=e.split("."),i=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),l=JSON.parse(atob(i));return!(typeof l!="object"||l===null||!l.typ||!l.alg||t&&l.alg!==t)}catch{return!1}}function gP(e,t){return!!((t==="v4"||!t)&&oP.test(e)||(t==="v6"||!t)&&cP.test(e))}class br extends Xe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==he.string){const c=this._getOrReturnCtx(t);return ue(c,{code:re.invalid_type,expected:he.string,received:c.parsedType}),Ve}const i=new jn;let l;for(const c of this._def.checks)if(c.kind==="min")t.data.length<c.value&&(l=this._getOrReturnCtx(t,l),ue(l,{code:re.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),i.dirty());else if(c.kind==="max")t.data.length>c.value&&(l=this._getOrReturnCtx(t,l),ue(l,{code:re.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),i.dirty());else if(c.kind==="length"){const u=t.data.length>c.value,f=t.data.length<c.value;(u||f)&&(l=this._getOrReturnCtx(t,l),u?ue(l,{code:re.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):f&&ue(l,{code:re.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),i.dirty())}else if(c.kind==="email")sP.test(t.data)||(l=this._getOrReturnCtx(t,l),ue(l,{validation:"email",code:re.invalid_string,message:c.message}),i.dirty());else if(c.kind==="emoji")Vf||(Vf=new RegExp(aP,"u")),Vf.test(t.data)||(l=this._getOrReturnCtx(t,l),ue(l,{validation:"emoji",code:re.invalid_string,message:c.message}),i.dirty());else if(c.kind==="uuid")eP.test(t.data)||(l=this._getOrReturnCtx(t,l),ue(l,{validation:"uuid",code:re.invalid_string,message:c.message}),i.dirty());else if(c.kind==="nanoid")tP.test(t.data)||(l=this._getOrReturnCtx(t,l),ue(l,{validation:"nanoid",code:re.invalid_string,message:c.message}),i.dirty());else if(c.kind==="cuid")Y4.test(t.data)||(l=this._getOrReturnCtx(t,l),ue(l,{validation:"cuid",code:re.invalid_string,message:c.message}),i.dirty());else if(c.kind==="cuid2")X4.test(t.data)||(l=this._getOrReturnCtx(t,l),ue(l,{validation:"cuid2",code:re.invalid_string,message:c.message}),i.dirty());else if(c.kind==="ulid")J4.test(t.data)||(l=this._getOrReturnCtx(t,l),ue(l,{validation:"ulid",code:re.invalid_string,message:c.message}),i.dirty());else if(c.kind==="url")try{new URL(t.data)}catch{l=this._getOrReturnCtx(t,l),ue(l,{validation:"url",code:re.invalid_string,message:c.message}),i.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(t.data)||(l=this._getOrReturnCtx(t,l),ue(l,{validation:"regex",code:re.invalid_string,message:c.message}),i.dirty())):c.kind==="trim"?t.data=t.data.trim():c.kind==="includes"?t.data.includes(c.value,c.position)||(l=this._getOrReturnCtx(t,l),ue(l,{code:re.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),i.dirty()):c.kind==="toLowerCase"?t.data=t.data.toLowerCase():c.kind==="toUpperCase"?t.data=t.data.toUpperCase():c.kind==="startsWith"?t.data.startsWith(c.value)||(l=this._getOrReturnCtx(t,l),ue(l,{code:re.invalid_string,validation:{startsWith:c.value},message:c.message}),i.dirty()):c.kind==="endsWith"?t.data.endsWith(c.value)||(l=this._getOrReturnCtx(t,l),ue(l,{code:re.invalid_string,validation:{endsWith:c.value},message:c.message}),i.dirty()):c.kind==="datetime"?z0(c).test(t.data)||(l=this._getOrReturnCtx(t,l),ue(l,{code:re.invalid_string,validation:"datetime",message:c.message}),i.dirty()):c.kind==="date"?fP.test(t.data)||(l=this._getOrReturnCtx(t,l),ue(l,{code:re.invalid_string,validation:"date",message:c.message}),i.dirty()):c.kind==="time"?mP(c).test(t.data)||(l=this._getOrReturnCtx(t,l),ue(l,{code:re.invalid_string,validation:"time",message:c.message}),i.dirty()):c.kind==="duration"?rP.test(t.data)||(l=this._getOrReturnCtx(t,l),ue(l,{validation:"duration",code:re.invalid_string,message:c.message}),i.dirty()):c.kind==="ip"?pP(t.data,c.version)||(l=this._getOrReturnCtx(t,l),ue(l,{validation:"ip",code:re.invalid_string,message:c.message}),i.dirty()):c.kind==="jwt"?hP(t.data,c.alg)||(l=this._getOrReturnCtx(t,l),ue(l,{validation:"jwt",code:re.invalid_string,message:c.message}),i.dirty()):c.kind==="cidr"?gP(t.data,c.version)||(l=this._getOrReturnCtx(t,l),ue(l,{validation:"cidr",code:re.invalid_string,message:c.message}),i.dirty()):c.kind==="base64"?dP.test(t.data)||(l=this._getOrReturnCtx(t,l),ue(l,{validation:"base64",code:re.invalid_string,message:c.message}),i.dirty()):c.kind==="base64url"?uP.test(t.data)||(l=this._getOrReturnCtx(t,l),ue(l,{validation:"base64url",code:re.invalid_string,message:c.message}),i.dirty()):nt.assertNever(c);return{status:i.value,value:t.data}}_regex(t,s,i){return this.refinement(l=>t.test(l),{validation:s,code:re.invalid_string,...Ne.errToObj(i)})}_addCheck(t){return new br({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ne.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ne.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ne.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ne.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ne.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ne.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ne.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ne.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ne.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ne.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ne.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ne.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ne.errToObj(t)})}datetime(t){var s,i;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(s=t?.offset)!==null&&s!==void 0?s:!1,local:(i=t?.local)!==null&&i!==void 0?i:!1,...Ne.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Ne.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Ne.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...Ne.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s?.position,...Ne.errToObj(s?.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...Ne.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...Ne.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...Ne.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...Ne.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...Ne.errToObj(s)})}nonempty(t){return this.min(1,Ne.errToObj(t))}trim(){return new br({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new br({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new br({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}br.create=e=>{var t;return new br({checks:[],typeName:ze.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Ge(e)})};function xP(e,t){const s=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,l=s>i?s:i,c=parseInt(e.toFixed(l).replace(".","")),u=parseInt(t.toFixed(l).replace(".",""));return c%u/Math.pow(10,l)}class Js extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==he.number){const c=this._getOrReturnCtx(t);return ue(c,{code:re.invalid_type,expected:he.number,received:c.parsedType}),Ve}let i;const l=new jn;for(const c of this._def.checks)c.kind==="int"?nt.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),ue(i,{code:re.invalid_type,expected:"integer",received:"float",message:c.message}),l.dirty()):c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(i=this._getOrReturnCtx(t,i),ue(i,{code:re.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(i=this._getOrReturnCtx(t,i),ue(i,{code:re.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):c.kind==="multipleOf"?xP(t.data,c.value)!==0&&(i=this._getOrReturnCtx(t,i),ue(i,{code:re.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):c.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),ue(i,{code:re.not_finite,message:c.message}),l.dirty()):nt.assertNever(c);return{status:l.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,Ne.toString(s))}gt(t,s){return this.setLimit("min",t,!1,Ne.toString(s))}lte(t,s){return this.setLimit("max",t,!0,Ne.toString(s))}lt(t,s){return this.setLimit("max",t,!1,Ne.toString(s))}setLimit(t,s,i,l){return new Js({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:i,message:Ne.toString(l)}]})}_addCheck(t){return new Js({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ne.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ne.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:Ne.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:Ne.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&nt.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(s===null||i.value>s)&&(s=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(s)&&Number.isFinite(t)}}Js.create=e=>new Js({checks:[],typeName:ze.ZodNumber,coerce:e?.coerce||!1,...Ge(e)});class ea extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==he.bigint)return this._getInvalidInput(t);let i;const l=new jn;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(i=this._getOrReturnCtx(t,i),ue(i,{code:re.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(i=this._getOrReturnCtx(t,i),ue(i,{code:re.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):c.kind==="multipleOf"?t.data%c.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),ue(i,{code:re.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):nt.assertNever(c);return{status:l.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return ue(s,{code:re.invalid_type,expected:he.bigint,received:s.parsedType}),Ve}gte(t,s){return this.setLimit("min",t,!0,Ne.toString(s))}gt(t,s){return this.setLimit("min",t,!1,Ne.toString(s))}lte(t,s){return this.setLimit("max",t,!0,Ne.toString(s))}lt(t,s){return this.setLimit("max",t,!1,Ne.toString(s))}setLimit(t,s,i,l){return new ea({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:i,message:Ne.toString(l)}]})}_addCheck(t){return new ea({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ne.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:Ne.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}ea.create=e=>{var t;return new ea({checks:[],typeName:ze.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Ge(e)})};class Qo extends Xe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==he.boolean){const i=this._getOrReturnCtx(t);return ue(i,{code:re.invalid_type,expected:he.boolean,received:i.parsedType}),Ve}return Cn(t.data)}}Qo.create=e=>new Qo({typeName:ze.ZodBoolean,coerce:e?.coerce||!1,...Ge(e)});class Ea extends Xe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==he.date){const c=this._getOrReturnCtx(t);return ue(c,{code:re.invalid_type,expected:he.date,received:c.parsedType}),Ve}if(isNaN(t.data.getTime())){const c=this._getOrReturnCtx(t);return ue(c,{code:re.invalid_date}),Ve}const i=new jn;let l;for(const c of this._def.checks)c.kind==="min"?t.data.getTime()<c.value&&(l=this._getOrReturnCtx(t,l),ue(l,{code:re.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),i.dirty()):c.kind==="max"?t.data.getTime()>c.value&&(l=this._getOrReturnCtx(t,l),ue(l,{code:re.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),i.dirty()):nt.assertNever(c);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ea({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:Ne.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:Ne.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}Ea.create=e=>new Ea({checks:[],coerce:e?.coerce||!1,typeName:ze.ZodDate,...Ge(e)});class rd extends Xe{_parse(t){if(this._getType(t)!==he.symbol){const i=this._getOrReturnCtx(t);return ue(i,{code:re.invalid_type,expected:he.symbol,received:i.parsedType}),Ve}return Cn(t.data)}}rd.create=e=>new rd({typeName:ze.ZodSymbol,...Ge(e)});class Ho extends Xe{_parse(t){if(this._getType(t)!==he.undefined){const i=this._getOrReturnCtx(t);return ue(i,{code:re.invalid_type,expected:he.undefined,received:i.parsedType}),Ve}return Cn(t.data)}}Ho.create=e=>new Ho({typeName:ze.ZodUndefined,...Ge(e)});class Go extends Xe{_parse(t){if(this._getType(t)!==he.null){const i=this._getOrReturnCtx(t);return ue(i,{code:re.invalid_type,expected:he.null,received:i.parsedType}),Ve}return Cn(t.data)}}Go.create=e=>new Go({typeName:ze.ZodNull,...Ge(e)});class Ci extends Xe{constructor(){super(...arguments),this._any=!0}_parse(t){return Cn(t.data)}}Ci.create=e=>new Ci({typeName:ze.ZodAny,...Ge(e)});class ja extends Xe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Cn(t.data)}}ja.create=e=>new ja({typeName:ze.ZodUnknown,...Ge(e)});class ms extends Xe{_parse(t){const s=this._getOrReturnCtx(t);return ue(s,{code:re.invalid_type,expected:he.never,received:s.parsedType}),Ve}}ms.create=e=>new ms({typeName:ze.ZodNever,...Ge(e)});class sd extends Xe{_parse(t){if(this._getType(t)!==he.undefined){const i=this._getOrReturnCtx(t);return ue(i,{code:re.invalid_type,expected:he.void,received:i.parsedType}),Ve}return Cn(t.data)}}sd.create=e=>new sd({typeName:ze.ZodVoid,...Ge(e)});class Sr extends Xe{_parse(t){const{ctx:s,status:i}=this._processInputParams(t),l=this._def;if(s.parsedType!==he.array)return ue(s,{code:re.invalid_type,expected:he.array,received:s.parsedType}),Ve;if(l.exactLength!==null){const u=s.data.length>l.exactLength.value,f=s.data.length<l.exactLength.value;(u||f)&&(ue(s,{code:u?re.too_big:re.too_small,minimum:f?l.exactLength.value:void 0,maximum:u?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),i.dirty())}if(l.minLength!==null&&s.data.length<l.minLength.value&&(ue(s,{code:re.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),i.dirty()),l.maxLength!==null&&s.data.length>l.maxLength.value&&(ue(s,{code:re.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),i.dirty()),s.common.async)return Promise.all([...s.data].map((u,f)=>l.type._parseAsync(new Ur(s,u,s.path,f)))).then(u=>jn.mergeArray(i,u));const c=[...s.data].map((u,f)=>l.type._parseSync(new Ur(s,u,s.path,f)));return jn.mergeArray(i,c)}get element(){return this._def.type}min(t,s){return new Sr({...this._def,minLength:{value:t,message:Ne.toString(s)}})}max(t,s){return new Sr({...this._def,maxLength:{value:t,message:Ne.toString(s)}})}length(t,s){return new Sr({...this._def,exactLength:{value:t,message:Ne.toString(s)}})}nonempty(t){return this.min(1,t)}}Sr.create=(e,t)=>new Sr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ze.ZodArray,...Ge(t)});function ui(e){if(e instanceof At){const t={};for(const s in e.shape){const i=e.shape[s];t[s]=Vr.create(ui(i))}return new At({...e._def,shape:()=>t})}else return e instanceof Sr?new Sr({...e._def,type:ui(e.element)}):e instanceof Vr?Vr.create(ui(e.unwrap())):e instanceof na?na.create(ui(e.unwrap())):e instanceof Wr?Wr.create(e.items.map(t=>ui(t))):e}class At extends Xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=nt.objectKeys(t);return this._cached={shape:t,keys:s}}_parse(t){if(this._getType(t)!==he.object){const p=this._getOrReturnCtx(t);return ue(p,{code:re.invalid_type,expected:he.object,received:p.parsedType}),Ve}const{status:i,ctx:l}=this._processInputParams(t),{shape:c,keys:u}=this._getCached(),f=[];if(!(this._def.catchall instanceof ms&&this._def.unknownKeys==="strip"))for(const p in l.data)u.includes(p)||f.push(p);const h=[];for(const p of u){const v=c[p],b=l.data[p];h.push({key:{status:"valid",value:p},value:v._parse(new Ur(l,b,l.path,p)),alwaysSet:p in l.data})}if(this._def.catchall instanceof ms){const p=this._def.unknownKeys;if(p==="passthrough")for(const v of f)h.push({key:{status:"valid",value:v},value:{status:"valid",value:l.data[v]}});else if(p==="strict")f.length>0&&(ue(l,{code:re.unrecognized_keys,keys:f}),i.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const v of f){const b=l.data[v];h.push({key:{status:"valid",value:v},value:p._parse(new Ur(l,b,l.path,v)),alwaysSet:v in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const p=[];for(const v of h){const b=await v.key,N=await v.value;p.push({key:b,value:N,alwaysSet:v.alwaysSet})}return p}).then(p=>jn.mergeObjectSync(i,p)):jn.mergeObjectSync(i,h)}get shape(){return this._def.shape()}strict(t){return Ne.errToObj,new At({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,i)=>{var l,c,u,f;const h=(u=(c=(l=this._def).errorMap)===null||c===void 0?void 0:c.call(l,s,i).message)!==null&&u!==void 0?u:i.defaultError;return s.code==="unrecognized_keys"?{message:(f=Ne.errToObj(t).message)!==null&&f!==void 0?f:h}:{message:h}}}:{}})}strip(){return new At({...this._def,unknownKeys:"strip"})}passthrough(){return new At({...this._def,unknownKeys:"passthrough"})}extend(t){return new At({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new At({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ze.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new At({...this._def,catchall:t})}pick(t){const s={};return nt.objectKeys(t).forEach(i=>{t[i]&&this.shape[i]&&(s[i]=this.shape[i])}),new At({...this._def,shape:()=>s})}omit(t){const s={};return nt.objectKeys(this.shape).forEach(i=>{t[i]||(s[i]=this.shape[i])}),new At({...this._def,shape:()=>s})}deepPartial(){return ui(this)}partial(t){const s={};return nt.objectKeys(this.shape).forEach(i=>{const l=this.shape[i];t&&!t[i]?s[i]=l:s[i]=l.optional()}),new At({...this._def,shape:()=>s})}required(t){const s={};return nt.objectKeys(this.shape).forEach(i=>{if(t&&!t[i])s[i]=this.shape[i];else{let c=this.shape[i];for(;c instanceof Vr;)c=c._def.innerType;s[i]=c}}),new At({...this._def,shape:()=>s})}keyof(){return $0(nt.objectKeys(this.shape))}}At.create=(e,t)=>new At({shape:()=>e,unknownKeys:"strip",catchall:ms.create(),typeName:ze.ZodObject,...Ge(t)});At.strictCreate=(e,t)=>new At({shape:()=>e,unknownKeys:"strict",catchall:ms.create(),typeName:ze.ZodObject,...Ge(t)});At.lazycreate=(e,t)=>new At({shape:e,unknownKeys:"strip",catchall:ms.create(),typeName:ze.ZodObject,...Ge(t)});class Ko extends Xe{_parse(t){const{ctx:s}=this._processInputParams(t),i=this._def.options;function l(c){for(const f of c)if(f.result.status==="valid")return f.result;for(const f of c)if(f.result.status==="dirty")return s.common.issues.push(...f.ctx.common.issues),f.result;const u=c.map(f=>new qn(f.ctx.common.issues));return ue(s,{code:re.invalid_union,unionErrors:u}),Ve}if(s.common.async)return Promise.all(i.map(async c=>{const u={...s,common:{...s.common,issues:[]},parent:null};return{result:await c._parseAsync({data:s.data,path:s.path,parent:u}),ctx:u}})).then(l);{let c;const u=[];for(const h of i){const p={...s,common:{...s.common,issues:[]},parent:null},v=h._parseSync({data:s.data,path:s.path,parent:p});if(v.status==="valid")return v;v.status==="dirty"&&!c&&(c={result:v,ctx:p}),p.common.issues.length&&u.push(p.common.issues)}if(c)return s.common.issues.push(...c.ctx.common.issues),c.result;const f=u.map(h=>new qn(h));return ue(s,{code:re.invalid_union,unionErrors:f}),Ve}}get options(){return this._def.options}}Ko.create=(e,t)=>new Ko({options:e,typeName:ze.ZodUnion,...Ge(t)});const as=e=>e instanceof Xo?as(e.schema):e instanceof Pr?as(e.innerType()):e instanceof Jo?[e.value]:e instanceof ta?e.options:e instanceof el?nt.objectValues(e.enum):e instanceof tl?as(e._def.innerType):e instanceof Ho?[void 0]:e instanceof Go?[null]:e instanceof Vr?[void 0,...as(e.unwrap())]:e instanceof na?[null,...as(e.unwrap())]:e instanceof ap||e instanceof rl?as(e.unwrap()):e instanceof nl?as(e._def.innerType):[];class Pd extends Xe{_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==he.object)return ue(s,{code:re.invalid_type,expected:he.object,received:s.parsedType}),Ve;const i=this.discriminator,l=s.data[i],c=this.optionsMap.get(l);return c?s.common.async?c._parseAsync({data:s.data,path:s.path,parent:s}):c._parseSync({data:s.data,path:s.path,parent:s}):(ue(s,{code:re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),Ve)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,s,i){const l=new Map;for(const c of s){const u=as(c.shape[t]);if(!u.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const f of u){if(l.has(f))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(f)}`);l.set(f,c)}}return new Pd({typeName:ze.ZodDiscriminatedUnion,discriminator:t,options:s,optionsMap:l,...Ge(i)})}}function km(e,t){const s=os(e),i=os(t);if(e===t)return{valid:!0,data:e};if(s===he.object&&i===he.object){const l=nt.objectKeys(t),c=nt.objectKeys(e).filter(f=>l.indexOf(f)!==-1),u={...e,...t};for(const f of c){const h=km(e[f],t[f]);if(!h.valid)return{valid:!1};u[f]=h.data}return{valid:!0,data:u}}else if(s===he.array&&i===he.array){if(e.length!==t.length)return{valid:!1};const l=[];for(let c=0;c<e.length;c++){const u=e[c],f=t[c],h=km(u,f);if(!h.valid)return{valid:!1};l.push(h.data)}return{valid:!0,data:l}}else return s===he.date&&i===he.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Zo extends Xe{_parse(t){const{status:s,ctx:i}=this._processInputParams(t),l=(c,u)=>{if(Nm(c)||Nm(u))return Ve;const f=km(c.value,u.value);return f.valid?((Sm(c)||Sm(u))&&s.dirty(),{status:s.value,value:f.data}):(ue(i,{code:re.invalid_intersection_types}),Ve)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([c,u])=>l(c,u)):l(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Zo.create=(e,t,s)=>new Zo({left:e,right:t,typeName:ze.ZodIntersection,...Ge(s)});class Wr extends Xe{_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==he.array)return ue(i,{code:re.invalid_type,expected:he.array,received:i.parsedType}),Ve;if(i.data.length<this._def.items.length)return ue(i,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ve;!this._def.rest&&i.data.length>this._def.items.length&&(ue(i,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const c=[...i.data].map((u,f)=>{const h=this._def.items[f]||this._def.rest;return h?h._parse(new Ur(i,u,i.path,f)):null}).filter(u=>!!u);return i.common.async?Promise.all(c).then(u=>jn.mergeArray(s,u)):jn.mergeArray(s,c)}get items(){return this._def.items}rest(t){return new Wr({...this._def,rest:t})}}Wr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wr({items:e,typeName:ze.ZodTuple,rest:null,...Ge(t)})};class Yo extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==he.object)return ue(i,{code:re.invalid_type,expected:he.object,received:i.parsedType}),Ve;const l=[],c=this._def.keyType,u=this._def.valueType;for(const f in i.data)l.push({key:c._parse(new Ur(i,f,i.path,f)),value:u._parse(new Ur(i,i.data[f],i.path,f)),alwaysSet:f in i.data});return i.common.async?jn.mergeObjectAsync(s,l):jn.mergeObjectSync(s,l)}get element(){return this._def.valueType}static create(t,s,i){return s instanceof Xe?new Yo({keyType:t,valueType:s,typeName:ze.ZodRecord,...Ge(i)}):new Yo({keyType:br.create(),valueType:t,typeName:ze.ZodRecord,...Ge(s)})}}class ad extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==he.map)return ue(i,{code:re.invalid_type,expected:he.map,received:i.parsedType}),Ve;const l=this._def.keyType,c=this._def.valueType,u=[...i.data.entries()].map(([f,h],p)=>({key:l._parse(new Ur(i,f,i.path,[p,"key"])),value:c._parse(new Ur(i,h,i.path,[p,"value"]))}));if(i.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const h of u){const p=await h.key,v=await h.value;if(p.status==="aborted"||v.status==="aborted")return Ve;(p.status==="dirty"||v.status==="dirty")&&s.dirty(),f.set(p.value,v.value)}return{status:s.value,value:f}})}else{const f=new Map;for(const h of u){const p=h.key,v=h.value;if(p.status==="aborted"||v.status==="aborted")return Ve;(p.status==="dirty"||v.status==="dirty")&&s.dirty(),f.set(p.value,v.value)}return{status:s.value,value:f}}}}ad.create=(e,t,s)=>new ad({valueType:t,keyType:e,typeName:ze.ZodMap,...Ge(s)});class Ta extends Xe{_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==he.set)return ue(i,{code:re.invalid_type,expected:he.set,received:i.parsedType}),Ve;const l=this._def;l.minSize!==null&&i.data.size<l.minSize.value&&(ue(i,{code:re.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),s.dirty()),l.maxSize!==null&&i.data.size>l.maxSize.value&&(ue(i,{code:re.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),s.dirty());const c=this._def.valueType;function u(h){const p=new Set;for(const v of h){if(v.status==="aborted")return Ve;v.status==="dirty"&&s.dirty(),p.add(v.value)}return{status:s.value,value:p}}const f=[...i.data.values()].map((h,p)=>c._parse(new Ur(i,h,i.path,p)));return i.common.async?Promise.all(f).then(h=>u(h)):u(f)}min(t,s){return new Ta({...this._def,minSize:{value:t,message:Ne.toString(s)}})}max(t,s){return new Ta({...this._def,maxSize:{value:t,message:Ne.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}Ta.create=(e,t)=>new Ta({valueType:e,minSize:null,maxSize:null,typeName:ze.ZodSet,...Ge(t)});class yi extends Xe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==he.function)return ue(s,{code:re.invalid_type,expected:he.function,received:s.parsedType}),Ve;function i(f,h){return td({data:f,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,ed(),ki].filter(p=>!!p),issueData:{code:re.invalid_arguments,argumentsError:h}})}function l(f,h){return td({data:f,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,ed(),ki].filter(p=>!!p),issueData:{code:re.invalid_return_type,returnTypeError:h}})}const c={errorMap:s.common.contextualErrorMap},u=s.data;if(this._def.returns instanceof _i){const f=this;return Cn(async function(...h){const p=new qn([]),v=await f._def.args.parseAsync(h,c).catch(C=>{throw p.addIssue(i(h,C)),p}),b=await Reflect.apply(u,this,v);return await f._def.returns._def.type.parseAsync(b,c).catch(C=>{throw p.addIssue(l(b,C)),p})})}else{const f=this;return Cn(function(...h){const p=f._def.args.safeParse(h,c);if(!p.success)throw new qn([i(h,p.error)]);const v=Reflect.apply(u,this,p.data),b=f._def.returns.safeParse(v,c);if(!b.success)throw new qn([l(v,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new yi({...this._def,args:Wr.create(t).rest(ja.create())})}returns(t){return new yi({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,s,i){return new yi({args:t||Wr.create([]).rest(ja.create()),returns:s||ja.create(),typeName:ze.ZodFunction,...Ge(i)})}}class Xo extends Xe{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Xo.create=(e,t)=>new Xo({getter:e,typeName:ze.ZodLazy,...Ge(t)});class Jo extends Xe{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return ue(s,{received:s.data,code:re.invalid_literal,expected:this._def.value}),Ve}return{status:"valid",value:t.data}}get value(){return this._def.value}}Jo.create=(e,t)=>new Jo({value:e,typeName:ze.ZodLiteral,...Ge(t)});function $0(e,t){return new ta({values:e,typeName:ze.ZodEnum,...Ge(t)})}class ta extends Xe{constructor(){super(...arguments),Io.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),i=this._def.values;return ue(s,{expected:nt.joinValues(i),received:s.parsedType,code:re.invalid_type}),Ve}if(nd(this,Io)||M0(this,Io,new Set(this._def.values)),!nd(this,Io).has(t.data)){const s=this._getOrReturnCtx(t),i=this._def.values;return ue(s,{received:s.data,code:re.invalid_enum_value,options:i}),Ve}return Cn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return ta.create(t,{...this._def,...s})}exclude(t,s=this._def){return ta.create(this.options.filter(i=>!t.includes(i)),{...this._def,...s})}}Io=new WeakMap;ta.create=$0;class el extends Xe{constructor(){super(...arguments),Ro.set(this,void 0)}_parse(t){const s=nt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==he.string&&i.parsedType!==he.number){const l=nt.objectValues(s);return ue(i,{expected:nt.joinValues(l),received:i.parsedType,code:re.invalid_type}),Ve}if(nd(this,Ro)||M0(this,Ro,new Set(nt.getValidEnumValues(this._def.values))),!nd(this,Ro).has(t.data)){const l=nt.objectValues(s);return ue(i,{received:i.data,code:re.invalid_enum_value,options:l}),Ve}return Cn(t.data)}get enum(){return this._def.values}}Ro=new WeakMap;el.create=(e,t)=>new el({values:e,typeName:ze.ZodNativeEnum,...Ge(t)});class _i extends Xe{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==he.promise&&s.common.async===!1)return ue(s,{code:re.invalid_type,expected:he.promise,received:s.parsedType}),Ve;const i=s.parsedType===he.promise?s.data:Promise.resolve(s.data);return Cn(i.then(l=>this._def.type.parseAsync(l,{path:s.path,errorMap:s.common.contextualErrorMap})))}}_i.create=(e,t)=>new _i({type:e,typeName:ze.ZodPromise,...Ge(t)});class Pr extends Xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:i}=this._processInputParams(t),l=this._def.effect||null,c={addIssue:u=>{ue(i,u),u.fatal?s.abort():s.dirty()},get path(){return i.path}};if(c.addIssue=c.addIssue.bind(c),l.type==="preprocess"){const u=l.transform(i.data,c);if(i.common.async)return Promise.resolve(u).then(async f=>{if(s.value==="aborted")return Ve;const h=await this._def.schema._parseAsync({data:f,path:i.path,parent:i});return h.status==="aborted"?Ve:h.status==="dirty"||s.value==="dirty"?mi(h.value):h});{if(s.value==="aborted")return Ve;const f=this._def.schema._parseSync({data:u,path:i.path,parent:i});return f.status==="aborted"?Ve:f.status==="dirty"||s.value==="dirty"?mi(f.value):f}}if(l.type==="refinement"){const u=f=>{const h=l.refinement(f,c);if(i.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(i.common.async===!1){const f=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return f.status==="aborted"?Ve:(f.status==="dirty"&&s.dirty(),u(f.value),{status:s.value,value:f.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(f=>f.status==="aborted"?Ve:(f.status==="dirty"&&s.dirty(),u(f.value).then(()=>({status:s.value,value:f.value}))))}if(l.type==="transform")if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Pa(u))return u;const f=l.transform(u.value,c);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:f}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>Pa(u)?Promise.resolve(l.transform(u.value,c)).then(f=>({status:s.value,value:f})):u);nt.assertNever(l)}}Pr.create=(e,t,s)=>new Pr({schema:e,typeName:ze.ZodEffects,effect:t,...Ge(s)});Pr.createWithPreprocess=(e,t,s)=>new Pr({schema:t,effect:{type:"preprocess",transform:e},typeName:ze.ZodEffects,...Ge(s)});class Vr extends Xe{_parse(t){return this._getType(t)===he.undefined?Cn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Vr.create=(e,t)=>new Vr({innerType:e,typeName:ze.ZodOptional,...Ge(t)});class na extends Xe{_parse(t){return this._getType(t)===he.null?Cn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}na.create=(e,t)=>new na({innerType:e,typeName:ze.ZodNullable,...Ge(t)});class tl extends Xe{_parse(t){const{ctx:s}=this._processInputParams(t);let i=s.data;return s.parsedType===he.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}tl.create=(e,t)=>new tl({innerType:e,typeName:ze.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ge(t)});class nl extends Xe{_parse(t){const{ctx:s}=this._processInputParams(t),i={...s,common:{...s.common,issues:[]}},l=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Wo(l)?l.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new qn(i.common.issues)},input:i.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new qn(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}nl.create=(e,t)=>new nl({innerType:e,typeName:ze.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ge(t)});class id extends Xe{_parse(t){if(this._getType(t)!==he.nan){const i=this._getOrReturnCtx(t);return ue(i,{code:re.invalid_type,expected:he.nan,received:i.parsedType}),Ve}return{status:"valid",value:t.data}}}id.create=e=>new id({typeName:ze.ZodNaN,...Ge(e)});const vP=Symbol("zod_brand");class ap extends Xe{_parse(t){const{ctx:s}=this._processInputParams(t),i=s.data;return this._def.type._parse({data:i,path:s.path,parent:s})}unwrap(){return this._def.type}}class dl extends Xe{_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return c.status==="aborted"?Ve:c.status==="dirty"?(s.dirty(),mi(c.value)):this._def.out._parseAsync({data:c.value,path:i.path,parent:i})})();{const l=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?Ve:l.status==="dirty"?(s.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:i.path,parent:i})}}static create(t,s){return new dl({in:t,out:s,typeName:ze.ZodPipeline})}}class rl extends Xe{_parse(t){const s=this._def.innerType._parse(t),i=l=>(Pa(l)&&(l.value=Object.freeze(l.value)),l);return Wo(s)?s.then(l=>i(l)):i(s)}unwrap(){return this._def.innerType}}rl.create=(e,t)=>new rl({innerType:e,typeName:ze.ZodReadonly,...Ge(t)});function tv(e,t){const s=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof s=="string"?{message:s}:s}function B0(e,t={},s){return e?Ci.create().superRefine((i,l)=>{var c,u;const f=e(i);if(f instanceof Promise)return f.then(h=>{var p,v;if(!h){const b=tv(t,i),N=(v=(p=b.fatal)!==null&&p!==void 0?p:s)!==null&&v!==void 0?v:!0;l.addIssue({code:"custom",...b,fatal:N})}});if(!f){const h=tv(t,i),p=(u=(c=h.fatal)!==null&&c!==void 0?c:s)!==null&&u!==void 0?u:!0;l.addIssue({code:"custom",...h,fatal:p})}}):Ci.create()}const yP={object:At.lazycreate};var ze;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ze||(ze={}));const wP=(e,t={message:`Input not instance of ${e.name}`})=>B0(s=>s instanceof e,t),V0=br.create,q0=Js.create,bP=id.create,jP=ea.create,U0=Qo.create,NP=Ea.create,SP=rd.create,kP=Ho.create,CP=Go.create,_P=Ci.create,PP=ja.create,EP=ms.create,TP=sd.create,IP=Sr.create,RP=At.create,AP=At.strictCreate,LP=Ko.create,DP=Pd.create,MP=Zo.create,OP=Wr.create,FP=Yo.create,zP=ad.create,$P=Ta.create,BP=yi.create,VP=Xo.create,qP=Jo.create,UP=ta.create,WP=el.create,QP=_i.create,nv=Pr.create,HP=Vr.create,GP=na.create,KP=Pr.createWithPreprocess,ZP=dl.create,YP=()=>V0().optional(),XP=()=>q0().optional(),JP=()=>U0().optional(),eE={string:(e=>br.create({...e,coerce:!0})),number:(e=>Js.create({...e,coerce:!0})),boolean:(e=>Qo.create({...e,coerce:!0})),bigint:(e=>ea.create({...e,coerce:!0})),date:(e=>Ea.create({...e,coerce:!0}))},tE=Ve;var Oe=Object.freeze({__proto__:null,defaultErrorMap:ki,setErrorMap:K4,getErrorMap:ed,makeIssue:td,EMPTY_PATH:Z4,addIssueToContext:ue,ParseStatus:jn,INVALID:Ve,DIRTY:mi,OK:Cn,isAborted:Nm,isDirty:Sm,isValid:Pa,isAsync:Wo,get util(){return nt},get objectUtil(){return jm},ZodParsedType:he,getParsedType:os,ZodType:Xe,datetimeRegex:z0,ZodString:br,ZodNumber:Js,ZodBigInt:ea,ZodBoolean:Qo,ZodDate:Ea,ZodSymbol:rd,ZodUndefined:Ho,ZodNull:Go,ZodAny:Ci,ZodUnknown:ja,ZodNever:ms,ZodVoid:sd,ZodArray:Sr,ZodObject:At,ZodUnion:Ko,ZodDiscriminatedUnion:Pd,ZodIntersection:Zo,ZodTuple:Wr,ZodRecord:Yo,ZodMap:ad,ZodSet:Ta,ZodFunction:yi,ZodLazy:Xo,ZodLiteral:Jo,ZodEnum:ta,ZodNativeEnum:el,ZodPromise:_i,ZodEffects:Pr,ZodTransformer:Pr,ZodOptional:Vr,ZodNullable:na,ZodDefault:tl,ZodCatch:nl,ZodNaN:id,BRAND:vP,ZodBranded:ap,ZodPipeline:dl,ZodReadonly:rl,custom:B0,Schema:Xe,ZodSchema:Xe,late:yP,get ZodFirstPartyTypeKind(){return ze},coerce:eE,any:_P,array:IP,bigint:jP,boolean:U0,date:NP,discriminatedUnion:DP,effect:nv,enum:UP,function:BP,instanceof:wP,intersection:MP,lazy:VP,literal:qP,map:zP,nan:bP,nativeEnum:WP,never:EP,null:CP,nullable:GP,number:q0,object:RP,oboolean:JP,onumber:XP,optional:HP,ostring:YP,pipeline:ZP,preprocess:KP,promise:QP,record:FP,set:$P,strictObject:AP,string:V0,symbol:SP,transformer:nv,tuple:OP,undefined:kP,union:LP,unknown:PP,void:TP,NEVER:tE,ZodIssueCode:re,quotelessJson:G4,ZodError:qn});const Rt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function $t(e,t){return t.includes(e.columnType)}function nE(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const rE=Oe.union([Oe.string(),Oe.number(),Oe.boolean(),Oe.null()]),sE=Oe.union([rE,Oe.record(Oe.any()),Oe.array(Oe.any())]),aE=Oe.custom(e=>e instanceof Buffer);function W0(e,t){const s=t?.zodInstance??Oe,i=t?.coerce??{};let l;return nE(e)&&(l=e.enumValues.length?s.enum(e.enumValues):s.string()),l||($t(e,["PgGeometry","PgPointTuple"])?l=s.tuple([s.number(),s.number()]):$t(e,["PgGeometryObject","PgPointObject"])?l=s.object({x:s.number(),y:s.number()}):$t(e,["PgHalfVector","PgVector"])?(l=s.array(s.number()),l=e.dimensions?l.length(e.dimensions):l):$t(e,["PgLine"])?l=s.tuple([s.number(),s.number(),s.number()]):$t(e,["PgLineABC"])?l=s.object({a:s.number(),b:s.number(),c:s.number()}):$t(e,["PgArray"])?(l=s.array(W0(e.baseColumn,s)),l=e.size?l.length(e.size):l):e.dataType==="array"?l=s.array(s.any()):e.dataType==="number"?l=iE(e,s,i):e.dataType==="bigint"?l=oE(e,s,i):e.dataType==="boolean"?l=i===!0||i.boolean?s.coerce.boolean():s.boolean():e.dataType==="date"?l=i===!0||i.date?s.coerce.date():s.date():e.dataType==="string"?l=lE(e,s,i):e.dataType==="json"?l=sE:e.dataType==="custom"?l=s.any():e.dataType==="buffer"&&(l=aE)),l||(l=s.any()),l}function iE(e,t,s){let i=e.getSQLType().includes("unsigned"),l,c,u=!1;$t(e,["MySqlTinyInt","SingleStoreTinyInt"])?(l=i?0:Rt.INT8_MIN,c=i?Rt.INT8_UNSIGNED_MAX:Rt.INT8_MAX,u=!0):$t(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(l=i?0:Rt.INT16_MIN,c=i?Rt.INT16_UNSIGNED_MAX:Rt.INT16_MAX,u=!0):$t(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(l=i?0:Rt.INT24_MIN,c=i?Rt.INT24_UNSIGNED_MAX:Rt.INT24_MAX,u=$t(e,["MySqlMediumInt","SingleStoreMediumInt"])):$t(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(l=i?0:Rt.INT32_MIN,c=i?Rt.INT32_UNSIGNED_MAX:Rt.INT32_MAX,u=!0):$t(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(l=i?0:Rt.INT48_MIN,c=i?Rt.INT48_UNSIGNED_MAX:Rt.INT48_MAX):$t(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(i=i||$t(e,["MySqlSerial","SingleStoreSerial"]),l=i?0:Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,u=!0):$t(e,["MySqlYear","SingleStoreYear"])?(l=1901,c=2155,u=!0):(l=Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER);let f=s===!0||s?.number?t.coerce.number():t.number();return f=f.min(l).max(c),u?f.int():f}function oE(e,t,s){const i=e.getSQLType().includes("unsigned"),l=i?0n:Rt.INT64_MIN,c=i?Rt.INT64_UNSIGNED_MAX:Rt.INT64_MAX;return(s===!0||s?.bigint?t.coerce.bigint():t.bigint()).min(l).max(c)}function lE(e,t,s){if($t(e,["PgUUID"]))return t.string().uuid();let i,l,c=!1;$t(e,["PgVarchar","SQLiteText"])?i=e.length:$t(e,["MySqlVarChar","SingleStoreVarChar"])?i=e.length??Rt.INT16_UNSIGNED_MAX:$t(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?i=Rt.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?i=Rt.INT24_UNSIGNED_MAX:e.textType==="text"?i=Rt.INT16_UNSIGNED_MAX:i=Rt.INT8_UNSIGNED_MAX),$t(e,["PgChar","MySqlChar","SingleStoreChar"])&&(i=e.length,c=!0),$t(e,["PgBinaryVector"])&&(l=/^[01]+$/,i=e.dimensions);let u=s===!0||s?.string?t.coerce.string():t.string();return u=l?u.regex(l):u,i&&c?u.length(i):i?u.max(i):u}function Q0(e){return E0(e)?G2(e):K2(e)}function H0(e,t,s,i){const l={};for(const[c,u]of Object.entries(e)){if(!dn(u,Uo)&&!dn(u,Ot)&&!dn(u,Ot.Aliased)&&typeof u=="object"){const b=E0(u)||H2(u)?Q0(u):u;l[c]=H0(b,t[c]??{},s,i);continue}const f=t[c];if(f!==void 0&&typeof f!="function"){l[c]=f;continue}const h=dn(u,Uo)?u:void 0,p=h?W0(h,i):Oe.any(),v=typeof f=="function"?f(p):p;s.never(h)||(l[c]=v,h&&(s.nullable(h)&&(l[c]=l[c].nullable()),s.optional(h)&&(l[c]=l[c].optional())))}return Oe.object(l)}const cE={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},rn=(e,t)=>{const s=Q0(e);return H0(s,{},cE)},dE=["normal","super_rare","x_tier","umr","ssumr","divine","journeyman","expert","master","grandmaster","legend","elite"],uE=["weapon","armor","accessory"],fE=Oe.object({Str:Oe.number().optional(),Int:Oe.number().optional(),Spd:Oe.number().optional(),Luck:Oe.number().optional(),Pot:Oe.number().optional()});Oe.object({id:Oe.string(),name:Oe.string(),type:Oe.enum(uE),stats:fE,special:Oe.string().optional(),price:Oe.number(),tier:Oe.enum(dE)});const Cm=["Novice","Apprentice","Journeyman","Expert","Master","Grandmaster","Legend","Elite"];Oe.object({Str:Oe.number().default(10),Spd:Oe.number().default(10),Int:Oe.number().default(10),Luck:Oe.number().default(10),Pot:Oe.number().default(0)});Oe.object({weapon:Oe.string().nullable(),armor:Oe.string().nullable(),accessory1:Oe.string().nullable(),accessory2:Oe.string().nullable()});const qt=Gt("accounts",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),username:ft("username").notNull().unique(),password:ft("password").notNull(),role:ft("role").notNull().$type(),gold:$s("gold",{mode:"number"}).notNull().default(1e4),rubies:$s("rubies",{mode:"number"}).notNull().default(0),soulShards:$s("soul_shards",{mode:"number"}).notNull().default(0),focusedShards:$s("focused_shards",{mode:"number"}).notNull().default(0),trainingPoints:$s("training_points",{mode:"number"}).notNull().default(0),petExp:$s("pet_exp",{mode:"number"}).notNull().default(0),runes:$s("runes",{mode:"number"}).notNull().default(0),pets:sr("pets").notNull().default([]).$type(),rank:ft("rank").notNull().default("Novice").$type(),wins:wn("wins").notNull().default(0),losses:wn("losses").notNull().default(0),stats:sr("stats").notNull().default({Str:10,Spd:10,Int:10,Luck:10,Pot:0}).$type(),equipped:sr("equipped").notNull().default({weapon:null,armor:null,accessory1:null,accessory2:null}).$type(),npcFloor:wn("npc_floor").notNull().default(1),npcLevel:wn("npc_level").notNull().default(1),equippedPetId:De("equipped_pet_id"),lastActive:ct("last_active").defaultNow()}),mE=Gt("inventory_items",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),accountId:De("account_id").notNull().references(()=>qt.id),itemId:ft("item_id").notNull(),stats:sr("stats").notNull().default({}).$type(),purchasedAt:ct("purchased_at").notNull().defaultNow()});rn(qt).omit({id:!0});rn(mE).omit({id:!0});const G0=Gt("events",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),name:ft("name").notNull(),description:ft("description").notNull(),startDate:ct("start_date").notNull(),endDate:ct("end_date"),isMandatory:Si("is_mandatory").notNull().default(!1),createdAt:ct("created_at").notNull().defaultNow(),createdBy:De("created_by").notNull().references(()=>qt.id)}),pE=Gt("event_registrations",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),eventId:De("event_id").notNull().references(()=>G0.id,{onDelete:"cascade"}),accountId:De("account_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),registeredAt:ct("registered_at").notNull().defaultNow(),isAutoRegistered:Si("is_auto_registered").notNull().default(!1)});rn(G0).omit({id:!0,createdAt:!0});rn(pE).omit({id:!0,registeredAt:!0});const Bc=["egg","baby","teen","adult","legend","mythic"],qf=["Fire","Water","Earth","Air","Lightning","Ice","Nature","Dark","Light","Arcana","Chrono","Plasma","Void","Aether","Hybrid","Elemental Convergence","Time","Space","Soul","Mind"];Oe.object({Str:Oe.number().default(1),Spd:Oe.number().default(1),Luck:Oe.number().default(1),ElementalPower:Oe.number().default(1)});const hE={egg:{maxExp:100,evolutionCost:1e4,statMultiplier:1},baby:{maxExp:500,evolutionCost:5e4,statMultiplier:2},teen:{maxExp:2500,evolutionCost:25e4,statMultiplier:4},adult:{maxExp:1e4,evolutionCost:1e6,statMultiplier:8},legend:{maxExp:1e5,evolutionCost:1e8,statMultiplier:16},mythic:{maxExp:null,evolutionCost:null,statMultiplier:32}},gE=Gt("pets",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),accountId:De("account_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),name:ft("name").notNull(),element:ft("element").notNull().$type().default("Fire"),elements:ft("elements").array().$type().default(_t`ARRAY['Fire']::text[]`),tier:ft("tier").notNull().$type().default("egg"),exp:wn("exp").notNull().default(0),stats:sr("stats").notNull().default({Str:1,Spd:1,Luck:1,ElementalPower:1}).$type(),createdAt:ct("created_at").notNull().defaultNow()});rn(gE).omit({id:!0,createdAt:!0});const xE=Gt("challenges",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),challengerId:De("challenger_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),challengedId:De("challenged_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),status:ft("status").notNull().$type().default("pending"),winnerId:De("winner_id").references(()=>qt.id),createdAt:ct("created_at").notNull().defaultNow(),acceptedAt:ct("accepted_at"),completedAt:ct("completed_at")});rn(xE).omit({id:!0,createdAt:!0});Gt("leaderboard_cache",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),type:ft("type").notNull(),data:sr("data").notNull().$type(),refreshedAt:ct("refreshed_at").notNull().defaultNow()});const K0=Gt("quests",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),title:ft("title").notNull(),description:ft("description").notNull(),rewards:sr("rewards").notNull().$type(),status:ft("status").notNull().$type().default("active"),createdBy:De("created_by").notNull().references(()=>qt.id),createdAt:ct("created_at").notNull().defaultNow(),expiresAt:ct("expires_at")}),vE=Gt("quest_assignments",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),questId:De("quest_id").notNull().references(()=>K0.id,{onDelete:"cascade"}),accountId:De("account_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),status:ft("status").notNull().$type().default("pending"),acceptedAt:ct("accepted_at"),completedAt:ct("completed_at"),rewardedAt:ct("rewarded_at")});rn(K0).omit({id:!0,createdAt:!0});rn(vE).omit({id:!0});Oe.object({gold:Oe.number().default(0),rubies:Oe.number().default(0),soulShards:Oe.number().default(0),focusedShards:Oe.number().default(0),runes:Oe.number().default(0),trainingPoints:Oe.number().default(0)});const sl=Gt("guilds",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),name:ft("name").notNull().unique(),masterId:De("master_id").notNull().references(()=>qt.id),bank:sr("bank").notNull().default({gold:0,rubies:0,soulShards:0,focusedShards:0,runes:0,trainingPoints:0}).$type(),dungeonFloor:wn("dungeon_floor").notNull().default(1),dungeonLevel:wn("dungeon_level").notNull().default(1),wins:wn("wins").notNull().default(0),level:wn("level").notNull().default(1),createdAt:ct("created_at").notNull().defaultNow()}),yE=Gt("guild_members",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),guildId:De("guild_id").notNull().references(()=>sl.id,{onDelete:"cascade"}),accountId:De("account_id").notNull().references(()=>qt.id,{onDelete:"cascade"}).unique(),joinedAt:ct("joined_at").notNull().defaultNow()}),wE=Gt("guild_invites",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),guildId:De("guild_id").notNull().references(()=>sl.id,{onDelete:"cascade"}),accountId:De("account_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),invitedBy:De("invited_by").notNull().references(()=>qt.id),createdAt:ct("created_at").notNull().defaultNow()});rn(sl).omit({id:!0,createdAt:!0,bank:!0,dungeonFloor:!0,dungeonLevel:!0});rn(yE).omit({id:!0,joinedAt:!0});rn(wE).omit({id:!0,createdAt:!0});const Z0=Gt("skill_auctions",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),skillId:ft("skill_id").notNull(),status:ft("status").notNull().default("queued"),startAt:ct("start_at"),endAt:ct("end_at"),winningBidId:De("winning_bid_id"),winnerId:De("winner_id"),createdAt:ct("created_at").notNull().defaultNow()}),bE=Gt("skill_bids",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),auctionId:De("auction_id").notNull().references(()=>Z0.id,{onDelete:"cascade"}),bidderId:De("bidder_id").notNull().references(()=>qt.id),amount:wn("amount").notNull(),createdAt:ct("created_at").notNull().defaultNow()}),jE=Gt("player_skills",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),accountId:De("account_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),skillId:ft("skill_id").notNull(),isEquipped:Si("is_equipped").notNull().default(!1),acquiredAt:ct("acquired_at").notNull().defaultNow(),source:ft("source").notNull().default("auction")}),NE=Gt("activity_feed",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),type:ft("type").notNull(),accountId:De("account_id").references(()=>qt.id),accountName:ft("account_name"),message:ft("message").notNull(),metadata:sr("metadata"),createdAt:ct("created_at").notNull().defaultNow()});rn(Z0).omit({id:!0,createdAt:!0});rn(bE).omit({id:!0,createdAt:!0});rn(jE).omit({id:!0,acquiredAt:!0});rn(NE).omit({id:!0,createdAt:!0});const SE=Gt("guild_battles",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),challengerGuildId:De("challenger_guild_id").notNull().references(()=>sl.id,{onDelete:"cascade"}),challengedGuildId:De("challenged_guild_id").notNull().references(()=>sl.id,{onDelete:"cascade"}),status:ft("status").notNull().$type().default("pending"),challengerFighters:sr("challenger_fighters").notNull().default([]).$type(),challengedFighters:sr("challenged_fighters").notNull().default([]).$type(),currentRound:wn("current_round").notNull().default(0),challengerScore:wn("challenger_score").notNull().default(0),challengedScore:wn("challenged_score").notNull().default(0),challengerCurrentIndex:wn("challenger_current_index").notNull().default(0),challengedCurrentIndex:wn("challenged_current_index").notNull().default(0),winnerId:De("winner_id"),createdAt:ct("created_at").notNull().defaultNow(),completedAt:ct("completed_at")});rn(SE).omit({id:!0,createdAt:!0});const Y0=Gt("trades",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),initiatorId:De("initiator_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),recipientId:De("recipient_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),status:ft("status").notNull().$type().default("pending"),initiatorAccepted:Si("initiator_accepted").notNull().default(!1),recipientAccepted:Si("recipient_accepted").notNull().default(!1),createdAt:ct("created_at").notNull().defaultNow(),completedAt:ct("completed_at")}),kE=Gt("trade_items",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),tradeId:De("trade_id").notNull().references(()=>Y0.id,{onDelete:"cascade"}),ownerId:De("owner_id").notNull().references(()=>qt.id),type:ft("type").notNull().$type(),refId:De("ref_id").notNull()});rn(Y0).omit({id:!0,createdAt:!0});rn(kE).omit({id:!0});const CE=[{id:"basic_treat",name:"Basic Treat",exp:10,price:100},{id:"tasty_snack",name:"Tasty Snack",exp:50,price:400},{id:"gourmet_meal",name:"Gourmet Meal",exp:200,price:1500},{id:"royal_feast",name:"Royal Feast",exp:1e3,price:6e3},{id:"mystic_elixir",name:"Mystic Elixir",exp:5e3,price:25e3},{id:"dragon_essence",name:"Dragon Essence",exp:25e3,price:1e5}],_E=[{name:"Arcane Staff",type:"weapon",stats:{Int:20},price:300},{name:"Thunder Hammer",type:"weapon",stats:{Str:12,Luck:5},price:280},{name:"Shadow Cloak",type:"armor",stats:{Spd:10,Luck:5},price:300},{name:"Mystic Robes",type:"armor",stats:{Int:20},price:300},{name:"Guardian Plate",type:"armor",stats:{Str:15},price:320},{name:"Frost Dagger",type:"weapon",stats:{Spd:15},special:"Slow",price:330},{name:"Ember Wand",type:"weapon",stats:{Int:18},special:"Fire Damage",price:340},{name:"Lucky Ring",type:"accessory",stats:{Luck:20},price:345},{name:"Flame Cloak",type:"armor",stats:{Str:15},special:"Fire Resist",price:350},{name:"Swift Helm",type:"armor",stats:{Spd:12,Int:5},price:355},{name:"Thunder Bow",type:"weapon",stats:{Spd:18},special:"Lightning Damage",price:360},{name:"Arcane Amulet",type:"accessory",stats:{Int:20},special:"Mana Regen",price:365},{name:"Shadow Saber",type:"weapon",stats:{Str:20},special:"Stealth",price:370},{name:"Frost Robes",type:"armor",stats:{Int:18},special:"Freeze",price:365},{name:"Lucky Pendant",type:"accessory",stats:{Luck:22,Str:6},price:370}],PE=[{name:"Elemental Vest",type:"armor",stats:{Str:10,Spd:10,Int:10,Luck:10},price:400},{name:"SR Ring of Fortune",type:"accessory",stats:{Luck:20},price:420},{name:"Frost Bow",type:"weapon",stats:{Spd:10,Luck:10},price:430},{name:"Ember Robes",type:"armor",stats:{Int:18},special:"Fire Damage",price:440},{name:"Shadow Fang",type:"weapon",stats:{Str:20},special:"Stealth",price:445},{name:"Arcane Sabre",type:"weapon",stats:{Str:22},special:"Mana Regen",price:450},{name:"Lightning Dagger",type:"weapon",stats:{Spd:18},special:"Lightning Damage",price:455},{name:"SR Ring of Insight",type:"accessory",stats:{Int:22,Luck:10},price:460},{name:"SR Swift Boots",type:"armor",stats:{Spd:20,Str:12},price:465},{name:"SR Ember Staff",type:"weapon",stats:{Int:25},special:"Fire AoE",price:470},{name:"SR Frost Fang",type:"weapon",stats:{Str:25},special:"Ice AoE",price:470},{name:"SR Lucky Pendant",type:"accessory",stats:{Luck:25,Str:15},price:475},{name:"Shadow Blade",type:"weapon",stats:{Str:27},special:"Stealth",price:480},{name:"SR Arcane Mantle",type:"armor",stats:{Int:27},special:"Mana Regen",price:480},{name:"Ring of Valor",type:"accessory",stats:{Luck:28,Int:18},price:490}],EE=[{name:"Titan's Hammer",type:"weapon",stats:{Str:40,Luck:20},price:1e3},{name:"Infinity Bow",type:"weapon",stats:{Spd:40,Luck:20},price:1e3},{name:"Sage's Staff",type:"weapon",stats:{Int:40},price:1e3},{name:"Omniguard Armor",type:"armor",stats:{Str:35,Spd:35,Int:35,Luck:35},price:1050},{name:"Dragonfang Blade",type:"weapon",stats:{Str:45,Spd:25},price:1100},{name:"Archmage Robes",type:"armor",stats:{Int:45,Luck:25},price:1100},{name:"Shadow Eclipse Cloak",type:"armor",stats:{Spd:42,Luck:30},price:1120},{name:"Phoenix Saber",type:"weapon",stats:{Str:50},special:"Fire Damage",price:1150},{name:"Frostbite Bow",type:"weapon",stats:{Spd:48},special:"Ice Damage",price:1150},{name:"Orb of Wisdom",type:"accessory",stats:{Int:45,Luck:20},price:1130},{name:"Titan Gauntlets",type:"armor",stats:{Str:40,Spd:20},price:1050},{name:"Lightning Hammer",type:"weapon",stats:{Str:48},special:"Lightning AoE",price:1150},{name:"Mystic Staff",type:"weapon",stats:{Int:50},special:"Mana Regen",price:1150},{name:"Ring of Omniscience",type:"accessory",stats:{Luck:45},price:1150}],TE=[{name:"Oblivion Fang",type:"weapon",stats:{Str:80,Luck:50},price:1e4},{name:"Eternal Eclipse Blade",type:"weapon",stats:{Str:85,Spd:45},price:10500},{name:"Archmage's Eternal Robe",type:"armor",stats:{Int:85,Luck:50},price:10500},{name:"Shadow Eclipse Mantle",type:"armor",stats:{Spd:80,Luck:50},price:10200},{name:"Phoenix Soul Saber",type:"weapon",stats:{Str:90},special:"Fire AoE 40",price:11e3},{name:"Frost Reaper Bow",type:"weapon",stats:{Spd:88},special:"Ice Damage 45",price:11e3},{name:"Orb of Divine Insight",type:"accessory",stats:{Int:85,Luck:45},price:10700},{name:"Titan's Gauntlets",type:"armor",stats:{Str:80,Spd:50},price:10200},{name:"Lightning Devastator",type:"weapon",stats:{Str:90},special:"Lightning AoE",price:11e3},{name:"Mystic Grand Staff",type:"weapon",stats:{Int:90},special:"Mana Regen",price:11e3},{name:"Ring of Eternal Omniscience",type:"accessory",stats:{Luck:90},price:11e3},{name:"Pendant of Absolute Luck",type:"accessory",stats:{Luck:90,Str:45},price:11200}],IE=[{name:"Godslayer Blade",type:"weapon",stats:{Str:150,Luck:100},price:1e5},{name:"Celestial Bow",type:"weapon",stats:{Spd:150,Luck:100},price:1e5},{name:"Divine Staff",type:"weapon",stats:{Int:150},special:"Divine AoE",price:1e5},{name:"Omnipotent Armor",type:"armor",stats:{Str:100,Spd:100,Int:100,Luck:100},price:12e4},{name:"Crown of the Gods",type:"accessory",stats:{Int:120,Luck:80},price:95e3},{name:"Eternal Flame Saber",type:"weapon",stats:{Str:160},special:"Inferno",price:11e4},{name:"Frostfall Reaper",type:"weapon",stats:{Spd:155},special:"Absolute Zero",price:11e4},{name:"Amulet of Infinity",type:"accessory",stats:{Luck:150,Str:80},price:115e3},{name:"World Ender",type:"weapon",stats:{Str:200},special:"Apocalypse",price:15e4},{name:"Ethereal Mantle",type:"armor",stats:{Int:140,Spd:60},special:"Phase Shift",price:125e3}],RE=[{name:"Primordial Void Blade",type:"weapon",stats:{Str:300,Luck:200},special:"Reality Rend",price:5e5},{name:"Astral Annihilator Bow",type:"weapon",stats:{Spd:300,Luck:200},special:"Cosmic Arrow",price:5e5},{name:"Staff of Infinite Cosmos",type:"weapon",stats:{Int:350},special:"Dimensional Rift",price:55e4},{name:"Armor of the First Light",type:"armor",stats:{Str:200,Spd:200,Int:200,Luck:200},special:"Divine Shield",price:65e4},{name:"Crown of Eternal Dominion",type:"accessory",stats:{Int:250,Luck:180},special:"Mind Control",price:48e4},{name:"Blade of Shattered Realities",type:"weapon",stats:{Str:350,Spd:150},special:"Dimension Slash",price:58e4},{name:"Frostfire Extinction",type:"weapon",stats:{Spd:320,Int:100},special:"Elemental Oblivion",price:56e4},{name:"Ring of Omnipotence",type:"accessory",stats:{Luck:300,Str:150},special:"Fate Manipulation",price:6e5},{name:"The Oblivion Hammer",type:"weapon",stats:{Str:400},special:"Extinction Event",price:75e4},{name:"Vestments of Creation",type:"armor",stats:{Int:280,Spd:120},special:"Genesis Barrier",price:62e4},{name:"Pendant of Primordial Power",type:"accessory",stats:{Str:200,Int:200,Luck:100},special:"Power Surge",price:55e4},{name:"Gauntlets of the Divine",type:"armor",stats:{Str:250,Spd:180},special:"Crushing Divinity",price:58e4}],AE=[{name:"Journeyman's Warblade",type:"weapon",stats:{Str:500,Luck:300},special:"Veteran Strike",price:15e5},{name:"Wanderer's Longbow",type:"weapon",stats:{Spd:500,Luck:300},special:"Precision Shot",price:15e5},{name:"Staff of Learned Wisdom",type:"weapon",stats:{Int:550},special:"Knowledge Burst",price:16e5},{name:"Traveler's Plate",type:"armor",stats:{Str:350,Spd:350,Int:200,Luck:200},special:"Road Ward",price:18e5},{name:"Medallion of Experience",type:"accessory",stats:{Int:400,Luck:280},special:"Wisdom Aura",price:14e5},{name:"Blade of Many Battles",type:"weapon",stats:{Str:550,Spd:200},special:"War Memory",price:17e5},{name:"Cloak of the Traveler",type:"armor",stats:{Spd:450,Luck:300},special:"Swift Passage",price:155e4},{name:"Ring of Earned Glory",type:"accessory",stats:{Luck:450,Str:200},special:"Glory Surge",price:165e4}],LE=[{name:"Expert's Decimator",type:"weapon",stats:{Str:800,Luck:500},special:"Mastered Blow",price:5e6},{name:"Precision Destroyer Bow",type:"weapon",stats:{Spd:800,Luck:500},special:"Perfect Aim",price:5e6},{name:"Arcane Mastery Staff",type:"weapon",stats:{Int:900},special:"Spell Mastery",price:55e5},{name:"Expert Battlewear",type:"armor",stats:{Str:550,Spd:550,Int:400,Luck:400},special:"Combat Mastery",price:6e6},{name:"Amulet of Expertise",type:"accessory",stats:{Int:650,Luck:450},special:"Expert Knowledge",price:48e5},{name:"Blade of a Thousand Cuts",type:"weapon",stats:{Str:850,Spd:400},special:"Flurry Master",price:58e5},{name:"Expert's Aegis",type:"armor",stats:{Spd:700,Int:500},special:"Perfect Defense",price:52e5},{name:"Ring of True Skill",type:"accessory",stats:{Luck:700,Str:350},special:"Skill Enhancement",price:55e5}],DE=[{name:"Master's Worldbreaker",type:"weapon",stats:{Str:1200,Luck:800},special:"Continental Slash",price:15e6},{name:"Bow of the Grandmaster",type:"weapon",stats:{Spd:1200,Luck:800},special:"Instant Kill Shot",price:15e6},{name:"Staff of Supreme Sorcery",type:"weapon",stats:{Int:1400},special:"Ultimate Arcana",price:16e6},{name:"Master's Transcendent Armor",type:"armor",stats:{Str:900,Spd:900,Int:700,Luck:700},special:"Absolute Defense",price:18e6},{name:"Crown of Mastery",type:"accessory",stats:{Int:1e3,Luck:700},special:"Mind Dominion",price:14e6},{name:"Blade of Utter Devastation",type:"weapon",stats:{Str:1350,Spd:600},special:"Annihilate",price:17e6},{name:"Master's Shroud",type:"armor",stats:{Spd:1100,Int:800},special:"Shadow Master",price:155e5},{name:"Ring of Absolute Power",type:"accessory",stats:{Luck:1100,Str:550},special:"Power Unlimited",price:16e6}],ME=[{name:"Grandmaster's Galaxy Edge",type:"weapon",stats:{Str:1800,Luck:1200},special:"Cosmic Cleave",price:5e7},{name:"Bow of Stellar Destruction",type:"weapon",stats:{Spd:1800,Luck:1200},special:"Star Piercer",price:5e7},{name:"Staff of Universal Law",type:"weapon",stats:{Int:2200},special:"Reality Warp",price:55e6},{name:"Grandmaster's Cosmic Plate",type:"armor",stats:{Str:1400,Spd:1400,Int:1100,Luck:1100},special:"Cosmic Shield",price:6e7},{name:"Pendant of the Cosmos",type:"accessory",stats:{Int:1600,Luck:1100},special:"Universal Wisdom",price:48e6},{name:"Blade of Infinite Stars",type:"weapon",stats:{Str:2e3,Spd:1e3},special:"Supernova Strike",price:58e6},{name:"Grandmaster's Void Cloak",type:"armor",stats:{Spd:1700,Int:1300},special:"Void Walk",price:52e6},{name:"Ring of Cosmic Authority",type:"accessory",stats:{Luck:1700,Str:900},special:"Cosmic Command",price:54e6}],OE=[{name:"Legendary Realm Splitter",type:"weapon",stats:{Str:2800,Luck:1800},special:"Dimension Breaker",price:15e7},{name:"Bow of Mythic Legends",type:"weapon",stats:{Spd:2800,Luck:1800},special:"Legend's Arrow",price:15e7},{name:"Staff of Eternal Myth",type:"weapon",stats:{Int:3400},special:"Mythic Storm",price:165e6},{name:"Legendary Hero's Armor",type:"armor",stats:{Str:2200,Spd:2200,Int:1700,Luck:1700},special:"Heroic Aura",price:18e7},{name:"Heart of Legends",type:"accessory",stats:{Int:2500,Luck:1700},special:"Legendary Will",price:14e7},{name:"Blade of Ancient Heroes",type:"weapon",stats:{Str:3100,Spd:1500},special:"Hero's Legacy",price:175e6},{name:"Legendary Shadowweave",type:"armor",stats:{Spd:2600,Int:2e3},special:"Legend's Cloak",price:158e6},{name:"Ring of Timeless Glory",type:"accessory",stats:{Luck:2600,Str:1400},special:"Eternal Fame",price:162e6}],FE=[{name:"Elite Omega Destroyer",type:"weapon",stats:{Str:5e3,Luck:3e3},special:"Omega Strike",price:5e8},{name:"Bow of Ultimate Annihilation",type:"weapon",stats:{Spd:5e3,Luck:3e3},special:"Total Erasure",price:5e8},{name:"Staff of Absolute Infinity",type:"weapon",stats:{Int:6e3},special:"Infinity Cascade",price:55e7},{name:"Elite Transcendence Armor",type:"armor",stats:{Str:4e3,Spd:4e3,Int:3e3,Luck:3e3},special:"Transcendent Shield",price:6e8},{name:"Crown of the Elite",type:"accessory",stats:{Int:4500,Luck:3e3},special:"Elite Dominion",price:48e7},{name:"Blade of Final Reckoning",type:"weapon",stats:{Str:5500,Spd:2800},special:"Armageddon",price:58e7},{name:"Elite Voidweave Mantle",type:"armor",stats:{Spd:4700,Int:3500},special:"Void Mastery",price:52e7},{name:"Ring of Ultimate Supremacy",type:"accessory",stats:{Luck:4700,Str:2500},special:"Supreme Authority",price:54e7}];function er(e,t){return e.map((s,i)=>({...s,id:`${t}-${i}`,tier:t}))}const Na=[...er(_E,"normal"),...er(PE,"super_rare"),...er(EE,"x_tier"),...er(TE,"umr"),...er(IE,"ssumr"),...er(RE,"divine"),...er(AE,"journeyman"),...er(LE,"expert"),...er(DE,"master"),...er(ME,"grandmaster"),...er(OE,"legend"),...er(FE,"elite")];function Do(e){return Na.find(t=>t.id===e)}const ip={normal:"Normal / Rare",super_rare:"Super Rare",x_tier:"X-Tier",umr:"Ultra Mythic Rare",ssumr:"SSUMR",divine:"Divine",journeyman:"Journeyman",expert:"Expert",master:"Master",grandmaster:"Grandmaster",legend:"Legend",elite:"Elite"},zE=wd("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function le({className:e,variant:t,...s}){return n.jsx("div",{className:we(zE({variant:t}),e),...s})}const rv={normal:"border-tier-normal/50 hover:border-tier-normal",super_rare:"border-tier-super-rare/50 hover:border-tier-super-rare",x_tier:"border-tier-x/50 hover:border-tier-x",umr:"border-tier-umr/50 hover:border-tier-umr",ssumr:"border-tier-ssumr/50 hover:border-tier-ssumr",divine:"border-tier-divine/50 hover:border-tier-divine",journeyman:"border-tier-journeyman/50 hover:border-tier-journeyman",expert:"border-tier-expert/50 hover:border-tier-expert",master:"border-tier-master/50 hover:border-tier-master",grandmaster:"border-tier-grandmaster/50 hover:border-tier-grandmaster",legend:"border-tier-legend/50 hover:border-tier-legend",elite:"border-tier-elite/50 hover:border-tier-elite"},$E={normal:"bg-tier-normal/20 text-tier-normal border-tier-normal/30",super_rare:"bg-tier-super-rare/20 text-tier-super-rare border-tier-super-rare/30",x_tier:"bg-tier-x/20 text-tier-x border-tier-x/30",umr:"bg-tier-umr/20 text-tier-umr border-tier-umr/30",ssumr:"bg-tier-ssumr/20 text-tier-ssumr border-tier-ssumr/30",divine:"bg-tier-divine/20 text-tier-divine border-tier-divine/30",journeyman:"bg-tier-journeyman/20 text-tier-journeyman border-tier-journeyman/30",expert:"bg-tier-expert/20 text-tier-expert border-tier-expert/30",master:"bg-tier-master/20 text-tier-master border-tier-master/30",grandmaster:"bg-tier-grandmaster/20 text-tier-grandmaster border-tier-grandmaster/30",legend:"bg-tier-legend/20 text-tier-legend border-tier-legend/30",elite:"bg-tier-elite/20 text-tier-elite border-tier-elite/30"},BE={normal:"hover:shadow-[0_0_20px_rgba(52,211,153,0.2)]",super_rare:"hover:shadow-[0_0_20px_rgba(167,139,250,0.2)]",x_tier:"hover:shadow-[0_0_20px_rgba(234,179,8,0.3)]",umr:"hover:shadow-[0_0_20px_rgba(239,68,68,0.3)]",ssumr:"hover:shadow-[0_0_25px_rgba(236,72,153,0.4)]",divine:"hover:shadow-[0_0_30px_rgba(56,189,248,0.5)]",journeyman:"hover:shadow-[0_0_25px_rgba(245,158,11,0.4)]",expert:"hover:shadow-[0_0_28px_rgba(192,132,252,0.45)]",master:"hover:shadow-[0_0_30px_rgba(249,115,22,0.5)]",grandmaster:"hover:shadow-[0_0_32px_rgba(168,85,247,0.55)]",legend:"hover:shadow-[0_0_35px_rgba(250,204,21,0.6)]",elite:"hover:shadow-[0_0_40px_rgba(232,121,249,0.7)]"};function VE({type:e}){const t="w-10 h-10";switch(e){case"weapon":return n.jsx(Us,{className:we(t,"text-stat-str")});case"armor":return n.jsx(tn,{className:we(t,"text-stat-int")});case"accessory":return n.jsx(qs,{className:we(t,"text-stat-luck")})}}function qE({statName:e,value:t}){const i={Str:{icon:Ks,color:"text-stat-str"},Int:{icon:Ey,color:"text-stat-int"},Spd:{icon:yk,color:"text-stat-spd"},Luck:{icon:kt,color:"text-stat-luck"},Pot:{icon:kt,color:"text-tier-super-rare"}}[e]||{icon:Ks,color:"text-muted-foreground"},l=i.icon;return n.jsxs("div",{className:"flex items-center gap-1.5","data-testid":`stat-${e.toLowerCase()}`,children:[n.jsx(l,{className:we("w-3.5 h-3.5",i.color)}),n.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:e}),n.jsxs("span",{className:we("text-xs font-mono font-semibold",i.color),children:["+",t]})]})}function X0({item:e,onBuy:t,onSelect:s,onSell:i,showBuyButton:l=!0,showSellButton:c=!1,isOwned:u=!1,disabled:f=!1,inventoryId:h}){const p=()=>{s&&s(e)};return n.jsxs(Te,{className:we("border-2 transition-all duration-300 cursor-pointer",rv[e.tier],BE[e.tier],u&&"ring-2 ring-tier-normal/50",f&&"opacity-50 cursor-not-allowed"),onClick:p,"data-testid":`card-item-${e.id}`,children:[n.jsxs(Le,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:we("p-2 rounded-md bg-secondary/50",rv[e.tier].replace("border","border-l-2")),children:n.jsx(VE,{type:e.type})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-serif font-semibold text-sm truncate","data-testid":`text-item-name-${e.id}`,children:e.name}),n.jsx(le,{variant:"outline",size:"sm",className:we("mt-1",$E[e.tier]),"data-testid":`badge-tier-${e.id}`,children:ip[e.tier]})]})]}),n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Object.entries(e.stats).map(([v,b])=>b?n.jsx(qE,{statName:v,value:b},v):null)}),e.special&&n.jsx("div",{className:"mt-2",children:n.jsx(le,{variant:"secondary",size:"sm",className:"text-xs",children:e.special})})]}),n.jsxs(Xc,{className:"px-4 pb-4 pt-0 flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1","data-testid":`text-price-${e.id}`,children:[n.jsx(rr,{className:"w-4 h-4 text-primary"}),n.jsx("span",{className:"font-mono font-bold text-primary",children:e.price.toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[c&&i&&n.jsxs(T,{size:"sm",variant:"outline",className:"text-green-600 border-green-600/50 hover:bg-green-600/10",onClick:v=>{v.stopPropagation(),i(e)},"data-testid":`button-sell-${e.id}`,children:[n.jsx(um,{className:"w-3 h-3 mr-1"}),"Sell"]}),l&&t&&n.jsx(T,{size:"sm",onClick:v=>{v.stopPropagation(),t(e)},disabled:f||u,"data-testid":`button-buy-${e.id}`,children:u?"Owned":"Buy"})]})]})]})}function J0({items:e,onBuy:t,onSelect:s,onSell:i,showBuyButton:l=!0,showSellButton:c=!1,ownedItemIds:u=[],playerGold:f=1/0}){return e.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground","data-testid":"text-empty-grid",children:[n.jsx("p",{className:"font-serif text-lg",children:"No items found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your filters"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4","data-testid":"grid-items",children:e.map(h=>n.jsx(X0,{item:h,onBuy:t,onSelect:s,onSell:i,showBuyButton:l,showSellButton:c,isOwned:u.includes(h.id),disabled:h.price>f&&!u.includes(h.id)},h.id))})}const UE={all:"data-[state=on]:bg-secondary",normal:"data-[state=on]:bg-tier-normal/20 data-[state=on]:text-tier-normal data-[state=on]:border-tier-normal",super_rare:"data-[state=on]:bg-tier-super-rare/20 data-[state=on]:text-tier-super-rare data-[state=on]:border-tier-super-rare",x_tier:"data-[state=on]:bg-tier-x/20 data-[state=on]:text-tier-x data-[state=on]:border-tier-x",umr:"data-[state=on]:bg-tier-umr/20 data-[state=on]:text-tier-umr data-[state=on]:border-tier-umr",ssumr:"data-[state=on]:bg-tier-ssumr/20 data-[state=on]:text-tier-ssumr data-[state=on]:border-tier-ssumr",divine:"data-[state=on]:bg-tier-divine/20 data-[state=on]:text-tier-divine data-[state=on]:border-tier-divine",journeyman:"data-[state=on]:bg-tier-journeyman/20 data-[state=on]:text-tier-journeyman data-[state=on]:border-tier-journeyman",expert:"data-[state=on]:bg-tier-expert/20 data-[state=on]:text-tier-expert data-[state=on]:border-tier-expert",master:"data-[state=on]:bg-tier-master/20 data-[state=on]:text-tier-master data-[state=on]:border-tier-master",grandmaster:"data-[state=on]:bg-tier-grandmaster/20 data-[state=on]:text-tier-grandmaster data-[state=on]:border-tier-grandmaster",legend:"data-[state=on]:bg-tier-legend/20 data-[state=on]:text-tier-legend data-[state=on]:border-tier-legend",elite:"data-[state=on]:bg-tier-elite/20 data-[state=on]:text-tier-elite data-[state=on]:border-tier-elite"};function ew({selectedTier:e,onSelectTier:t,excludeTiers:s=[]}){const l=["all","normal","super_rare","x_tier","umr","ssumr","divine","journeyman","expert","master","grandmaster","legend","elite"].filter(c=>c==="all"||!s.includes(c));return n.jsx("div",{className:"flex flex-wrap gap-2","data-testid":"filter-tier",children:l.map(c=>{const u=e===c;return n.jsx(T,{variant:u?"secondary":"outline",size:"sm",onClick:()=>t(c),className:we("transition-all toggle-elevate",u&&"toggle-elevated",UE[c]),"data-state":u?"on":"off","data-testid":`button-filter-${c}`,children:c==="all"?"All Items":ip[c]},c)})})}const WE={all:{label:"All Types"},weapon:{label:"Weapons",icon:Us},armor:{label:"Armor",icon:tn},accessory:{label:"Accessories",icon:qs}};function QE({selectedType:e,onSelectType:t}){const s=["all","weapon","armor","accessory"];return n.jsx("div",{className:"flex flex-wrap gap-2","data-testid":"filter-type",children:s.map(i=>{const l=e===i,c=WE[i],u=c.icon;return n.jsxs(T,{variant:l?"secondary":"outline",size:"sm",onClick:()=>t(i),className:we("transition-all toggle-elevate",l&&"toggle-elevated"),"data-testid":`button-filter-type-${i}`,children:[u&&n.jsx(u,{className:"w-4 h-4 mr-1.5"}),c.label]},i)})})}function od({amount:e,className:t,size:s="md"}){const i={sm:"text-sm gap-1",md:"text-base gap-1.5",lg:"text-lg gap-2"},l={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return n.jsxs("div",{className:we("flex items-center font-mono font-bold text-primary",i[s],t),"data-testid":"text-gold-balance",children:[n.jsx(rr,{className:l[s]}),n.jsx("span",{children:e.toLocaleString()})]})}var Uf="focusScope.autoFocusOnMount",Wf="focusScope.autoFocusOnUnmount",sv={bubbles:!1,cancelable:!0},HE="FocusScope",op=x.forwardRef((e,t)=>{const{loop:s=!1,trapped:i=!1,onMountAutoFocus:l,onUnmountAutoFocus:c,...u}=e,[f,h]=x.useState(null),p=Bt(l),v=Bt(c),b=x.useRef(null),N=st(t,w=>h(w)),C=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(i){let w=function(L){if(C.paused||!f)return;const P=L.target;f.contains(P)?b.current=P:Bs(b.current,{select:!0})},S=function(L){if(C.paused||!f)return;const P=L.relatedTarget;P!==null&&(f.contains(P)||Bs(b.current,{select:!0}))},k=function(L){if(document.activeElement===document.body)for(const F of L)F.removedNodes.length>0&&Bs(f)};document.addEventListener("focusin",w),document.addEventListener("focusout",S);const I=new MutationObserver(k);return f&&I.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",S),I.disconnect()}}},[i,f,C.paused]),x.useEffect(()=>{if(f){iv.add(C);const w=document.activeElement;if(!f.contains(w)){const k=new CustomEvent(Uf,sv);f.addEventListener(Uf,p),f.dispatchEvent(k),k.defaultPrevented||(GE(JE(tw(f)),{select:!0}),document.activeElement===w&&Bs(f))}return()=>{f.removeEventListener(Uf,p),setTimeout(()=>{const k=new CustomEvent(Wf,sv);f.addEventListener(Wf,v),f.dispatchEvent(k),k.defaultPrevented||Bs(w??document.body,{select:!0}),f.removeEventListener(Wf,v),iv.remove(C)},0)}}},[f,p,v,C]);const _=x.useCallback(w=>{if(!s&&!i||C.paused)return;const S=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,k=document.activeElement;if(S&&k){const I=w.currentTarget,[L,P]=KE(I);L&&P?!w.shiftKey&&k===P?(w.preventDefault(),s&&Bs(L,{select:!0})):w.shiftKey&&k===L&&(w.preventDefault(),s&&Bs(P,{select:!0})):k===I&&w.preventDefault()}},[s,i,C.paused]);return n.jsx(qe.div,{tabIndex:-1,...u,ref:N,onKeyDown:_})});op.displayName=HE;function GE(e,{select:t=!1}={}){const s=document.activeElement;for(const i of e)if(Bs(i,{select:t}),document.activeElement!==s)return}function KE(e){const t=tw(e),s=av(t,e),i=av(t.reverse(),e);return[s,i]}function tw(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const l=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||l?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function av(e,t){for(const s of e)if(!ZE(s,{upTo:t}))return s}function ZE(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function YE(e){return e instanceof HTMLInputElement&&"select"in e}function Bs(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&YE(e)&&t&&e.select()}}var iv=XE();function XE(){let e=[];return{add(t){const s=e[0];t!==s&&s?.pause(),e=ov(e,t),e.unshift(t)},remove(t){e=ov(e,t),e[0]?.resume()}}}function ov(e,t){const s=[...e],i=s.indexOf(t);return i!==-1&&s.splice(i,1),s}function JE(e){return e.filter(t=>t.tagName!=="A")}var Qf=0;function nw(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??lv()),document.body.insertAdjacentElement("beforeend",e[1]??lv()),Qf++,()=>{Qf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Qf--}},[])}function lv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zr=function(){return zr=Object.assign||function(t){for(var s,i=1,l=arguments.length;i<l;i++){s=arguments[i];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(t[c]=s[c])}return t},zr.apply(this,arguments)};function rw(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(s[i[l]]=e[i[l]]);return s}function eT(e,t,s){if(s||arguments.length===2)for(var i=0,l=t.length,c;i<l;i++)(c||!(i in t))&&(c||(c=Array.prototype.slice.call(t,0,i)),c[i]=t[i]);return e.concat(c||Array.prototype.slice.call(t))}var Vc="right-scroll-bar-position",qc="width-before-scroll-bar",tT="with-scroll-bars-hidden",nT="--removed-body-scroll-bar-size";function Hf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function rT(e,t){var s=x.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(i){var l=s.value;l!==i&&(s.value=i,s.callback(i,l))}}}})[0];return s.callback=t,s.facade}var sT=typeof window<"u"?x.useLayoutEffect:x.useEffect,cv=new WeakMap;function aT(e,t){var s=rT(null,function(i){return e.forEach(function(l){return Hf(l,i)})});return sT(function(){var i=cv.get(s);if(i){var l=new Set(i),c=new Set(e),u=s.current;l.forEach(function(f){c.has(f)||Hf(f,null)}),c.forEach(function(f){l.has(f)||Hf(f,u)})}cv.set(s,e)},[e]),s}function iT(e){return e}function oT(e,t){t===void 0&&(t=iT);var s=[],i=!1,l={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(c){var u=t(c,i);return s.push(u),function(){s=s.filter(function(f){return f!==u})}},assignSyncMedium:function(c){for(i=!0;s.length;){var u=s;s=[],u.forEach(c)}s={push:function(f){return c(f)},filter:function(){return s}}},assignMedium:function(c){i=!0;var u=[];if(s.length){var f=s;s=[],f.forEach(c),u=s}var h=function(){var v=u;u=[],v.forEach(c)},p=function(){return Promise.resolve().then(h)};p(),s={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),s}}}};return l}function lT(e){e===void 0&&(e={});var t=oT(null);return t.options=zr({async:!0,ssr:!1},e),t}var sw=function(e){var t=e.sideCar,s=rw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return x.createElement(i,zr({},s))};sw.isSideCarExport=!0;function cT(e,t){return e.useMedium(t),sw}var aw=lT(),Gf=function(){},Ed=x.forwardRef(function(e,t){var s=x.useRef(null),i=x.useState({onScrollCapture:Gf,onWheelCapture:Gf,onTouchMoveCapture:Gf}),l=i[0],c=i[1],u=e.forwardProps,f=e.children,h=e.className,p=e.removeScrollBar,v=e.enabled,b=e.shards,N=e.sideCar,C=e.noIsolation,_=e.inert,w=e.allowPinchZoom,S=e.as,k=S===void 0?"div":S,I=e.gapMode,L=rw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=N,F=aT([s,t]),G=zr(zr({},L),l);return x.createElement(x.Fragment,null,v&&x.createElement(P,{sideCar:aw,removeScrollBar:p,shards:b,noIsolation:C,inert:_,setCallbacks:c,allowPinchZoom:!!w,lockRef:s,gapMode:I}),u?x.cloneElement(x.Children.only(f),zr(zr({},G),{ref:F})):x.createElement(k,zr({},G,{className:h,ref:F}),f))});Ed.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ed.classNames={fullWidth:qc,zeroRight:Vc};var dT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=dT();return t&&e.setAttribute("nonce",t),e}function fT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function mT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var pT=function(){var e=0,t=null;return{add:function(s){e==0&&(t=uT())&&(fT(t,s),mT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hT=function(){var e=pT();return function(t,s){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},iw=function(){var e=hT(),t=function(s){var i=s.styles,l=s.dynamic;return e(i,l),null};return t},gT={left:0,top:0,right:0,gap:0},Kf=function(e){return parseInt(e||"",10)||0},xT=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],l=t[e==="padding"?"paddingRight":"marginRight"];return[Kf(s),Kf(i),Kf(l)]},vT=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return gT;var t=xT(e),s=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-s+t[2]-t[0])}},yT=iw(),wi="data-scroll-locked",wT=function(e,t,s,i){var l=e.left,c=e.top,u=e.right,f=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(tT,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(wi,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),s==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),s==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vc,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(qc,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Vc," .").concat(Vc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(qc," .").concat(qc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(wi,`] {
    `).concat(nT,": ").concat(f,`px;
  }
`)},dv=function(){var e=parseInt(document.body.getAttribute(wi)||"0",10);return isFinite(e)?e:0},bT=function(){x.useEffect(function(){return document.body.setAttribute(wi,(dv()+1).toString()),function(){var e=dv()-1;e<=0?document.body.removeAttribute(wi):document.body.setAttribute(wi,e.toString())}},[])},jT=function(e){var t=e.noRelative,s=e.noImportant,i=e.gapMode,l=i===void 0?"margin":i;bT();var c=x.useMemo(function(){return vT(l)},[l]);return x.createElement(yT,{styles:wT(c,!t,l,s?"":"!important")})},_m=!1;if(typeof window<"u")try{var Tc=Object.defineProperty({},"passive",{get:function(){return _m=!0,!0}});window.addEventListener("test",Tc,Tc),window.removeEventListener("test",Tc,Tc)}catch{_m=!1}var li=_m?{passive:!1}:!1,NT=function(e){return e.tagName==="TEXTAREA"},ow=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!NT(e)&&s[t]==="visible")},ST=function(e){return ow(e,"overflowY")},kT=function(e){return ow(e,"overflowX")},uv=function(e,t){var s=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var l=lw(e,i);if(l){var c=cw(e,i),u=c[1],f=c[2];if(u>f)return!0}i=i.parentNode}while(i&&i!==s.body);return!1},CT=function(e){var t=e.scrollTop,s=e.scrollHeight,i=e.clientHeight;return[t,s,i]},_T=function(e){var t=e.scrollLeft,s=e.scrollWidth,i=e.clientWidth;return[t,s,i]},lw=function(e,t){return e==="v"?ST(t):kT(t)},cw=function(e,t){return e==="v"?CT(t):_T(t)},PT=function(e,t){return e==="h"&&t==="rtl"?-1:1},ET=function(e,t,s,i,l){var c=PT(e,window.getComputedStyle(t).direction),u=c*i,f=s.target,h=t.contains(f),p=!1,v=u>0,b=0,N=0;do{var C=cw(e,f),_=C[0],w=C[1],S=C[2],k=w-S-c*_;(_||k)&&lw(e,f)&&(b+=k,N+=_),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!h&&f!==document.body||h&&(t.contains(f)||t===f));return(v&&Math.abs(b)<1||!v&&Math.abs(N)<1)&&(p=!0),p},Ic=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},fv=function(e){return[e.deltaX,e.deltaY]},mv=function(e){return e&&"current"in e?e.current:e},TT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},IT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},RT=0,ci=[];function AT(e){var t=x.useRef([]),s=x.useRef([0,0]),i=x.useRef(),l=x.useState(RT++)[0],c=x.useState(iw)[0],u=x.useRef(e);x.useEffect(function(){u.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var w=eT([e.lockRef.current],(e.shards||[]).map(mv),!0).filter(Boolean);return w.forEach(function(S){return S.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),w.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var f=x.useCallback(function(w,S){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!u.current.allowPinchZoom;var k=Ic(w),I=s.current,L="deltaX"in w?w.deltaX:I[0]-k[0],P="deltaY"in w?w.deltaY:I[1]-k[1],F,G=w.target,q=Math.abs(L)>Math.abs(P)?"h":"v";if("touches"in w&&q==="h"&&G.type==="range")return!1;var X=uv(q,G);if(!X)return!0;if(X?F=q:(F=q==="v"?"h":"v",X=uv(q,G)),!X)return!1;if(!i.current&&"changedTouches"in w&&(L||P)&&(i.current=F),!F)return!0;var se=i.current||F;return ET(se,S,w,se==="h"?L:P)},[]),h=x.useCallback(function(w){var S=w;if(!(!ci.length||ci[ci.length-1]!==c)){var k="deltaY"in S?fv(S):Ic(S),I=t.current.filter(function(F){return F.name===S.type&&(F.target===S.target||S.target===F.shadowParent)&&TT(F.delta,k)})[0];if(I&&I.should){S.cancelable&&S.preventDefault();return}if(!I){var L=(u.current.shards||[]).map(mv).filter(Boolean).filter(function(F){return F.contains(S.target)}),P=L.length>0?f(S,L[0]):!u.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),p=x.useCallback(function(w,S,k,I){var L={name:w,delta:S,target:k,should:I,shadowParent:LT(k)};t.current.push(L),setTimeout(function(){t.current=t.current.filter(function(P){return P!==L})},1)},[]),v=x.useCallback(function(w){s.current=Ic(w),i.current=void 0},[]),b=x.useCallback(function(w){p(w.type,fv(w),w.target,f(w,e.lockRef.current))},[]),N=x.useCallback(function(w){p(w.type,Ic(w),w.target,f(w,e.lockRef.current))},[]);x.useEffect(function(){return ci.push(c),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:N}),document.addEventListener("wheel",h,li),document.addEventListener("touchmove",h,li),document.addEventListener("touchstart",v,li),function(){ci=ci.filter(function(w){return w!==c}),document.removeEventListener("wheel",h,li),document.removeEventListener("touchmove",h,li),document.removeEventListener("touchstart",v,li)}},[]);var C=e.removeScrollBar,_=e.inert;return x.createElement(x.Fragment,null,_?x.createElement(c,{styles:IT(l)}):null,C?x.createElement(jT,{gapMode:e.gapMode}):null)}function LT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const DT=cT(aw,AT);var lp=x.forwardRef(function(e,t){return x.createElement(Ed,zr({},e,{ref:t,sideCar:DT}))});lp.classNames=Ed.classNames;var MT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},di=new WeakMap,Rc=new WeakMap,Ac={},Zf=0,dw=function(e){return e&&(e.host||dw(e.parentNode))},OT=function(e,t){return t.map(function(s){if(e.contains(s))return s;var i=dw(s);return i&&e.contains(i)?i:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},FT=function(e,t,s,i){var l=OT(t,Array.isArray(e)?e:[e]);Ac[s]||(Ac[s]=new WeakMap);var c=Ac[s],u=[],f=new Set,h=new Set(l),p=function(b){!b||f.has(b)||(f.add(b),p(b.parentNode))};l.forEach(p);var v=function(b){!b||h.has(b)||Array.prototype.forEach.call(b.children,function(N){if(f.has(N))v(N);else try{var C=N.getAttribute(i),_=C!==null&&C!=="false",w=(di.get(N)||0)+1,S=(c.get(N)||0)+1;di.set(N,w),c.set(N,S),u.push(N),w===1&&_&&Rc.set(N,!0),S===1&&N.setAttribute(s,"true"),_||N.setAttribute(i,"true")}catch(k){console.error("aria-hidden: cannot operate on ",N,k)}})};return v(t),f.clear(),Zf++,function(){u.forEach(function(b){var N=di.get(b)-1,C=c.get(b)-1;di.set(b,N),c.set(b,C),N||(Rc.has(b)||b.removeAttribute(i),Rc.delete(b)),C||b.removeAttribute(s)}),Zf--,Zf||(di=new WeakMap,di=new WeakMap,Rc=new WeakMap,Ac={})}},uw=function(e,t,s){s===void 0&&(s="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),l=MT(e);return l?(i.push.apply(i,Array.from(l.querySelectorAll("[aria-live]"))),FT(i,l,s,"aria-hidden")):function(){return null}},cp="Dialog",[fw]=Er(cp),[zT,Tr]=fw(cp),mw=e=>{const{__scopeDialog:t,children:s,open:i,defaultOpen:l,onOpenChange:c,modal:u=!0}=e,f=x.useRef(null),h=x.useRef(null),[p=!1,v]=Ca({prop:i,defaultProp:l,onChange:c});return n.jsx(zT,{scope:t,triggerRef:f,contentRef:h,contentId:Qs(),titleId:Qs(),descriptionId:Qs(),open:p,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(b=>!b),[v]),modal:u,children:s})};mw.displayName=cp;var pw="DialogTrigger",hw=x.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,l=Tr(pw,s),c=st(t,l.triggerRef);return n.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":fp(l.open),...i,ref:c,onClick:Ce(e.onClick,l.onOpenToggle)})});hw.displayName=pw;var dp="DialogPortal",[$T,gw]=fw(dp,{forceMount:void 0}),xw=e=>{const{__scopeDialog:t,forceMount:s,children:i,container:l}=e,c=Tr(dp,t);return n.jsx($T,{scope:t,forceMount:s,children:x.Children.map(i,u=>n.jsx(ir,{present:s||c.open,children:n.jsx(xd,{asChild:!0,container:l,children:u})}))})};xw.displayName=dp;var ld="DialogOverlay",vw=x.forwardRef((e,t)=>{const s=gw(ld,e.__scopeDialog),{forceMount:i=s.forceMount,...l}=e,c=Tr(ld,e.__scopeDialog);return c.modal?n.jsx(ir,{present:i||c.open,children:n.jsx(VT,{...l,ref:t})}):null});vw.displayName=ld;var BT=bi("DialogOverlay.RemoveScroll"),VT=x.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,l=Tr(ld,s);return n.jsx(lp,{as:BT,allowPinchZoom:!0,shards:[l.contentRef],children:n.jsx(qe.div,{"data-state":fp(l.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Ia="DialogContent",yw=x.forwardRef((e,t)=>{const s=gw(Ia,e.__scopeDialog),{forceMount:i=s.forceMount,...l}=e,c=Tr(Ia,e.__scopeDialog);return n.jsx(ir,{present:i||c.open,children:c.modal?n.jsx(qT,{...l,ref:t}):n.jsx(UT,{...l,ref:t})})});yw.displayName=Ia;var qT=x.forwardRef((e,t)=>{const s=Tr(Ia,e.__scopeDialog),i=x.useRef(null),l=st(t,s.contentRef,i);return x.useEffect(()=>{const c=i.current;if(c)return uw(c)},[]),n.jsx(ww,{...e,ref:l,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,c=>{c.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&c.preventDefault()}),onFocusOutside:Ce(e.onFocusOutside,c=>c.preventDefault())})}),UT=x.forwardRef((e,t)=>{const s=Tr(Ia,e.__scopeDialog),i=x.useRef(!1),l=x.useRef(!1);return n.jsx(ww,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(i.current||s.triggerRef.current?.focus(),c.preventDefault()),i.current=!1,l.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(i.current=!0,c.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const u=c.target;s.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&l.current&&c.preventDefault()}})}),ww=x.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:c,...u}=e,f=Tr(Ia,s),h=x.useRef(null),p=st(t,h);return nw(),n.jsxs(n.Fragment,{children:[n.jsx(op,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:l,onUnmountAutoFocus:c,children:n.jsx(il,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":fp(f.open),...u,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(WT,{titleId:f.titleId}),n.jsx(HT,{contentRef:h,descriptionId:f.descriptionId})]})]})}),up="DialogTitle",bw=x.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,l=Tr(up,s);return n.jsx(qe.h2,{id:l.titleId,...i,ref:t})});bw.displayName=up;var jw="DialogDescription",Nw=x.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,l=Tr(jw,s);return n.jsx(qe.p,{id:l.descriptionId,...i,ref:t})});Nw.displayName=jw;var Sw="DialogClose",kw=x.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,l=Tr(Sw,s);return n.jsx(qe.button,{type:"button",...i,ref:t,onClick:Ce(e.onClick,()=>l.onOpenChange(!1))})});kw.displayName=Sw;function fp(e){return e?"open":"closed"}var Cw="DialogTitleWarning",[LR,_w]=fS(Cw,{contentName:Ia,titleName:up,docsSlug:"dialog"}),WT=({titleId:e})=>{const t=_w(Cw),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},QT="DialogDescriptionWarning",HT=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_w(QT).contentName}}.`;return x.useEffect(()=>{const l=e.current?.getAttribute("aria-describedby");t&&l&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},GT=mw,KT=hw,ZT=xw,Pw=vw,Ew=yw,Tw=bw,Iw=Nw,YT=kw;const gt=GT,Vs=KT,XT=ZT,Rw=x.forwardRef(({className:e,...t},s)=>n.jsx(Pw,{ref:s,className:we("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Rw.displayName=Pw.displayName;const mt=x.forwardRef(({className:e,children:t,...s},i)=>n.jsxs(XT,{children:[n.jsx(Rw,{}),n.jsxs(Ew,{ref:i,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,n.jsxs(YT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx($r,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mt.displayName=Ew.displayName;const pt=({className:e,...t})=>n.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pt.displayName="DialogHeader";const Lt=({className:e,...t})=>n.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Lt.displayName="DialogFooter";const ht=x.forwardRef(({className:e,...t},s)=>n.jsx(Tw,{ref:s,className:we("text-lg font-semibold leading-none tracking-tight",e),...t}));ht.displayName=Tw.displayName;const Nt=x.forwardRef(({className:e,...t},s)=>n.jsx(Iw,{ref:s,className:we("text-sm text-muted-foreground",e),...t}));Nt.displayName=Iw.displayName;function JT(){const[,e]=Un(),{account:t,inventory:s,addToInventory:i,logout:l}=Qn(),{toast:c}=Wn(),[u,f]=x.useState("all"),[h,p]=x.useState("all"),[v,b]=x.useState(""),[N,C]=x.useState(null),_=x.useMemo(()=>s.map(F=>F.itemId),[s]),w={normal:"Novice",super_rare:"Novice",x_tier:"Novice",umr:"Novice",ssumr:"Novice",divine:"Apprentice",journeyman:"Journeyman",expert:"Expert",master:"Master",grandmaster:"Grandmaster",legend:"Legend",elite:"Elite"},S=x.useMemo(()=>{if(!t)return["divine","journeyman","expert","master","grandmaster","legend","elite"];const F=Cm.indexOf(t.rank);return Object.entries(w).filter(([G,q])=>Cm.indexOf(q)>F).map(([G])=>G)},[t]),k=x.useMemo(()=>Na.filter(F=>!(S.includes(F.tier)||u!=="all"&&F.tier!==u||h!=="all"&&F.type!==h||v&&!F.name.toLowerCase().includes(v.toLowerCase()))),[u,h,v,S]),I=F=>{C(F)},L=async()=>{if(!N||!t)return;if(t.gold<N.price){c({title:"Not enough gold!",description:`You need ${N.price.toLocaleString()} gold to buy ${N.name}.`,variant:"destructive"}),C(null);return}const F=await i(N);c(F?{title:"Purchase successful!",description:`You acquired ${N.name}!`}:{title:"Purchase failed",description:"Something went wrong. Please try again.",variant:"destructive"}),C(null)},P=()=>{l(),e("/")};return!t||t.role!=="player"?(e("/"),null):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container mx-auto px-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h1",{className:"font-serif text-xl font-bold text-foreground","data-testid":"text-shop-title",children:"Item Shop"}),n.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),className:"toggle-elevate toggle-elevated","data-testid":"link-shop",children:[n.jsx(kn,{className:"w-4 h-4 mr-1.5"}),"Shop"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),className:"toggle-elevate","data-testid":"link-inventory",children:[n.jsx(bn,{className:"w-4 h-4 mr-1.5"}),"Inventory (",s.length,")"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/skills"),className:"toggle-elevate","data-testid":"link-skills",children:[n.jsx(kt,{className:"w-4 h-4 mr-1.5"}),"Skills"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),className:"toggle-elevate","data-testid":"link-trading",children:[n.jsx(kr,{className:"w-4 h-4 mr-1.5"}),"Trade"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/events"),className:"toggle-elevate","data-testid":"link-events",children:[n.jsx(en,{className:"w-4 h-4 mr-1.5"}),"Events"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/challenges"),className:"toggle-elevate","data-testid":"link-challenges",children:[n.jsx(St,{className:"w-4 h-4 mr-1.5"}),"Challenges"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/npc-battle"),className:"toggle-elevate","data-testid":"link-npc-battle",children:[n.jsx(Ht,{className:"w-4 h-4 mr-1.5"}),"NPC Tower"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/quests"),className:"toggle-elevate","data-testid":"link-quests",children:[n.jsx(Nr,{className:"w-4 h-4 mr-1.5"}),"Quests"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/leaderboard"),className:"toggle-elevate","data-testid":"link-leaderboard",children:[n.jsx(yt,{className:"w-4 h-4 mr-1.5"}),"Leaderboard"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),className:"toggle-elevate","data-testid":"link-guild",children:[n.jsx(tn,{className:"w-4 h-4 mr-1.5"}),"Guild"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/skills"),className:"toggle-elevate","data-testid":"link-skills",children:[n.jsx(kt,{className:"w-4 h-4 mr-1.5"}),"Skills"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-username",children:t.username}),n.jsx(od,{amount:t.gold,size:"sm"})]}),n.jsx(T,{variant:"outline",size:"icon",onClick:P,"data-testid":"button-logout",children:n.jsx(ar,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"flex sm:hidden overflow-x-auto gap-1 mt-3 pb-2 -mx-4 px-4 scrollbar-hide",children:[n.jsx(T,{variant:"secondary",size:"sm",onClick:()=>e("/shop"),className:"shrink-0",children:n.jsx(kn,{className:"w-4 h-4"})}),n.jsx(T,{variant:"outline",size:"sm",onClick:()=>e("/inventory"),className:"shrink-0",children:n.jsx(bn,{className:"w-4 h-4"})}),n.jsx(T,{variant:"outline",size:"sm",onClick:()=>e("/pets"),className:"shrink-0",children:n.jsx(jr,{className:"w-4 h-4"})}),n.jsx(T,{variant:"outline",size:"sm",onClick:()=>e("/events"),className:"shrink-0",children:n.jsx(en,{className:"w-4 h-4"})}),n.jsx(T,{variant:"outline",size:"sm",onClick:()=>e("/challenges"),className:"shrink-0",children:n.jsx(St,{className:"w-4 h-4"})}),n.jsx(T,{variant:"outline",size:"sm",onClick:()=>e("/npc-battle"),className:"shrink-0",children:n.jsx(Ht,{className:"w-4 h-4"})}),n.jsx(T,{variant:"outline",size:"sm",onClick:()=>e("/quests"),className:"shrink-0",children:n.jsx(Nr,{className:"w-4 h-4"})}),n.jsx(T,{variant:"outline",size:"sm",onClick:()=>e("/leaderboard"),className:"shrink-0",children:n.jsx(yt,{className:"w-4 h-4"})}),n.jsx(T,{variant:"outline",size:"sm",onClick:()=>e("/guild"),className:"shrink-0",children:n.jsx(Ws,{className:"w-4 h-4"})})]})]})}),n.jsxs("main",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(To,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(tt,{type:"search",placeholder:"Search items...",value:v,onChange:F=>b(F.target.value),className:"pl-9","data-testid":"input-search"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ew,{selectedTier:u,onSelectTier:f,excludeTiers:S}),n.jsx(QE,{selectedType:h,onSelectType:p})]})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-item-count",children:["Showing ",k.length," items"]})}),n.jsx(J0,{items:k,onBuy:I,showBuyButton:!0,ownedItemIds:_,playerGold:t.gold})]}),n.jsx(gt,{open:!!N,onOpenChange:()=>C(null),children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{className:"font-serif",children:"Confirm Purchase"}),n.jsx(Nt,{children:"Are you sure you want to buy this item?"})]}),N&&n.jsx("div",{className:"py-4",children:n.jsx(X0,{item:N,showBuyButton:!1})}),n.jsxs(Lt,{className:"gap-2",children:[n.jsx(T,{variant:"outline",onClick:()=>C(null),"data-testid":"button-cancel-purchase",children:"Cancel"}),n.jsxs(T,{onClick:L,"data-testid":"button-confirm-purchase",children:["Buy for ",N?.price.toLocaleString()," gold"]})]})]})})]})}const e5={normal:"border-tier-normal",super_rare:"border-tier-super-rare",x_tier:"border-tier-x",umr:"border-tier-umr",ssumr:"border-tier-ssumr",divine:"border-tier-x",journeyman:"border-tier-normal",expert:"border-tier-super-rare",master:"border-tier-x",grandmaster:"border-tier-umr",legend:"border-tier-ssumr",elite:"border-tier-ssumr"};function Lc({stat:e,value:t,icon:s}){return n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md bg-secondary/30",children:[n.jsx("div",{className:"text-muted-foreground",children:s}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:e}),n.jsx("span",{className:"font-mono font-bold ml-2",children:t})]})]})}function Dc({slot:e,item:t,inventoryItem:s,label:i,icon:l,onUnequip:c,onBoost:u}){const f=s?.stats||{};return n.jsxs("div",{className:we("p-3 rounded-md border-2 border-dashed transition-colors",t?e5[t.tier]+" bg-card":"border-muted bg-secondary/20"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-muted-foreground",children:l}),n.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase",children:i})]}),t?n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-serif font-semibold text-sm",children:t.name}),n.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(t.stats).map(([h,p])=>{const v=f[h]||0,b=(p||0)+v;return b===0?null:n.jsxs(le,{variant:"secondary",className:"text-xs font-mono",children:["+",b," ",h,v>0&&n.jsxs("span",{className:"ml-1 text-tier-x",children:["(+",v,")"]})]},h)})}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(T,{size:"sm",variant:"outline",onClick:c,className:"flex-1","data-testid":`button-unequip-${e}`,children:"Unequip"}),(t.type==="weapon"||t.type==="armor"||t.type==="accessory")&&n.jsxs(T,{size:"sm",variant:"secondary",onClick:u,className:"gap-1 px-2","data-testid":`button-boost-${e}`,children:[n.jsx(fm,{className:"w-3 h-3 text-tier-x fill-tier-x"}),"Boost"]})]})]}):n.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Empty slot"})]})}function t5(){const[,e]=Un(),{account:t,inventory:s,logout:i,setAccount:l,refreshInventory:c}=Qn(),{toast:u}=Wn(),[f,h]=x.useState(null),[p,v]=x.useState(null),[b,N]=x.useState(!1),[C,_]=x.useState(1),[w,S]=x.useState(null),[k,I]=x.useState(!1),P=t?["Journeyman","Expert","Master","Grandmaster","Legend","Elite"].includes(t.rank):!1,F=x.useMemo(()=>({Novice:999,Apprentice:9999,Journeyman:99999,Expert:999999,Master:9999999,Grandmaster:99999999,Legend:999999999,Elite:9999999999})[t?.rank||"Novice"]||999,[t?.rank]),G=x.useMemo(()=>s.map(B=>{const Y=Do(B.itemId);if(Y)return{...Y,inventoryId:B.id,boostedStats:B.stats||{}}}).filter(B=>B!==void 0),[s]),q=x.useMemo(()=>{if(!t)return{weapon:null,armor:null,accessory1:null,accessory2:null};const B=Y=>{if(!Y)return null;const E=s.find(U=>U.itemId===Y);return E?{item:Do(E.itemId),invItem:E}:null};return{weapon:B(t.equipped?.weapon),armor:B(t.equipped?.armor),accessory1:B(t.equipped?.accessory1),accessory2:B(t.equipped?.accessory2)}},[t,s]),X=x.useMemo(()=>{const B=t?.stats||{Str:10,Spd:10,Int:10,Luck:10,Pot:0},Y={Str:0,Spd:0,Int:0,Luck:0,Pot:0};return Object.values(q).forEach(E=>{if(E){const{item:U,invItem:Q}=E,A=Q.stats||{};Object.entries(U.stats).forEach(([H,_e])=>{H in Y&&(Y[H]+=(_e||0)+(A[H]||0))})}}),{Str:B.Str+Y.Str,Spd:B.Spd+Y.Spd,Int:B.Int+Y.Int,Luck:B.Luck+Y.Luck,Pot:B.Pot+Y.Pot}},[t,q]),se=x.useMemo(()=>{if(!f)return[];const B=f.type;return G.filter(Y=>Y.type===B)},[f,G]),ce=x.useMemo(()=>G.reduce((B,Y)=>B+Y.price,0),[G]),ge=async(B,Y)=>{if(!t)return;const E={...t.equipped,[Y]:B.id};try{await ve("PATCH",`/api/accounts/${t.id}`,{equipped:E}),l({...t,equipped:E}),h(null),await c()}catch(U){console.error("Failed to equip item:",U)}},oe=async(B,Y)=>{if(B.stopPropagation(),!t)return;const E={...t.equipped,[Y]:null};try{await ve("PATCH",`/api/accounts/${t.id}`,{equipped:E}),l({...t,equipped:E}),await c()}catch(U){console.error("Failed to unequip item:",U)}},K=async(B,Y=1)=>{if(!p||!t)return;const E=10*Y;if(t.trainingPoints<E){u({title:"Insufficient Training Points",description:`You need ${E} Training Points to boost by ${Y}.`,variant:"destructive"});return}N(!0);try{const Q=await(await ve("POST",`/api/inventory/${p.id}/boost`,{stat:B,amount:Y})).json();await c();const A=await ve("GET",`/api/accounts/${t.id}`);l(await A.json()),v({...p,stats:Q.stats}),u({title:"Stat Boosted!",description:`Successfully boosted ${B} by ${Y}.`})}catch{u({title:"Boost Failed",description:"Could not boost weapon stat.",variant:"destructive"})}finally{N(!1)}},$=async()=>{if(!(!w||!t)){I(!0);try{const Y=await(await ve("POST",`/api/accounts/${t.id}/inventory/${w.inventoryItem.id}/sell`,{originalPrice:w.item.price})).json();await c();const E=await ve("GET",`/api/accounts/${t.id}`);l(await E.json()),u({title:"Item Sold!",description:`Received ${Y.goldReceived.toLocaleString()} gold for ${w.item.name}.`}),S(null)}catch(B){const Y=await B.json?.()||{error:"Could not sell item."};u({title:"Sell Failed",description:Y.error,variant:"destructive"})}finally{I(!1)}}},fe=()=>{i(),e("/")};return!t||t.role!=="player"?(e("/"),null):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container mx-auto px-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h1",{className:"font-serif text-xl font-bold text-foreground","data-testid":"text-inventory-title",children:"My Inventory"}),n.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),className:"toggle-elevate","data-testid":"link-shop",children:[n.jsx(kn,{className:"w-4 h-4 mr-1.5"}),"Shop"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/skills"),className:"toggle-elevate","data-testid":"link-skills",children:[n.jsx(kt,{className:"w-4 h-4 mr-1.5"}),"Skills"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),className:"toggle-elevate","data-testid":"link-trading",children:[n.jsx(kr,{className:"w-4 h-4 mr-1.5"}),"Trade"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),className:"toggle-elevate toggle-elevated","data-testid":"link-inventory",children:[n.jsx(bn,{className:"w-4 h-4 mr-1.5"}),"Inventory (",s.length,")"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/pets"),className:"toggle-elevate","data-testid":"link-pets",children:[n.jsx(jr,{className:"w-4 h-4 mr-1.5"}),"Pets"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/events"),className:"toggle-elevate","data-testid":"link-events",children:[n.jsx(en,{className:"w-4 h-4 mr-1.5"}),"Events"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/challenges"),className:"toggle-elevate","data-testid":"link-challenges",children:[n.jsx(St,{className:"w-4 h-4 mr-1.5"}),"Challenges"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/npc-battle"),className:"toggle-elevate","data-testid":"link-npc-battle",children:[n.jsx(Ht,{className:"w-4 h-4 mr-1.5"}),"NPC Tower"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/quests"),className:"toggle-elevate","data-testid":"link-quests",children:[n.jsx(Nr,{className:"w-4 h-4 mr-1.5"}),"Quests"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/leaderboard"),className:"toggle-elevate","data-testid":"link-leaderboard",children:[n.jsx(yt,{className:"w-4 h-4 mr-1.5"}),"Leaderboard"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),className:"toggle-elevate","data-testid":"link-guild",children:[n.jsx(Ws,{className:"w-4 h-4 mr-1.5"}),"Guild"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/skills"),className:"toggle-elevate","data-testid":"link-skills",children:[n.jsx(kt,{className:"w-4 h-4 mr-1.5"}),"Skills"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-username",children:t.username}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(od,{amount:t.gold,size:"sm"}),n.jsxs("div",{className:"flex items-center gap-1 text-xs font-mono text-tier-x",children:[n.jsx(fm,{className:"w-3 h-3 fill-tier-x"}),t.trainingPoints||0," TP"]})]})]}),n.jsx(T,{variant:"outline",size:"icon",onClick:fe,"data-testid":"button-logout",children:n.jsx(ar,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"flex sm:hidden overflow-x-auto gap-1 mt-3 pb-2 -mx-4 px-4 scrollbar-hide",children:[n.jsx(T,{variant:"outline",size:"sm",onClick:()=>e("/shop"),className:"shrink-0",children:n.jsx(kn,{className:"w-4 h-4"})}),n.jsx(T,{variant:"secondary",size:"sm",onClick:()=>e("/inventory"),className:"shrink-0",children:n.jsx(bn,{className:"w-4 h-4"})}),n.jsx(T,{variant:"outline",size:"sm",onClick:()=>e("/pets"),className:"shrink-0",children:n.jsx(jr,{className:"w-4 h-4"})}),n.jsx(T,{variant:"outline",size:"sm",onClick:()=>e("/events"),className:"shrink-0",children:n.jsx(en,{className:"w-4 h-4"})}),n.jsx(T,{variant:"outline",size:"sm",onClick:()=>e("/challenges"),className:"shrink-0",children:n.jsx(St,{className:"w-4 h-4"})}),n.jsx(T,{variant:"outline",size:"sm",onClick:()=>e("/npc-battle"),className:"shrink-0",children:n.jsx(Ht,{className:"w-4 h-4"})}),n.jsx(T,{variant:"outline",size:"sm",onClick:()=>e("/quests"),className:"shrink-0",children:n.jsx(Nr,{className:"w-4 h-4"})}),n.jsx(T,{variant:"outline",size:"sm",onClick:()=>e("/leaderboard"),className:"shrink-0",children:n.jsx(yt,{className:"w-4 h-4"})}),n.jsx(T,{variant:"outline",size:"sm",onClick:()=>e("/guild"),className:"shrink-0",children:n.jsx(Ws,{className:"w-4 h-4"})})]})]})}),n.jsxs("main",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6 mb-8",children:[n.jsxs(Te,{children:[n.jsx(He,{className:"pb-3",children:n.jsxs(Qe,{className:"font-serif text-base flex items-center gap-2",children:[n.jsx(Ay,{className:"w-4 h-4"}),"Character Info"]})}),n.jsxs(Le,{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Rank"}),n.jsx(le,{variant:"secondary",children:t.rank})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Record"}),n.jsxs("span",{className:"text-sm font-mono",children:[n.jsxs("span",{className:"text-green-500",children:[t.wins,"W"]})," / ",n.jsxs("span",{className:"text-red-500",children:[t.losses,"L"]})]})]}),n.jsxs("div",{className:"border-t border-border pt-2 mt-2 space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(fm,{className:"w-3 h-3 text-tier-x fill-tier-x"})," Training Points"]}),n.jsx("span",{className:"text-sm font-mono text-tier-x",children:t.trainingPoints||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(qs,{className:"w-3 h-3 text-red-400"})," Rubies"]}),n.jsx("span",{className:"text-sm font-mono text-red-400",children:t.rubies||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(kt,{className:"w-3 h-3 text-purple-400"})," Soul Shards"]}),n.jsx("span",{className:"text-sm font-mono text-purple-400",children:t.soulShards||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Ks,{className:"w-3 h-3 text-blue-400"})," Focused Shards"]}),n.jsx("span",{className:"text-sm font-mono text-blue-400",children:t.focusedShards||0})]})]})]})]}),n.jsxs(Te,{children:[n.jsx(He,{className:"pb-3",children:n.jsxs(Qe,{className:"font-serif text-base flex items-center gap-2",children:[n.jsx(yt,{className:"w-4 h-4"}),"Total Stats"]})}),n.jsx(Le,{children:n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(Lc,{stat:"Str",value:X.Str,icon:n.jsx(Ks,{className:"w-4 h-4 text-stat-str"})}),n.jsx(Lc,{stat:"Spd",value:X.Spd,icon:n.jsx(Ht,{className:"w-4 h-4 text-stat-spd"})}),n.jsx(Lc,{stat:"Int",value:X.Int,icon:n.jsx(Ey,{className:"w-4 h-4 text-stat-int"})}),n.jsx(Lc,{stat:"Luck",value:X.Luck,icon:n.jsx(Iy,{className:"w-4 h-4 text-stat-luck"})})]})})]}),n.jsxs(Te,{children:[n.jsx(He,{className:"pb-3",children:n.jsxs(Qe,{className:"font-serif text-base flex items-center gap-2",children:[n.jsx(Tx,{className:"w-4 h-4"}),"Inventory Value"]})}),n.jsxs(Le,{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Items"}),n.jsx("span",{className:"font-mono font-bold",children:G.length})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Value"}),n.jsx(od,{amount:ce,size:"sm"})]})]})]})]}),n.jsxs(Te,{className:"mb-8",children:[n.jsx(He,{className:"pb-3",children:n.jsx(Qe,{className:"font-serif text-base",children:"Equipment Slots"})}),n.jsx(Le,{children:n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx("div",{onClick:()=>h({slot:"weapon",type:"weapon"}),className:"cursor-pointer",children:n.jsx(Dc,{slot:"weapon",item:q.weapon?.item||null,inventoryItem:q.weapon?.invItem||null,label:"Weapon",icon:n.jsx(Us,{className:"w-4 h-4"}),onUnequip:B=>oe(B,"weapon"),onBoost:()=>v(q.weapon?.invItem||null)})}),n.jsx("div",{onClick:()=>h({slot:"armor",type:"armor"}),className:"cursor-pointer",children:n.jsx(Dc,{slot:"armor",item:q.armor?.item||null,inventoryItem:q.armor?.invItem||null,label:"Armor",icon:n.jsx(tn,{className:"w-4 h-4"}),onUnequip:B=>oe(B,"armor"),onBoost:()=>v(q.armor?.invItem||null)})}),n.jsx("div",{onClick:()=>h({slot:"accessory1",type:"accessory"}),className:"cursor-pointer",children:n.jsx(Dc,{slot:"accessory1",item:q.accessory1?.item||null,inventoryItem:q.accessory1?.invItem||null,label:"Accessory 1",icon:n.jsx(qs,{className:"w-4 h-4"}),onUnequip:B=>oe(B,"accessory1"),onBoost:()=>v(q.accessory1?.invItem||null)})}),n.jsx("div",{onClick:()=>h({slot:"accessory2",type:"accessory"}),className:"cursor-pointer",children:n.jsx(Dc,{slot:"accessory2",item:q.accessory2?.item||null,inventoryItem:q.accessory2?.invItem||null,label:"Accessory 2",icon:n.jsx(qs,{className:"w-4 h-4"}),onUnequip:B=>oe(B,"accessory2"),onBoost:()=>v(q.accessory2?.invItem||null)})})]})})]}),n.jsxs("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-2",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold",children:"All Items"}),P?n.jsxs(le,{variant:"outline",className:"text-green-600 border-green-600/50",children:[n.jsx(um,{className:"w-3 h-3 mr-1"}),"Selling Available (50% value)"]}):n.jsx(le,{variant:"outline",className:"text-muted-foreground",children:"Reach Journeyman rank to sell items"})]}),G.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-secondary/50 mb-4",children:n.jsx(Tx,{className:"w-12 h-12 text-muted-foreground"})}),n.jsx("h2",{className:"font-serif text-xl font-semibold mb-2",children:"Your inventory is empty"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Visit the shop to acquire legendary items!"}),n.jsxs(T,{onClick:()=>e("/shop"),"data-testid":"button-go-to-shop",children:[n.jsx(kn,{className:"w-4 h-4 mr-2"}),"Go to Shop"]})]}):n.jsx(J0,{items:G,showBuyButton:!1,showSellButton:P,ownedItemIds:G.map(B=>B.id),onSell:B=>{const Y=s.find(E=>E.itemId===B.id);Y&&S({inventoryItem:Y,item:B})}})]}),n.jsx(gt,{open:!!f,onOpenChange:()=>h(null),children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsxs(ht,{className:"font-serif",children:["Equip ",f?.type]}),n.jsx(Nt,{children:"Select an item from your inventory to equip."})]}),n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:se.length===0?n.jsxs("p",{className:"text-sm text-muted-foreground text-center py-4",children:["No ",f?.type," items in inventory"]}):se.map(B=>n.jsx(T,{variant:"outline",className:"w-full justify-start h-auto py-2",onClick:()=>f&&ge(B,f.slot),"data-testid":`button-equip-${B.inventoryId}`,children:n.jsxs("div",{className:"flex flex-col items-start gap-1",children:[n.jsx("span",{className:"font-serif font-bold",children:B.name}),n.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(B.stats).map(([Y,E])=>{const U=B.boostedStats[Y]||0,Q=(E||0)+U;return Q===0?null:n.jsxs(le,{variant:"secondary",className:"text-[10px] px-1 h-4",children:["+",Q," ",Y]},Y)})})]})},B.inventoryId))})]})}),n.jsx(gt,{open:!!p,onOpenChange:()=>{v(null),_(1)},children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{className:"font-serif",children:"Boost Equipment Stats"}),n.jsxs(Nt,{children:["Spend 10 Training Points per stat point. Max ",F.toLocaleString()," (",t?.rank||"Novice"," rank)."]})]}),p&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-tier-x/10 border border-tier-x/20",children:[n.jsx("span",{className:"text-sm font-medium",children:"Available TP"}),n.jsxs("span",{className:"font-mono font-bold text-tier-x",children:[t.trainingPoints||0," TP"]})]}),n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Boost Amount:"}),[1,10,100,1e3].map(B=>n.jsxs(T,{size:"sm",variant:C===B?"default":"outline",onClick:()=>_(B),"data-testid":`button-boost-scale-${B}`,children:["+",B]},B))]}),n.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:["Cost: ",10*C," TP per boost"]}),n.jsx("div",{className:"grid gap-2",children:["Str","Int","Spd","Luck","Pot"].map(B=>{const Y=Do(p.itemId);if(!Y)return null;const E=p.stats?.[B]||0,U=Y.stats[B]||0,Q=U+E,A=10*C;return n.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-bold uppercase",children:B}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Total: ",Q," (Base: ",U," + Boost: ",E,")"]})]}),n.jsxs(T,{size:"sm",disabled:b||t.trainingPoints<A||Q>=F,onClick:()=>K(B,C),className:"gap-1","data-testid":`button-boost-${B}`,children:["+",C," ",B]})]},B)})})]}),n.jsx(Lt,{children:n.jsx(T,{variant:"outline",onClick:()=>{v(null),_(1)},children:"Close"})})]})}),n.jsx(gt,{open:!!w,onOpenChange:()=>S(null),children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsxs(ht,{className:"font-serif flex items-center gap-2",children:[n.jsx(um,{className:"w-5 h-5 text-green-500"}),"Sell Item"]}),n.jsx(Nt,{children:"Sell this item for 50% of its original value."})]}),w&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"p-4 rounded-lg border bg-card",children:[n.jsx("h4",{className:"font-serif font-semibold",children:w.item.name}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:Object.entries(w.item.stats).map(([B,Y])=>Y?n.jsxs(le,{variant:"secondary",className:"text-xs",children:["+",Y," ",B]},B):null)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 rounded-md bg-secondary/30",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Original Price"}),n.jsxs("p",{className:"font-mono font-bold text-muted-foreground line-through",children:[w.item.price.toLocaleString()," gold"]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-green-500",children:"You Receive"}),n.jsxs("p",{className:"font-mono font-bold text-green-500",children:[Math.floor(w.item.price*.5).toLocaleString()," gold"]})]})]}),n.jsx("div",{className:"text-center text-xs text-amber-500",children:"This action cannot be undone!"})]}),n.jsxs(Lt,{children:[n.jsx(T,{variant:"outline",onClick:()=>S(null),children:"Cancel"}),n.jsxs(T,{onClick:$,disabled:k,className:"bg-green-600 hover:bg-green-700","data-testid":"button-confirm-sell",children:[n.jsx(rr,{className:"w-4 h-4 mr-2"}),k?"Selling...":"Sell Item"]})]})]})})]})}function n5(){const[,e]=Un(),{account:t,inventory:s,logout:i}=Qn(),{toast:l}=Wn(),{data:c=[],isLoading:u}=lt({queryKey:["/api/events"]}),{data:f=[],isLoading:h}=lt({queryKey:["/api/accounts",t?.id,"events"],enabled:!!t?.id}),p=x.useMemo(()=>new Set(f.map(k=>k.eventId)),[f]),v=async k=>{if(t)try{await ve("POST",`/api/events/${k.id}/register`,{accountId:t.id}),l({title:"Registered!",description:`You are now registered for ${k.name}.`}),me.invalidateQueries({queryKey:["/api/accounts",t.id,"events"]})}catch{l({title:"Registration failed",description:"Could not register for this event.",variant:"destructive"})}},b=async k=>{if(t){if(k.isMandatory){l({title:"Cannot unregister",description:"This is a mandatory event. You cannot unregister.",variant:"destructive"});return}try{await ve("DELETE",`/api/events/${k.id}/register/${t.id}`),l({title:"Unregistered",description:`You have been removed from ${k.name}.`}),me.invalidateQueries({queryKey:["/api/accounts",t.id,"events"]})}catch{l({title:"Failed to unregister",description:"Could not unregister from this event.",variant:"destructive"})}}},N=()=>{i(),e("/")};if(!t||t.role!=="player")return e("/"),null;const C=u||h,_=c.filter(k=>new Date(k.startDate)>new Date),w=c.filter(k=>{const I=new Date,L=new Date(k.startDate),P=k.endDate?new Date(k.endDate):null;return L<=I&&(!P||P>=I)}),S=c.filter(k=>{const I=k.endDate?new Date(k.endDate):null;return I&&I<new Date});return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(T,{variant:"ghost",size:"icon",onClick:()=>e("/shop"),"data-testid":"button-back",children:n.jsx(Qm,{className:"w-5 h-5"})}),n.jsx("h1",{className:"font-serif text-xl font-bold text-foreground","data-testid":"text-events-title",children:"Events"}),n.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),className:"toggle-elevate","data-testid":"link-shop",children:[n.jsx(kn,{className:"w-4 h-4 mr-1.5"}),"Shop"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),className:"toggle-elevate","data-testid":"link-inventory",children:[n.jsx(bn,{className:"w-4 h-4 mr-1.5"}),"Inventory (",s.length,")"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/events"),className:"toggle-elevate toggle-elevated","data-testid":"link-events",children:[n.jsx(en,{className:"w-4 h-4 mr-1.5"}),"Events"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/challenges"),className:"toggle-elevate","data-testid":"link-challenges",children:[n.jsx(St,{className:"w-4 h-4 mr-1.5"}),"Challenges"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/npc-battle"),className:"toggle-elevate","data-testid":"link-npc-battle",children:[n.jsx(Ht,{className:"w-4 h-4 mr-1.5"}),"NPC Tower"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/quests"),className:"toggle-elevate","data-testid":"link-quests",children:[n.jsx(Nr,{className:"w-4 h-4 mr-1.5"}),"Quests"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/leaderboard"),className:"toggle-elevate","data-testid":"link-leaderboard",children:[n.jsx(yt,{className:"w-4 h-4 mr-1.5"}),"Leaderboard"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),className:"toggle-elevate","data-testid":"link-guild",children:[n.jsx(Ht,{className:"w-4 h-4 mr-1.5"}),"Guild"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),className:"toggle-elevate","data-testid":"link-trading",children:[n.jsx(kr,{className:"w-4 h-4 mr-1.5"}),"Trade"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium text-foreground","data-testid":"text-player-name",children:t.username}),n.jsx("p",{className:"text-xs text-muted-foreground","data-testid":"text-player-rank",children:t.rank})]}),n.jsx(T,{variant:"outline",size:"icon",onClick:N,"data-testid":"button-logout",children:n.jsx(ar,{className:"w-4 h-4"})})]})]})})}),n.jsx("main",{className:"container mx-auto px-4 py-6",children:C?n.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading events..."}):c.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(en,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"font-serif text-lg font-semibold mb-2",children:"No Events Yet"}),n.jsx("p",{className:"text-muted-foreground",children:"Check back later for upcoming events!"})]}):n.jsxs("div",{className:"space-y-8",children:[w.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"font-serif text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Gs,{className:"w-5 h-5 text-green-500"}),"Active Events"]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(k=>n.jsx(Yf,{event:k,isRegistered:p.has(k.id),onRegister:v,onUnregister:b,registration:f.find(I=>I.eventId===k.id)},k.id))})]}),_.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"font-serif text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(en,{className:"w-5 h-5 text-blue-500"}),"Upcoming Events"]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(k=>n.jsx(Yf,{event:k,isRegistered:p.has(k.id),onRegister:v,onUnregister:b,registration:f.find(I=>I.eventId===k.id)},k.id))})]}),S.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"font-serif text-lg font-semibold mb-4 flex items-center gap-2 text-muted-foreground",children:[n.jsx(en,{className:"w-5 h-5"}),"Past Events"]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 opacity-60",children:S.map(k=>n.jsx(Yf,{event:k,isRegistered:p.has(k.id),isPast:!0,registration:f.find(I=>I.eventId===k.id)},k.id))})]})]})})]})}function Yf({event:e,isRegistered:t,isPast:s,onRegister:i,onUnregister:l,registration:c}){return n.jsxs(Te,{"data-testid":`card-event-${e.id}`,children:[n.jsx(He,{className:"pb-2",children:n.jsxs(Qe,{className:"font-serif text-base flex items-center justify-between gap-2",children:[n.jsx("span",{children:e.name}),n.jsxs("div",{className:"flex gap-1",children:[e.isMandatory&&n.jsxs(le,{variant:"destructive",className:"text-[10px]",children:[n.jsx(mm,{className:"w-3 h-3 mr-1"}),"Mandatory"]}),t&&n.jsxs(le,{variant:"secondary",className:"text-[10px] bg-green-500/20 text-green-600",children:[n.jsx(cs,{className:"w-3 h-3 mr-1"}),"Registered"]})]})]})}),n.jsxs(Le,{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),n.jsxs("div",{className:"text-xs space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(en,{className:"w-3 h-3"}),n.jsxs("span",{children:["Start: ",new Date(e.startDate).toLocaleDateString()," ",new Date(e.startDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.endDate&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(en,{className:"w-3 h-3"}),n.jsxs("span",{children:["End: ",new Date(e.endDate).toLocaleDateString()," ",new Date(e.endDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),c?.isAutoRegistered&&n.jsx("p",{className:"text-[10px] text-muted-foreground italic",children:"Auto-registered (mandatory event)"}),!s&&n.jsx("div",{className:"pt-2",children:t?n.jsx(T,{size:"sm",variant:"outline",className:"w-full",onClick:()=>l?.(e),disabled:e.isMandatory,"data-testid":`button-unregister-${e.id}`,children:e.isMandatory?"Cannot Unregister":"Unregister"}):n.jsxs(T,{size:"sm",className:"w-full",onClick:()=>i?.(e),"data-testid":`button-register-${e.id}`,children:[n.jsx(Ry,{className:"w-3.5 h-3.5 mr-1"}),"Register"]})})]})]})}function r5(){const[,e]=Un(),{account:t,logout:s}=Qn(),{toast:i}=Wn(),[l,c]=x.useState(!1),{data:u=[],isLoading:f}=lt({queryKey:["/api/challenges",t?.id],queryFn:async()=>{if(!t?.id)return[];const P=await fetch(`/api/challenges?accountId=${t.id}`,{credentials:"include"});if(!P.ok)throw new Error("Failed to fetch challenges");return P.json()},enabled:!!t?.id}),{data:h=[]}=lt({queryKey:["/api/accounts"]}),p=x.useMemo(()=>h.filter(P=>P.id!==t?.id),[h,t?.id]),v=u.filter(P=>P.challengedId===t?.id&&P.status==="pending"),b=u.filter(P=>P.challengerId===t?.id&&P.status==="pending"),N=u.filter(P=>P.status==="accepted"),C=u.filter(P=>P.status==="completed"),_=async P=>{if(t)try{await ve("POST","/api/challenges",{challengerId:t.id,challengedId:P}),i({title:"Challenge Sent!",description:"Your challenge has been sent to the player."}),me.invalidateQueries({queryKey:["/api/challenges",t.id]}),c(!1)}catch{i({title:"Challenge failed",description:"Could not send the challenge.",variant:"destructive"})}},w=async P=>{if(t)try{await ve("PATCH",`/api/challenges/${P}/accept`),i({title:"Challenge Accepted!",description:"The challenge has been accepted. Awaiting admin to select winner."}),me.invalidateQueries({queryKey:["/api/challenges",t.id]})}catch{i({title:"Failed to accept",description:"Could not accept the challenge.",variant:"destructive"})}},S=async P=>{if(t)try{await ve("PATCH",`/api/challenges/${P}/decline`),i({title:"Challenge Declined",description:"You have declined the challenge."}),me.invalidateQueries({queryKey:["/api/challenges",t.id]})}catch{i({title:"Failed to decline",description:"Could not decline the challenge.",variant:"destructive"})}},k=async P=>{if(t)try{await ve("PATCH",`/api/challenges/${P}/cancel`),i({title:"Challenge Cancelled",description:"Your challenge has been cancelled."}),me.invalidateQueries({queryKey:["/api/challenges",t.id]})}catch{i({title:"Failed to cancel",description:"Could not cancel the challenge.",variant:"destructive"})}},I=()=>{s(),e("/")};if(!t||t.role!=="player")return e("/"),null;const L=P=>{switch(P){case"pending":return n.jsxs(le,{variant:"secondary",children:[n.jsx(Gs,{className:"w-3 h-3 mr-1"}),"Pending"]});case"accepted":return n.jsxs(le,{className:"bg-yellow-600",children:[n.jsx(St,{className:"w-3 h-3 mr-1"}),"In Progress"]});case"completed":return n.jsxs(le,{className:"bg-green-600",children:[n.jsx(yt,{className:"w-3 h-3 mr-1"}),"Completed"]});case"declined":return n.jsxs(le,{variant:"destructive",children:[n.jsx($r,{className:"w-3 h-3 mr-1"}),"Declined"]});case"cancelled":return n.jsxs(le,{variant:"outline",children:[n.jsx($r,{className:"w-3 h-3 mr-1"}),"Cancelled"]});default:return n.jsx(le,{variant:"secondary",children:P})}};return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container mx-auto px-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(T,{variant:"ghost",size:"icon",onClick:()=>e("/shop"),"data-testid":"button-back",children:n.jsx(Qm,{className:"w-5 h-5"})}),n.jsx("h1",{className:"font-serif text-xl font-bold text-foreground","data-testid":"text-challenges-title",children:"Challenges"}),n.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),"data-testid":"button-nav-shop",children:[n.jsx(kn,{className:"w-4 h-4 mr-2"}),"Shop"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),"data-testid":"button-nav-inventory",children:[n.jsx(bn,{className:"w-4 h-4 mr-2"}),"Inventory"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/events"),"data-testid":"button-nav-events",children:[n.jsx(en,{className:"w-4 h-4 mr-2"}),"Events"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/npc-battle"),"data-testid":"button-nav-npc",children:[n.jsx(Ht,{className:"w-4 h-4 mr-2"}),"NPC Tower"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/quests"),"data-testid":"button-nav-quests",children:[n.jsx(Nr,{className:"w-4 h-4 mr-2"}),"Quests"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/leaderboard"),"data-testid":"button-nav-leaderboard",children:[n.jsx(yt,{className:"w-4 h-4 mr-2"}),"Leaderboard"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),"data-testid":"button-nav-guild",children:[n.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Guild"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),"data-testid":"link-trading",children:[n.jsx(kr,{className:"w-4 h-4 mr-2"}),"Trade"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:["W: ",t.wins]}),n.jsxs("span",{className:"text-muted-foreground",children:["L: ",t.losses]})]}),n.jsxs(gt,{open:l,onOpenChange:c,children:[n.jsx(Vs,{asChild:!0,children:n.jsxs(T,{size:"sm","data-testid":"button-new-challenge",children:[n.jsx(St,{className:"w-4 h-4 mr-2"}),"New Challenge"]})}),n.jsxs(mt,{children:[n.jsx(pt,{children:n.jsx(ht,{children:"Challenge a Player"})}),n.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:p.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No other players available"}):p.map(P=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ay,{className:"w-5 h-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:P.username}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[P.wins,"W - ",P.losses,"L"]})]})]}),n.jsxs(T,{size:"sm",onClick:()=>_(P.id),"data-testid":`button-challenge-${P.id}`,children:[n.jsx(St,{className:"w-4 h-4 mr-1"}),"Challenge"]})]},P.id))})]})]}),n.jsxs(T,{variant:"outline",size:"sm",onClick:I,"data-testid":"button-logout",children:[n.jsx(ar,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}),n.jsxs("div",{className:"flex sm:hidden items-center gap-2 mt-3 overflow-x-auto pb-2",children:[n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),children:[n.jsx(kn,{className:"w-4 h-4 mr-1"}),"Shop"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),children:[n.jsx(bn,{className:"w-4 h-4 mr-1"}),"Inventory"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/pets"),children:[n.jsx(jr,{className:"w-4 h-4 mr-1"}),"Pets"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/events"),children:[n.jsx(en,{className:"w-4 h-4 mr-1"}),"Events"]})]})]})}),n.jsx("main",{className:"container mx-auto px-4 py-8 space-y-8",children:f?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading challenges..."})}):n.jsxs(n.Fragment,{children:[v.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"font-serif text-lg font-bold text-foreground mb-4 flex items-center gap-2",children:[n.jsx(St,{className:"w-5 h-5 text-primary"}),"Incoming Challenges (",v.length,")"]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:v.map(P=>n.jsxs(Te,{className:"border-primary/50",children:[n.jsx(He,{className:"pb-2",children:n.jsxs(Qe,{className:"text-base flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${P.challengerOnline?"bg-green-500":"bg-muted-foreground/50"}`}),n.jsx("span",{className:"truncate",children:P.challengerName})]}),L(P.status)]})}),n.jsxs(Le,{children:[n.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Challenged you on ",new Date(P.createdAt).toLocaleDateString()]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(T,{size:"sm",onClick:()=>w(P.id),"data-testid":`button-accept-${P.id}`,children:[n.jsx(cs,{className:"w-4 h-4 mr-1"}),"Accept"]}),n.jsxs(T,{size:"sm",variant:"destructive",onClick:()=>S(P.id),"data-testid":`button-decline-${P.id}`,children:[n.jsx($r,{className:"w-4 h-4 mr-1"}),"Decline"]})]})]})]},P.id))})]}),b.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"font-serif text-lg font-bold text-foreground mb-4 flex items-center gap-2",children:[n.jsx(Gs,{className:"w-5 h-5 text-muted-foreground"}),"Sent Challenges (",b.length,")"]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:b.map(P=>n.jsxs(Te,{children:[n.jsx(He,{className:"pb-2",children:n.jsxs(Qe,{className:"text-base flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${P.challengedOnline?"bg-green-500":"bg-muted-foreground/50"}`}),n.jsx("span",{className:"truncate",children:P.challengedName})]}),L(P.status)]})}),n.jsxs(Le,{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Waiting for response..."}),n.jsxs(T,{size:"sm",variant:"outline",onClick:()=>k(P.id),"data-testid":`button-cancel-${P.id}`,children:[n.jsx($r,{className:"w-4 h-4 mr-1"}),"Cancel"]})]})]},P.id))})]}),N.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"font-serif text-lg font-bold text-foreground mb-4 flex items-center gap-2",children:[n.jsx(St,{className:"w-5 h-5 text-yellow-500"}),"Active Challenges (",N.length,")"]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:N.map(P=>{const F=P.challengerId===t.id,G=F?P.challengedName:P.challengerName,q=F?P.challengedOnline:P.challengerOnline;return n.jsxs(Te,{className:"border-yellow-500/50",children:[n.jsx(He,{className:"pb-2",children:n.jsxs(Qe,{className:"text-base flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${q?"bg-green-500":"bg-muted-foreground/50"}`}),n.jsxs("span",{className:"truncate",children:["vs ",G]})]}),L(P.status)]})}),n.jsxs(Le,{children:[n.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mb-2",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${P.challengerOnline?"bg-green-500":"bg-muted-foreground/50"}`}),P.challengerName]}),n.jsx("span",{children:"vs"}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${P.challengedOnline?"bg-green-500":"bg-muted-foreground/50"}`}),P.challengedName]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Awaiting admin to decide winner"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Accepted: ",new Date(P.acceptedAt).toLocaleDateString()]})]})]},P.id)})})]}),C.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"font-serif text-lg font-bold text-foreground mb-4 flex items-center gap-2",children:[n.jsx(yt,{className:"w-5 h-5 text-green-500"}),"Completed Challenges (",C.length,")"]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:C.map(P=>{const F=P.winnerId===t.id,G=P.challengerId===t.id?P.challengedName:P.challengerName;return n.jsxs(Te,{className:F?"border-green-500/50":"border-red-500/50",children:[n.jsx(He,{className:"pb-2",children:n.jsxs(Qe,{className:"text-base flex items-center justify-between gap-2",children:[n.jsxs("span",{className:"truncate",children:["vs ",G]}),n.jsx(le,{className:F?"bg-green-600":"bg-red-600",children:F?"Won":"Lost"})]})}),n.jsxs(Le,{children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Winner: ",P.winnerName]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Completed: ",P.completedAt?new Date(P.completedAt).toLocaleDateString():"N/A"]})]})]},P.id)})})]}),u.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(St,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"font-serif text-lg font-bold text-foreground mb-2",children:"No Challenges Yet"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Challenge other players to compete and earn wins!"}),n.jsxs(T,{onClick:()=>c(!0),"data-testid":"button-first-challenge",children:[n.jsx(St,{className:"w-4 h-4 mr-2"}),"Send Your First Challenge"]})]})]})})]})}var mp="Progress",pp=100,[s5]=Er(mp),[a5,i5]=s5(mp),Aw=x.forwardRef((e,t)=>{const{__scopeProgress:s,value:i=null,max:l,getValueLabel:c=o5,...u}=e;(l||l===0)&&!pv(l)&&console.error(l5(`${l}`,"Progress"));const f=pv(l)?l:pp;i!==null&&!hv(i,f)&&console.error(c5(`${i}`,"Progress"));const h=hv(i,f)?i:null,p=cd(h)?c(h,f):void 0;return n.jsx(a5,{scope:s,value:h,max:f,children:n.jsx(qe.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":cd(h)?h:void 0,"aria-valuetext":p,role:"progressbar","data-state":Mw(h,f),"data-value":h??void 0,"data-max":f,...u,ref:t})})});Aw.displayName=mp;var Lw="ProgressIndicator",Dw=x.forwardRef((e,t)=>{const{__scopeProgress:s,...i}=e,l=i5(Lw,s);return n.jsx(qe.div,{"data-state":Mw(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...i,ref:t})});Dw.displayName=Lw;function o5(e,t){return`${Math.round(e/t*100)}%`}function Mw(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function cd(e){return typeof e=="number"}function pv(e){return cd(e)&&!isNaN(e)&&e>0}function hv(e,t){return cd(e)&&!isNaN(e)&&e<=t&&e>=0}function l5(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${pp}\`.`}function c5(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${pp} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Ow=Aw,d5=Dw;const Td=x.forwardRef(({className:e,value:t,...s},i)=>n.jsx(Ow,{ref:i,className:we("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:n.jsx(d5,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Td.displayName=Ow.displayName;const gv={egg:"bg-gray-500/20 text-gray-400 border-gray-500/30",baby:"bg-green-500/20 text-green-400 border-green-500/30",teen:"bg-blue-500/20 text-blue-400 border-blue-500/30",adult:"bg-purple-500/20 text-purple-400 border-purple-500/30",legend:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",mythic:"bg-pink-500/20 text-pink-400 border-pink-500/30"},xv={egg:"",baby:"",teen:"",adult:"",legend:"",mythic:""},vv={Fire:"text-red-500",Water:"text-blue-500",Earth:"text-amber-600",Air:"text-sky-400",Lightning:"text-yellow-400",Ice:"text-cyan-300",Nature:"text-green-500",Dark:"text-purple-600",Light:"text-yellow-200",Arcana:"text-violet-500",Chrono:"text-indigo-400",Plasma:"text-pink-500",Void:"text-gray-600",Aether:"text-teal-400",Hybrid:"text-orange-500","Elemental Convergence":"text-transparent bg-clip-text bg-gradient-to-r from-red-500 via-blue-500 to-green-500",Time:"text-amber-400",Space:"text-indigo-600",Soul:"text-cyan-400",Mind:"text-pink-400"};function u5(){const[,e]=Un(),{account:t,setAccount:s,logout:i}=Qn(),{toast:l}=Wn(),[c,u]=x.useState(null),[f,h]=x.useState(null),[p,v]=x.useState(!1),[b,N]=x.useState(100),[C,_]=x.useState(!1),[w,S]=x.useState(!1),[k,I]=x.useState(null),[L,P]=x.useState(null),[F,G]=x.useState(!1),{data:q=[],isLoading:X,refetch:se}=lt({queryKey:["/api/accounts",t?.id,"pets"],queryFn:async()=>t?.id?(await fetch(`/api/accounts/${t.id}/pets`)).json():[],enabled:!!t?.id}),ce=x.useMemo(()=>{const E={egg:[],baby:[],teen:[],adult:[],legend:[],mythic:[]};return q.forEach(U=>{const Q=U.tier;E[Q]&&E[Q].push(U)}),E},[q]);x.useEffect(()=>{if(!t?.id)return;const E=new EventSource(`/api/player/events?accountId=${t.id}`);return E.addEventListener("petAdded",U=>{const Q=JSON.parse(U.data);me.setQueryData(["/api/accounts",t.id,"pets"],A=>A?A.find(H=>H.id===Q.id)?A:[...A,Q]:[Q]),l({title:"New Pet Received!",description:`${Q.name} has joined your collection.`})}),E.addEventListener("petUpdated",U=>{const Q=JSON.parse(U.data);me.setQueryData(["/api/accounts",t.id,"pets"],A=>A?A.map(H=>H.id===Q.id?Q:H):[Q])}),E.addEventListener("petRemoved",U=>{const{petId:Q}=JSON.parse(U.data);me.setQueryData(["/api/accounts",t.id,"pets"],A=>A?A.filter(H=>H.id!==Q):[]),l({title:"Pet Removed",description:"A pet has been removed from your collection."})}),E.onerror=()=>{E.close()},()=>{E.close()}},[t?.id,l]);const ge=async E=>{if(!(!c||!t)){v(!0);try{await(await ve("POST",`/api/pets/${c.id}/feed`,{accountId:t.id,foodId:E.id})).json(),await se();const Q=await ve("GET",`/api/accounts/${t.id}`);s(await Q.json()),l({title:"Pet Fed!",description:`Used ${E.name} to add ${E.exp} EXP to ${c.name}.`}),u(null),h(null)}catch(U){const Q=await U.json?.()||{error:"Could not feed pet."};l({title:"Feed Failed",description:Q.error||"Could not feed pet.",variant:"destructive"})}finally{v(!1)}}},oe=async()=>{if(!(!c||!t||b<=0)){v(!0);try{await(await ve("POST",`/api/pets/${c.id}/feed-exp`,{accountId:t.id,amount:b})).json(),await se();const U=await ve("GET",`/api/accounts/${t.id}`);s(await U.json()),l({title:"Pet Fed!",description:`Added ${b.toLocaleString()} EXP to ${c.name}.`}),u(null),h(null),N(100)}catch(E){const U=await E.json?.()||{error:"Could not feed pet."};l({title:"Feed Failed",description:U.error||"Could not feed pet.",variant:"destructive"})}finally{v(!1)}}},K=async E=>{if(t){_(!0);try{const U=await ve("POST",`/api/pets/${E.id}/evolve`),{pet:Q,account:A}=await U.json();await se(),s(A),l({title:"Evolution Complete!",description:`${E.name} evolved to ${Q.tier}!`})}catch(U){const Q=await U.json?.()||{error:"Could not evolve pet."};l({title:"Evolution Failed",description:Q.error,variant:"destructive"})}finally{_(!1)}}},$=async()=>{if(!(!t||!k||!L)){G(!0);try{const U=await(await ve("POST",`/api/accounts/${t.id}/pets/merge`,{petId1:k.id,petId2:L.id})).json();await se();const Q=await ve("GET",`/api/accounts/${t.id}`);s(await Q.json()),l({title:"Pets Merged!",description:`Created a powerful new egg: ${U.newPet.name}`}),S(!1),I(null),P(null)}catch(E){const U=await E.json?.()||{error:"Could not merge pets."};l({title:"Merge Failed",description:U.error,variant:"destructive"})}finally{G(!1)}}},fe=q.filter(E=>E.tier==="mythic"),B=()=>{i(),e("/")};if(!t||t.role!=="player")return e("/"),null;const Y=E=>{const U=E.tier,Q=hE[U],A=E.stats,H=Q.maxExp?E.exp/Q.maxExp*100:100,_e=Q.maxExp!==null&&E.exp>=Q.maxExp;return n.jsxs(Te,{className:`border ${gv[U]}`,children:[n.jsx(He,{className:"pb-2",children:n.jsxs(Qe,{className:"text-base flex items-center justify-between gap-2",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xl",children:xv[U]}),n.jsx("span",{className:"truncate",children:E.name})]}),n.jsx(le,{className:gv[U],"data-testid":`badge-pet-tier-${E.id}`,children:U.charAt(0).toUpperCase()+U.slice(1)})]})}),n.jsxs(Le,{className:"space-y-3",children:[n.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:(E.elements||[E.element]).map(Ee=>n.jsx(le,{variant:"outline",className:`text-xs ${vv[Ee]||"text-muted-foreground"}`,children:Ee},Ee))}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ks,{className:"w-3 h-3 text-red-400"}),n.jsxs("span",{children:["STR: ",A.Str]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(kt,{className:"w-3 h-3 text-blue-400"}),n.jsxs("span",{children:["SPD: ",A.Spd]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Iy,{className:"w-3 h-3 text-green-400"}),n.jsxs("span",{children:["LUCK: ",A.Luck]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(dk,{className:"w-3 h-3 text-orange-400"}),n.jsxs("span",{children:["ELEM: ",A.ElementalPower]})]})]}),Q.maxExp!==null&&n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsx("span",{children:"EXP"}),n.jsxs("span",{children:[E.exp," / ",Q.maxExp]})]}),n.jsx(Td,{value:H,className:"h-2"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(T,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>u(E),disabled:t.gold<=0&&(t.petExp||0)<=0,"data-testid":`button-feed-${E.id}`,children:[n.jsx(jr,{className:"w-3 h-3 mr-1"}),"Feed"]}),_e&&Q.evolutionCost!==null&&n.jsxs(T,{size:"sm",className:"flex-1 bg-gradient-to-r from-yellow-600 to-orange-600",onClick:()=>K(E),disabled:C||t.gold<Q.evolutionCost,"data-testid":`button-evolve-${E.id}`,children:[n.jsx(sk,{className:"w-3 h-3 mr-1"}),"Evolve (",Q.evolutionCost.toLocaleString(),"g)"]})]})]})]},E.id)};return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container mx-auto px-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h1",{className:"font-serif text-xl font-bold text-foreground","data-testid":"text-pets-title",children:"My Pets"}),n.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),"data-testid":"link-shop",children:[n.jsx(kn,{className:"w-4 h-4 mr-1.5"}),"Shop"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/skills"),"data-testid":"link-skills",children:[n.jsx(kt,{className:"w-4 h-4 mr-1.5"}),"Skills"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),"data-testid":"link-trading",children:[n.jsx(kr,{className:"w-4 h-4 mr-1.5"}),"Trade"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),"data-testid":"link-inventory",children:[n.jsx(bn,{className:"w-4 h-4 mr-1.5"}),"Inventory"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/challenges"),"data-testid":"link-challenges",children:[n.jsx(St,{className:"w-4 h-4 mr-1.5"}),"Challenges"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/events"),"data-testid":"link-events",children:[n.jsx(en,{className:"w-4 h-4 mr-1.5"}),"Events"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/npc-battle"),"data-testid":"link-npc",children:[n.jsx(Ht,{className:"w-4 h-4 mr-1.5"}),"NPC Tower"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/quests"),"data-testid":"link-quests",children:[n.jsx(Nr,{className:"w-4 h-4 mr-1.5"}),"Quests"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/leaderboard"),"data-testid":"link-leaderboard",children:[n.jsx(yt,{className:"w-4 h-4 mr-1.5"}),"Leaderboard"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),"data-testid":"link-guild",children:[n.jsx(Ht,{className:"w-4 h-4 mr-1.5"}),"Guild"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/skills"),"data-testid":"link-skills",children:[n.jsx(kt,{className:"w-4 h-4 mr-1.5"}),"Skills"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex items-center gap-2 text-sm",children:n.jsxs(le,{variant:"outline",className:"bg-tier-x/10 text-tier-x border-tier-x/30",children:[n.jsx(jr,{className:"w-3 h-3 mr-1"}),t.petExp||0," Pet EXP"]})}),n.jsxs(T,{variant:"outline",size:"sm",onClick:B,"data-testid":"button-logout",children:[n.jsx(ar,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}),n.jsxs("div",{className:"flex sm:hidden items-center gap-2 mt-3 overflow-x-auto pb-2",children:[n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),children:[n.jsx(kn,{className:"w-4 h-4 mr-1"}),"Shop"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),children:[n.jsx(bn,{className:"w-4 h-4 mr-1"}),"Inventory"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/challenges"),children:[n.jsx(St,{className:"w-4 h-4 mr-1"}),"Challenges"]})]})]})}),n.jsx("main",{className:"container mx-auto px-4 py-8 space-y-8",children:X?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading pets..."})}):q.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(jr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"You don't have any pets yet."})]}):Bc.map(E=>{const U=ce[E];return U.length===0?null:n.jsxs("section",{children:[n.jsxs("h2",{className:"font-serif text-lg font-bold text-foreground mb-4 flex items-center gap-2",children:[n.jsx("span",{className:"text-xl",children:xv[E]}),E.charAt(0).toUpperCase()+E.slice(1)," (",U.length,")"]}),n.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:U.map(Y)})]},E)})}),fe.length>=2&&n.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:n.jsxs(T,{size:"lg",onClick:()=>S(!0),className:"shadow-lg bg-pink-600 hover:bg-pink-700","data-testid":"button-open-merge",children:[n.jsx(Ix,{className:"w-5 h-5 mr-2"}),"Merge Mythic Pets"]})}),n.jsx(gt,{open:w,onOpenChange:E=>{S(E),E||(I(null),P(null))},children:n.jsxs(mt,{className:"max-w-md",children:[n.jsxs(pt,{children:[n.jsxs(ht,{className:"font-serif flex items-center gap-2",children:[n.jsx(Ix,{className:"w-5 h-5 text-pink-500"}),"Merge Mythic Pets"]}),n.jsx(Nt,{children:"Combine two mythic pets to create a powerful new egg with combined elements and boosted stats. Cost: 1,000,000,000 Gold"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-yellow-500/10 border border-yellow-500/20",children:[n.jsxs("span",{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(rr,{className:"w-4 h-4 text-yellow-500"}),"Your Gold"]}),n.jsx("span",{className:`font-mono font-bold ${t.gold>=1e9?"text-green-500":"text-red-500"}`,children:t.gold.toLocaleString()})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"First Mythic Pet"}),n.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:fe.filter(E=>E.id!==L?.id).map(E=>n.jsx(T,{variant:k?.id===E.id?"default":"outline",size:"sm",onClick:()=>I(E),className:"justify-start","data-testid":`button-select-pet1-${E.id}`,children:E.name},E.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Second Mythic Pet"}),n.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:fe.filter(E=>E.id!==k?.id).map(E=>n.jsx(T,{variant:L?.id===E.id?"default":"outline",size:"sm",onClick:()=>P(E),className:"justify-start","data-testid":`button-select-pet2-${E.id}`,children:E.name},E.id))})]})]}),k&&L&&n.jsxs("div",{className:"p-3 rounded-lg bg-pink-500/10 border border-pink-500/30",children:[n.jsx("p",{className:"text-sm font-medium text-pink-400 mb-2",children:"Combined Elements:"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from(new Set([...k.elements||[k.element],...L.elements||[L.element]])).map(E=>n.jsx(le,{variant:"outline",className:`text-xs ${vv[E]||""}`,children:E},E))})]})]}),n.jsxs(Lt,{children:[n.jsx(T,{variant:"outline",onClick:()=>{S(!1),I(null),P(null)},children:"Cancel"}),n.jsx(T,{onClick:$,disabled:F||!k||!L||t.gold<1e9,className:"bg-pink-600 hover:bg-pink-700","data-testid":"button-confirm-merge",children:F?"Merging...":"Merge (1B Gold)"})]})]})}),n.jsx(gt,{open:!!c,onOpenChange:()=>{u(null),h(null)},children:n.jsxs(mt,{className:"max-w-lg",children:[n.jsxs(pt,{children:[n.jsxs(ht,{className:"font-serif",children:["Feed ",c?.name]}),n.jsx(Nt,{children:"Use your Pet EXP or buy food with gold to increase your pet's experience."})]}),c&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-yellow-500/10 border border-yellow-500/20",children:[n.jsx("span",{className:"text-sm font-medium",children:"Gold"}),n.jsx("span",{className:"font-mono font-bold text-yellow-500",children:(t.gold||0).toLocaleString()})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-purple-500/10 border border-purple-500/20",children:[n.jsx("span",{className:"text-sm font-medium",children:"Pet EXP"}),n.jsx("span",{className:"font-mono font-bold text-purple-500",children:(t.petExp||0).toLocaleString()})]})]}),n.jsxs("div",{className:"space-y-2 p-3 rounded-md bg-purple-500/10 border border-purple-500/20",children:[n.jsx("span",{className:"text-sm font-medium text-purple-400",children:"Use Pet EXP"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tt,{type:"number",min:1,max:t.petExp||0,value:b,onChange:E=>N(Math.min(Number(E.target.value)||0,t.petExp||0)),className:"flex-1","data-testid":"input-pet-exp-amount"}),n.jsxs(T,{size:"sm",onClick:oe,disabled:p||b<=0||b>(t.petExp||0),className:"bg-purple-600 hover:bg-purple-700","data-testid":"button-feed-with-exp",children:["Feed ",b.toLocaleString()," EXP"]})]})]}),n.jsxs("div",{className:"relative py-2",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-border"})}),n.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:n.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or buy food"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Pet Food Shop"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:CE.map(E=>{const U=(t.gold||0)>=E.price;return n.jsx(Te,{className:`cursor-pointer transition-all ${f?.id===E.id?"ring-2 ring-primary":""} ${U?"hover-elevate":"opacity-50"}`,onClick:()=>U&&h(E),"data-testid":`card-food-${E.id}`,children:n.jsx(Le,{className:"p-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:E.name}),n.jsxs("p",{className:"text-xs text-green-500",children:["+",E.exp.toLocaleString()," EXP"]})]}),n.jsxs(le,{variant:"outline",className:"text-yellow-500",children:[n.jsx(rr,{className:"w-3 h-3 mr-1"}),E.price.toLocaleString()]})]})})},E.id)})})]}),f&&n.jsxs("div",{className:"text-center text-sm text-muted-foreground p-2 bg-muted/50 rounded-md",children:["Feed ",c.name," with ",f.name," for ",f.exp.toLocaleString()," EXP"]})]}),n.jsxs(Lt,{children:[n.jsx(T,{variant:"outline",onClick:()=>{u(null),h(null)},children:"Cancel"}),n.jsx(T,{onClick:()=>f&&ge(f),disabled:p||!f,"data-testid":"button-confirm-feed",children:p?"Feeding...":f?`Buy & Feed (${f.price.toLocaleString()} Gold)`:"Select Food"})]})]})})]})}const yv={Fire:"text-red-500 border-red-500",Water:"text-blue-500 border-blue-500",Earth:"text-amber-700 border-amber-700",Air:"text-sky-400 border-sky-400",Lightning:"text-yellow-400 border-yellow-400",Ice:"text-cyan-300 border-cyan-300",Nature:"text-green-500 border-green-500",Dark:"text-purple-800 border-purple-800",Light:"text-yellow-100 border-yellow-100",Arcana:"text-violet-500 border-violet-500",Chrono:"text-amber-400 border-amber-400",Plasma:"text-pink-500 border-pink-500",Void:"text-gray-600 border-gray-600",Aether:"text-indigo-400 border-indigo-400",Hybrid:"text-gradient bg-gradient-to-r from-red-500 to-blue-500 border-purple-400","Elemental Convergence":"text-white border-white",Time:"text-amber-300 border-amber-300",Space:"text-indigo-300 border-indigo-300"};function f5(){const[,e]=Un(),{account:t,logout:s}=Qn(),{toast:i}=Wn(),l=Bm(),[c,u]=x.useState(null),[f,h]=x.useState(!1),{data:p}=lt({queryKey:["/api/accounts",t?.id,"current-npc"],queryFn:async()=>{if(!t?.id)return null;const S=await fetch(`/api/accounts/${t.id}/current-npc`);if(!S.ok)throw new Error("Failed to fetch NPC");return S.json()},enabled:!!t?.id}),{data:v}=lt({queryKey:["/api/accounts",t?.id,"pets"],queryFn:async()=>{if(!t?.id)return[];const S=await fetch(`/api/accounts/${t.id}/pets`);if(!S.ok)throw new Error("Failed to fetch pets");return S.json()},enabled:!!t?.id}),b=Mt({mutationFn:async S=>(await ve("POST",`/api/accounts/${t?.id}/equip-pet`,{petId:S})).json(),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/accounts",t?.id,"current-npc"]}),h(!1),i({title:"Pet equipped",description:"Your pet is ready for battle"})},onError:()=>{i({title:"Error",description:"Failed to equip pet",variant:"destructive"})}}),N=Mt({mutationFn:async()=>(await ve("POST",`/api/accounts/${t?.id}/npc-battle`)).json(),onSuccess:S=>{u(S),l.invalidateQueries({queryKey:["/api/accounts",t?.id,"current-npc"]})},onError:()=>{i({title:"Error",description:"Battle failed",variant:"destructive"})}}),C=()=>{s(),e("/")};if(!t||t.role!=="player")return e("/"),null;const _=p?(p.floor-1)*100+p.level:1,w=p?(p.level-1)/99*100:0;return n.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[n.jsx("header",{className:"border-b border-border bg-card/50 backdrop-blur sticky top-0 z-50",children:n.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h1",{className:"text-xl font-bold font-serif text-primary",children:"NPC Tower"}),n.jsxs("nav",{className:"flex gap-2",children:[n.jsx(T,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),"data-testid":"link-shop",children:"Shop"}),n.jsx(T,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),"data-testid":"link-inventory",children:"Inventory"}),n.jsx(T,{variant:"ghost",size:"sm",onClick:()=>e("/pets"),"data-testid":"link-pets",children:"Pets"}),n.jsx(T,{variant:"ghost",size:"sm",onClick:()=>e("/challenges"),"data-testid":"link-challenges",children:"Challenges"}),n.jsx(T,{variant:"ghost",size:"sm",onClick:()=>e("/events"),"data-testid":"link-events",children:"Events"}),n.jsx(T,{variant:"secondary",size:"sm","data-testid":"link-npc-active",children:"NPC Battle"}),n.jsx(T,{variant:"ghost",size:"sm",onClick:()=>e("/quests"),"data-testid":"link-quests",children:"Quests"}),n.jsx(T,{variant:"ghost",size:"sm",onClick:()=>e("/leaderboard"),"data-testid":"link-leaderboard",children:"Leaderboard"}),n.jsx(T,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),"data-testid":"link-guild",children:"Guild"}),n.jsx(T,{variant:"ghost",size:"sm",onClick:()=>e("/skills"),"data-testid":"link-skills",children:"Skills"}),n.jsx(T,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),"data-testid":"link-trading",children:"Trade"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:t.username}),n.jsx(T,{variant:"ghost",size:"sm",onClick:C,"data-testid":"button-logout",children:n.jsx(ar,{className:"w-4 h-4"})})]})]})}),n.jsx("main",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[n.jsxs(Te,{children:[n.jsx(He,{children:n.jsxs(Qe,{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"w-5 h-5 text-primary"}),"Current Progress"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Floor"}),n.jsxs(le,{variant:"outline",className:"text-lg",children:[p?.floor||1," / 50"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Level"}),n.jsxs(le,{variant:"outline",className:"text-lg",children:[p?.level||1," / 100"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Global Level"}),n.jsx("span",{className:"text-xl font-bold text-primary",children:_.toLocaleString()})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mb-1",children:[n.jsx("span",{children:"Floor Progress"}),n.jsxs("span",{children:[p?.level||1,"%"]})]}),n.jsx(Td,{value:w,className:"h-2"})]})]})]}),n.jsxs(Te,{children:[n.jsx(He,{children:n.jsxs(Qe,{className:"flex items-center gap-2",children:[n.jsx(Hc,{className:"w-5 h-5 text-primary"}),"Equipped Pet"]})}),n.jsx(Le,{children:p?.equippedPet?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-semibold",children:p.equippedPet.name}),n.jsx(le,{children:p.equippedPet.tier})]}),n.jsx("div",{className:"flex flex-wrap gap-1",children:p.equippedPet.elements.map(S=>n.jsx(le,{variant:"outline",className:`text-xs ${yv[S]||""}`,children:S},S))}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[n.jsxs("div",{children:["STR: ",p.equippedPet.stats?.Str||0]}),n.jsxs("div",{children:["SPD: ",p.equippedPet.stats?.Spd||0]}),n.jsxs("div",{children:["LUCK: ",p.equippedPet.stats?.Luck||0]}),n.jsxs("div",{children:["ELEM: ",p.equippedPet.stats?.ElementalPower||0]})]}),n.jsx(T,{variant:"outline",size:"sm",className:"w-full",onClick:()=>h(!0),"data-testid":"button-change-pet",children:"Change Pet"})]}):n.jsxs("div",{className:"text-center py-4",children:[n.jsx("p",{className:"text-muted-foreground mb-3",children:"No pet equipped"}),n.jsxs(T,{onClick:()=>h(!0),"data-testid":"button-equip-pet",children:[n.jsx(Hc,{className:"w-4 h-4 mr-2"}),"Equip Pet"]})]})})]})]}),n.jsxs(Te,{className:"mb-6",children:[n.jsxs(He,{children:[n.jsx(Qe,{className:"flex items-center gap-2",children:p?.isBoss?n.jsxs(n.Fragment,{children:[n.jsx(ds,{className:"w-6 h-6 text-yellow-500"}),n.jsx("span",{className:"text-yellow-500",children:p?.name||"Floor Boss"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Rx,{className:"w-6 h-6 text-muted-foreground"}),n.jsx("span",{children:p?.name||"Loading..."})]})}),p?.isBoss&&p.bossAbility&&n.jsxs(un,{className:"text-yellow-500/80",children:[n.jsx(kt,{className:"w-4 h-4 inline mr-1"}),p.bossAbility.name,": ",p.bossAbility.description]})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-muted-foreground text-sm",children:"Power"}),n.jsx("div",{className:"text-2xl font-bold text-red-500",children:p?.power?.toLocaleString()||"?"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-muted-foreground text-sm",children:"Floor Range"}),n.jsxs("div",{className:"text-sm",children:[p?.powerRange?.min.toLocaleString()," - ",p?.powerRange?.max.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-muted-foreground text-sm",children:"Type"}),n.jsx(le,{variant:p?.isBoss?"default":"secondary",children:p?.isBoss?"BOSS":"Normal"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-muted-foreground text-sm",children:"Immunities"}),n.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:p?.immuneElements?.length>0?p.immuneElements.map(S=>n.jsx(le,{variant:"destructive",className:"text-xs",children:S},S)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"None"})})]})]}),p?.immuneElements?.length>0&&n.jsxs("div",{className:"bg-destructive/10 border border-destructive/30 rounded-md p-3 text-sm",children:[n.jsx(tn,{className:"w-4 h-4 inline mr-2 text-destructive"}),"This NPC is immune to ",p.immuneElements.join(", ")," elements. Your pet's elemental power won't count if it has any of these elements."]}),p?.potentialRewards&&n.jsxs("div",{className:"bg-primary/10 border border-primary/30 rounded-md p-3",children:[n.jsx("div",{className:"text-sm font-semibold mb-2",children:"Victory Rewards:"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-yellow-500",children:"Gold:"}),n.jsx("span",{className:"font-mono",children:p.potentialRewards.gold.toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-blue-400",children:"TP:"}),n.jsx("span",{className:"font-mono",children:p.potentialRewards.trainingPoints.toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-purple-400",children:"Shards:"}),n.jsx("span",{className:"font-mono",children:p.potentialRewards.soulShards.toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-green-400",children:"Pet Exp:"}),n.jsx("span",{className:"font-mono",children:p.potentialRewards.petExp.toLocaleString()})]}),p.potentialRewards.runes>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-red-400",children:"Runes:"}),n.jsx("span",{className:"font-mono",children:p.potentialRewards.runes})]})]})]}),p?.requiredRank&&!p?.canFight&&n.jsxs("div",{className:"bg-destructive/20 border border-destructive/50 rounded-md p-3 text-center",children:[n.jsx("div",{className:"font-semibold text-destructive",children:"Rank Too Low"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["You need ",n.jsx("span",{className:"font-bold text-foreground",children:p.requiredRank})," rank to fight level ",_,"+. Your current rank: ",p.playerRank]})]}),n.jsx(T,{size:"lg",className:"w-full",onClick:()=>N.mutate(),disabled:N.isPending||!p?.canFight,"data-testid":"button-battle",children:N.isPending?"Fighting...":p?.canFight?n.jsxs(n.Fragment,{children:[n.jsx(Us,{className:"w-5 h-5 mr-2"}),"Challenge ",p?.isBoss?"Boss":"NPC"]}):n.jsxs(n.Fragment,{children:[n.jsx(tn,{className:"w-5 h-5 mr-2"}),"Rank Required: ",p?.requiredRank]})})]})]}),n.jsxs(Te,{children:[n.jsx(He,{children:n.jsx(Qe,{children:"Tower Info"})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"50 Floors"})," - Each floor has 100 NPC levels plus a boss at level 100"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Power Scaling"})," - NPCs get exponentially stronger on higher floors"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Boss Fights"})," - Bosses have max stats and special abilities"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Elemental Immunity"})," - Floor 2+ NPCs are immune to certain elements"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Rewards"})," - Earn gold, pet exp, and runes (bosses only) from victories"]}),n.jsx("p",{className:"text-xs opacity-60",children:"Note: NPC battles do not affect your win/loss record"})]})})]})]})}),n.jsx(gt,{open:f,onOpenChange:h,children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{children:"Select Pet for Battle"}),n.jsx(Nt,{children:"Choose a pet to help you in NPC battles"})]}),n.jsxs("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:[n.jsx(T,{variant:"outline",className:"w-full justify-start",onClick:()=>b.mutate(null),"data-testid":"button-unequip-pet",children:n.jsx("span",{className:"text-muted-foreground",children:"No Pet"})}),v?.map(S=>{const k=p?.equippedPet?.id===S.id,I=S.elements||[S.element];return n.jsxs(T,{variant:k?"secondary":"outline",className:"w-full justify-between",onClick:()=>b.mutate(S.id),"data-testid":`button-select-pet-${S.id}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:S.name}),n.jsx(le,{variant:"outline",children:S.tier}),I.map(L=>n.jsx(le,{variant:"outline",className:`text-xs ${yv[L]||""}`,children:L},L))]}),k&&n.jsx(cs,{className:"w-4 h-4 text-green-500"})]},S.id)})]})]})}),n.jsx(gt,{open:!!c,onOpenChange:()=>u(null),children:n.jsxs(mt,{children:[n.jsx(pt,{children:n.jsx(ht,{className:c?.won?"text-green-500":"text-red-500",children:c?.won?n.jsxs(n.Fragment,{children:[n.jsx(yt,{className:"w-6 h-6 inline mr-2"}),"Victory!"]}):n.jsxs(n.Fragment,{children:[n.jsx(Rx,{className:"w-6 h-6 inline mr-2"}),"Defeated"]})})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center text-lg",children:["vs ",c?.npcName,c?.isBoss&&n.jsx(le,{className:"ml-2 bg-yellow-500",children:"BOSS"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Your Power"}),n.jsx("div",{className:"text-xl font-bold text-green-500",children:c?.playerPower?.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"NPC Power"}),n.jsx("div",{className:"text-xl font-bold text-red-500",children:c?.npcPower?.toLocaleString()})]})]}),c?.equippedPet&&n.jsxs("div",{className:"bg-muted/50 rounded-md p-3 text-sm",children:[n.jsxs("div",{className:"font-semibold mb-1",children:["Pet: ",c.equippedPet.name]}),n.jsxs("div",{className:"text-muted-foreground",children:["Elements: ",c.equippedPet.elements.join(", ")]}),c.petElementImmune&&n.jsxs("div",{className:"text-destructive mt-1",children:[n.jsx(tn,{className:"w-3 h-3 inline mr-1"}),"Pet's elemental power was blocked by immunity"]})]}),c?.won&&n.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-md p-3",children:[n.jsx("div",{className:"font-semibold text-green-500 mb-2",children:"Rewards Collected!"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.rewards.gold>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-yellow-500",children:"Gold:"})," +",c.rewards.gold.toLocaleString()]}),c.rewards.trainingPoints>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-blue-400",children:"TP:"})," +",c.rewards.trainingPoints.toLocaleString()]}),c.rewards.soulShards>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-purple-400",children:"Soul Shards:"})," +",c.rewards.soulShards.toLocaleString()]}),c.rewards.petExp>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-green-400",children:"Pet Exp:"})," +",c.rewards.petExp.toLocaleString()]}),c.rewards.runes>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-red-400",children:"Runes:"})," +",c.rewards.runes.toLocaleString()]})]}),c.newFloor>c.floor&&n.jsxs("div",{className:"mt-2 text-green-500 font-semibold",children:[n.jsx(ik,{className:"w-4 h-4 inline"}),"Advanced to Floor ",c.newFloor,"!"]})]}),n.jsx(T,{className:"w-full",onClick:()=>u(null),"data-testid":"button-close-result",children:"Continue"})]})]})})]})}var m5=x.createContext(void 0);function Id(e){const t=x.useContext(m5);return e||t||"ltr"}var Xf="rovingFocusGroup.onEntryFocus",p5={bubbles:!1,cancelable:!0},Rd="RovingFocusGroup",[Pm,Fw,h5]=Vm(Rd),[g5,zw]=Er(Rd,[h5]),[x5,v5]=g5(Rd),$w=x.forwardRef((e,t)=>n.jsx(Pm.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Pm.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(y5,{...e,ref:t})})}));$w.displayName=Rd;var y5=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:i,loop:l=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:v=!1,...b}=e,N=x.useRef(null),C=st(t,N),_=Id(c),[w=null,S]=Ca({prop:u,defaultProp:f,onChange:h}),[k,I]=x.useState(!1),L=Bt(p),P=Fw(s),F=x.useRef(!1),[G,q]=x.useState(0);return x.useEffect(()=>{const X=N.current;if(X)return X.addEventListener(Xf,L),()=>X.removeEventListener(Xf,L)},[L]),n.jsx(x5,{scope:s,orientation:i,dir:_,loop:l,currentTabStopId:w,onItemFocus:x.useCallback(X=>S(X),[S]),onItemShiftTab:x.useCallback(()=>I(!0),[]),onFocusableItemAdd:x.useCallback(()=>q(X=>X+1),[]),onFocusableItemRemove:x.useCallback(()=>q(X=>X-1),[]),children:n.jsx(qe.div,{tabIndex:k||G===0?-1:0,"data-orientation":i,...b,ref:C,style:{outline:"none",...e.style},onMouseDown:Ce(e.onMouseDown,()=>{F.current=!0}),onFocus:Ce(e.onFocus,X=>{const se=!F.current;if(X.target===X.currentTarget&&se&&!k){const ce=new CustomEvent(Xf,p5);if(X.currentTarget.dispatchEvent(ce),!ce.defaultPrevented){const ge=P().filter(B=>B.focusable),oe=ge.find(B=>B.active),K=ge.find(B=>B.id===w),fe=[oe,K,...ge].filter(Boolean).map(B=>B.ref.current);qw(fe,v)}}F.current=!1}),onBlur:Ce(e.onBlur,()=>I(!1))})})}),Bw="RovingFocusGroupItem",Vw=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:i=!0,active:l=!1,tabStopId:c,...u}=e,f=Qs(),h=c||f,p=v5(Bw,s),v=p.currentTabStopId===h,b=Fw(s),{onFocusableItemAdd:N,onFocusableItemRemove:C}=p;return x.useEffect(()=>{if(i)return N(),()=>C()},[i,N,C]),n.jsx(Pm.ItemSlot,{scope:s,id:h,focusable:i,active:l,children:n.jsx(qe.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...u,ref:t,onMouseDown:Ce(e.onMouseDown,_=>{i?p.onItemFocus(h):_.preventDefault()}),onFocus:Ce(e.onFocus,()=>p.onItemFocus(h)),onKeyDown:Ce(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){p.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const w=j5(_,p.orientation,p.dir);if(w!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let k=b().filter(I=>I.focusable).map(I=>I.ref.current);if(w==="last")k.reverse();else if(w==="prev"||w==="next"){w==="prev"&&k.reverse();const I=k.indexOf(_.currentTarget);k=p.loop?N5(k,I+1):k.slice(I+1)}setTimeout(()=>qw(k))}})})})});Vw.displayName=Bw;var w5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function b5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function j5(e,t,s){const i=b5(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return w5[i]}function qw(e,t=!1){const s=document.activeElement;for(const i of e)if(i===s||(i.focus({preventScroll:t}),document.activeElement!==s))return}function N5(e,t){return e.map((s,i)=>e[(t+i)%e.length])}var S5=$w,k5=Vw,hp="Tabs",[C5]=Er(hp,[zw]),Uw=zw(),[_5,gp]=C5(hp),Ww=x.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,onValueChange:l,defaultValue:c,orientation:u="horizontal",dir:f,activationMode:h="automatic",...p}=e,v=Id(f),[b,N]=Ca({prop:i,onChange:l,defaultProp:c});return n.jsx(_5,{scope:s,baseId:Qs(),value:b,onValueChange:N,orientation:u,dir:v,activationMode:h,children:n.jsx(qe.div,{dir:v,"data-orientation":u,...p,ref:t})})});Ww.displayName=hp;var Qw="TabsList",Hw=x.forwardRef((e,t)=>{const{__scopeTabs:s,loop:i=!0,...l}=e,c=gp(Qw,s),u=Uw(s);return n.jsx(S5,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:i,children:n.jsx(qe.div,{role:"tablist","aria-orientation":c.orientation,...l,ref:t})})});Hw.displayName=Qw;var Gw="TabsTrigger",Kw=x.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,disabled:l=!1,...c}=e,u=gp(Gw,s),f=Uw(s),h=Xw(u.baseId,i),p=Jw(u.baseId,i),v=i===u.value;return n.jsx(k5,{asChild:!0,...f,focusable:!l,active:v,children:n.jsx(qe.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":p,"data-state":v?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:h,...c,ref:t,onMouseDown:Ce(e.onMouseDown,b=>{!l&&b.button===0&&b.ctrlKey===!1?u.onValueChange(i):b.preventDefault()}),onKeyDown:Ce(e.onKeyDown,b=>{[" ","Enter"].includes(b.key)&&u.onValueChange(i)}),onFocus:Ce(e.onFocus,()=>{const b=u.activationMode!=="manual";!v&&!l&&b&&u.onValueChange(i)})})})});Kw.displayName=Gw;var Zw="TabsContent",Yw=x.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,forceMount:l,children:c,...u}=e,f=gp(Zw,s),h=Xw(f.baseId,i),p=Jw(f.baseId,i),v=i===f.value,b=x.useRef(v);return x.useEffect(()=>{const N=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(N)},[]),n.jsx(ir,{present:l||v,children:({present:N})=>n.jsx(qe.div,{"data-state":v?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":h,hidden:!N,id:p,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:b.current?"0s":void 0},children:N&&c})})});Yw.displayName=Zw;function Xw(e,t){return`${e}-trigger-${t}`}function Jw(e,t){return`${e}-content-${t}`}var P5=Ww,eb=Hw,tb=Kw,nb=Yw;const Ad=P5,ul=x.forwardRef(({className:e,...t},s)=>n.jsx(eb,{ref:s,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ul.displayName=eb.displayName;const Xt=x.forwardRef(({className:e,...t},s)=>n.jsx(tb,{ref:s,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Xt.displayName=tb.displayName;const Jt=x.forwardRef(({className:e,...t},s)=>n.jsx(nb,{ref:s,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Jt.displayName=nb.displayName;function fn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function E5(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Mc=43200,wv=1440;let T5={};function I5(){return T5}function bv(e){const t=fn(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function Uc(e,t){const s=fn(e),i=fn(t),l=s.getTime()-i.getTime();return l<0?-1:l>0?1:l}function R5(e){return E5(e,Date.now())}function A5(e,t){const s=fn(e),i=fn(t),l=s.getFullYear()-i.getFullYear(),c=s.getMonth()-i.getMonth();return l*12+c}function L5(e){return t=>{const i=(e?Math[e]:Math.trunc)(t);return i===0?0:i}}function D5(e,t){return+fn(e)-+fn(t)}function M5(e){const t=fn(e);return t.setHours(23,59,59,999),t}function O5(e){const t=fn(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function F5(e){const t=fn(e);return+M5(t)==+O5(t)}function z5(e,t){const s=fn(e),i=fn(t),l=Uc(s,i),c=Math.abs(A5(s,i));let u;if(c<1)u=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-l*c);let f=Uc(s,i)===-l;F5(fn(e))&&c===1&&Uc(e,i)===1&&(f=!1),u=l*(c-Number(f))}return u===0?0:u}function $5(e,t,s){const i=D5(e,t)/1e3;return L5(s?.roundingMethod)(i)}const B5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},V5=(e,t,s)=>{let i;const l=B5[e];return typeof l=="string"?i=l:t===1?i=l.one:i=l.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+i:i+" ago":i};function Jf(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const q5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},U5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},W5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Q5={date:Jf({formats:q5,defaultWidth:"full"}),time:Jf({formats:U5,defaultWidth:"full"}),dateTime:Jf({formats:W5,defaultWidth:"full"})},H5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},G5=(e,t,s,i)=>H5[e];function Po(e){return(t,s)=>{const i=s?.context?String(s.context):"standalone";let l;if(i==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,f=s?.width?String(s.width):u;l=e.formattingValues[f]||e.formattingValues[u]}else{const u=e.defaultWidth,f=s?.width?String(s.width):e.defaultWidth;l=e.values[f]||e.values[u]}const c=e.argumentCallback?e.argumentCallback(t):t;return l[c]}}const K5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Z5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Y5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},X5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},J5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tI=(e,t)=>{const s=Number(e),i=s%100;if(i>20||i<10)switch(i%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},nI={ordinalNumber:tI,era:Po({values:K5,defaultWidth:"wide"}),quarter:Po({values:Z5,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Po({values:Y5,defaultWidth:"wide"}),day:Po({values:X5,defaultWidth:"wide"}),dayPeriod:Po({values:J5,defaultWidth:"wide",formattingValues:eI,defaultFormattingWidth:"wide"})};function Eo(e){return(t,s={})=>{const i=s.width,l=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],c=t.match(l);if(!c)return null;const u=c[0],f=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(f)?sI(f,b=>b.test(u)):rI(f,b=>b.test(u));let p;p=e.valueCallback?e.valueCallback(h):h,p=s.valueCallback?s.valueCallback(p):p;const v=t.slice(u.length);return{value:p,rest:v}}}function rI(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function sI(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function aI(e){return(t,s={})=>{const i=t.match(e.matchPattern);if(!i)return null;const l=i[0],c=t.match(e.parsePattern);if(!c)return null;let u=e.valueCallback?e.valueCallback(c[0]):c[0];u=s.valueCallback?s.valueCallback(u):u;const f=t.slice(l.length);return{value:u,rest:f}}}const iI=/^(\d+)(th|st|nd|rd)?/i,oI=/\d+/i,lI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cI={any:[/^b/i,/^(a|c)/i]},dI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uI={any:[/1/i,/2/i,/3/i,/4/i]},fI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vI={ordinalNumber:aI({matchPattern:iI,parsePattern:oI,valueCallback:e=>parseInt(e,10)}),era:Eo({matchPatterns:lI,defaultMatchWidth:"wide",parsePatterns:cI,defaultParseWidth:"any"}),quarter:Eo({matchPatterns:dI,defaultMatchWidth:"wide",parsePatterns:uI,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Eo({matchPatterns:fI,defaultMatchWidth:"wide",parsePatterns:mI,defaultParseWidth:"any"}),day:Eo({matchPatterns:pI,defaultMatchWidth:"wide",parsePatterns:hI,defaultParseWidth:"any"}),dayPeriod:Eo({matchPatterns:gI,defaultMatchWidth:"any",parsePatterns:xI,defaultParseWidth:"any"})},yI={code:"en-US",formatDistance:V5,formatLong:Q5,formatRelative:G5,localize:nI,match:vI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wI(e,t,s){const i=I5(),l=s?.locale??i.locale??yI,c=2520,u=Uc(e,t);if(isNaN(u))throw new RangeError("Invalid time value");const f=Object.assign({},s,{addSuffix:s?.addSuffix,comparison:u});let h,p;u>0?(h=fn(t),p=fn(e)):(h=fn(e),p=fn(t));const v=$5(p,h),b=(bv(p)-bv(h))/1e3,N=Math.round((v-b)/60);let C;if(N<2)return s?.includeSeconds?v<5?l.formatDistance("lessThanXSeconds",5,f):v<10?l.formatDistance("lessThanXSeconds",10,f):v<20?l.formatDistance("lessThanXSeconds",20,f):v<40?l.formatDistance("halfAMinute",0,f):v<60?l.formatDistance("lessThanXMinutes",1,f):l.formatDistance("xMinutes",1,f):N===0?l.formatDistance("lessThanXMinutes",1,f):l.formatDistance("xMinutes",N,f);if(N<45)return l.formatDistance("xMinutes",N,f);if(N<90)return l.formatDistance("aboutXHours",1,f);if(N<wv){const _=Math.round(N/60);return l.formatDistance("aboutXHours",_,f)}else{if(N<c)return l.formatDistance("xDays",1,f);if(N<Mc){const _=Math.round(N/wv);return l.formatDistance("xDays",_,f)}else if(N<Mc*2)return C=Math.round(N/Mc),l.formatDistance("aboutXMonths",C,f)}if(C=z5(p,h),C<12){const _=Math.round(N/Mc);return l.formatDistance("xMonths",_,f)}else{const _=C%12,w=Math.trunc(C/12);return _<3?l.formatDistance("aboutXYears",w,f):_<9?l.formatDistance("overXYears",w,f):l.formatDistance("almostXYears",w+1,f)}}function jv(e,t){return wI(e,R5(e),t)}const Nv=[{id:"wins",label:"Wins",icon:yt,color:"text-yellow-500"},{id:"losses",label:"Losses",icon:xk,color:"text-red-500"},{id:"npc_progress",label:"NPC Tower",icon:Ht,color:"text-purple-500"},{id:"rank",label:"Rank",icon:ds,color:"text-blue-500"},{id:"guild_dungeon",label:"Guild Dungeon",icon:Bo,color:"text-emerald-500"},{id:"guild_wins",label:"Guild Wins",icon:St,color:"text-orange-500"}],bI={Novice:"text-gray-400",Apprentice:"text-green-500",Journeyman:"text-blue-400",Expert:"text-purple-400",Master:"text-orange-400",Grandmaster:"text-red-400",Legend:"text-yellow-400",Elite:"text-pink-400"};function jI(){const[,e]=Un(),{account:t,logout:s}=Qn(),[i,l]=x.useState("wins"),{data:c,isLoading:u,refetch:f}=lt({queryKey:["/api/leaderboards",i],enabled:!!t,refetchInterval:1800*1e3});if(!t)return e("/"),null;const h=(p,v,b)=>{const N=v==="guild_dungeon"||v==="guild_wins",C=!N&&p.accountId===t.id,_=N?p.guildName:p.username,w=p.rank<=3?n.jsxs(le,{variant:p.rank===1?"default":"secondary",className:p.rank===1?"bg-yellow-500 text-black":p.rank===2?"bg-gray-300 text-black":"bg-amber-700 text-white",children:["#",p.rank]}):n.jsxs("span",{className:"text-muted-foreground w-8 text-center",children:["#",p.rank]});return n.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg transition-colors ${C?"bg-primary/10 border border-primary/30":"bg-card/50 hover-elevate"}`,"data-testid":`leaderboard-entry-${b}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[w,N&&n.jsx(Bo,{className:"h-4 w-4 text-emerald-500"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:`font-medium ${C?"text-primary":""}`,children:[_,C&&n.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(You)"})]}),N&&p.masterName&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Leader: ",p.masterName]})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:v==="npc_progress"?n.jsxs(le,{variant:"outline",className:"font-mono",children:["Floor ",p.npcFloor,":",p.npcLevel]}):v==="guild_dungeon"?n.jsxs(le,{variant:"outline",className:"font-mono text-emerald-500 border-emerald-500/50",children:["Floor ",p.dungeonFloor," - Lvl ",p.dungeonLevel]}):v==="rank"?n.jsx("span",{className:`font-semibold ${bI[p.value]||""}`,children:p.value}):n.jsx("span",{className:"font-mono font-bold",children:p.value.toLocaleString()})})]},b)};return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"border-b border-border/40 bg-card/30 backdrop-blur-sm sticky top-0 z-50",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("h1",{className:"font-cinzel text-2xl font-bold text-foreground flex items-center gap-2",children:[n.jsx(yt,{className:"h-6 w-6 text-yellow-500"}),"Leaderboards"]})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),"data-testid":"link-shop",children:[n.jsx(kn,{className:"h-4 w-4 mr-1"}),"Shop"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),"data-testid":"link-inventory",children:[n.jsx(bn,{className:"h-4 w-4 mr-1"}),"Inventory"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/events"),"data-testid":"link-events",children:[n.jsx(en,{className:"h-4 w-4 mr-1"}),"Events"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/challenges"),"data-testid":"link-challenges",children:[n.jsx(St,{className:"h-4 w-4 mr-1"}),"Challenges"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/npc-battle"),"data-testid":"link-npc-battle",children:[n.jsx(Ht,{className:"h-4 w-4 mr-1"}),"NPC Tower"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),"data-testid":"link-guild",children:[n.jsx(Ws,{className:"h-4 w-4 mr-1"}),"Guild"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/skills"),className:"toggle-elevate","data-testid":"link-skills",children:[n.jsx(kt,{className:"h-4 w-4 mr-1"}),"Skills"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),className:"toggle-elevate","data-testid":"link-trading",children:[n.jsx(kr,{className:"h-4 w-4 mr-1"}),"Trade"]})]})]})})}),n.jsx("main",{className:"container mx-auto px-4 py-8",children:n.jsxs(Te,{className:"max-w-3xl mx-auto",children:[n.jsx(He,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Qe,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5 text-yellow-500"}),"Hall of Champions"]}),c&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Gs,{className:"h-4 w-4"}),"Updated ",jv(new Date(c.refreshedAt),{addSuffix:!0})]})]})}),n.jsxs(Le,{children:[n.jsxs(Ad,{value:i,onValueChange:l,children:[n.jsx(ul,{className:"grid w-full grid-cols-6 mb-6",children:Nv.map(p=>n.jsxs(Xt,{value:p.id,className:"flex items-center gap-1","data-testid":`tab-${p.id}`,children:[n.jsx(p.icon,{className:`h-4 w-4 ${p.color}`}),n.jsx("span",{className:"hidden sm:inline",children:p.label})]},p.id))}),Nv.map(p=>n.jsx(Jt,{value:p.id,children:u?n.jsx("div",{className:"space-y-2",children:[...Array(10)].map((v,b)=>n.jsx("div",{className:"h-14 bg-muted/50 rounded-lg animate-pulse"},b))}):c?.data?.length?n.jsx("div",{className:"space-y-2",children:c.data.map(v=>{const b=p.id==="guild_dungeon"||p.id==="guild_wins"?v.guildId||`guild-${v.rank}`:v.accountId||`player-${v.rank}`;return h(v,p.id,b)})}):n.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No data available yet"})},p.id))]}),c&&n.jsxs("div",{className:"mt-6 pt-4 border-t border-border/40 flex items-center justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Next refresh: ",jv(new Date(c.nextRefresh),{addSuffix:!0})]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>f(),"data-testid":"button-refresh",children:[n.jsx(hk,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]})]})})]})}const Sv={pending:"bg-yellow-500/20 text-yellow-500",accepted:"bg-blue-500/20 text-blue-500",completed:"bg-green-500/20 text-green-500",rewarded:"bg-purple-500/20 text-purple-500"},kv={pending:"New Quest",accepted:"In Progress",completed:"Completed",rewarded:"Rewards Claimed"},Oc=({rewards:e})=>{const t=[];return e.gold&&t.push({label:"Gold",value:e.gold,icon:rr,color:"text-yellow-500"}),e.rubies&&t.push({label:"Rubies",value:e.rubies,icon:is,color:"text-red-500"}),e.soulShards&&t.push({label:"Soul Shards",value:e.soulShards,icon:is,color:"text-purple-500"}),e.focusedShards&&t.push({label:"Focused Shards",value:e.focusedShards,icon:is,color:"text-blue-500"}),e.trainingPoints&&t.push({label:"Training Points",value:e.trainingPoints,icon:is,color:"text-green-500"}),e.runes&&t.push({label:"Runes",value:e.runes,icon:is,color:"text-orange-500"}),e.petExp&&t.push({label:"Pet Exp",value:e.petExp,icon:is,color:"text-pink-500"}),t.length===0?n.jsx("span",{className:"text-muted-foreground",children:"No rewards specified"}):n.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((s,i)=>n.jsxs(le,{variant:"outline",className:"flex items-center gap-1",children:[n.jsx(s.icon,{className:`h-3 w-3 ${s.color}`}),s.value.toLocaleString()," ",s.label]},i))})};function NI(){const[,e]=Un(),{account:t,logout:s}=Qn(),{toast:i}=Wn(),{data:l=[],isLoading:c}=lt({queryKey:["/api/quests"],enabled:!!t}),{data:u=[],isLoading:f}=lt({queryKey:["/api/accounts",t?.id,"quests"],enabled:!!t}),h=Mt({mutationFn:async w=>ve("POST",`/api/accounts/${t?.id}/quests/${w}/accept`),onSuccess:()=>{me.invalidateQueries({queryKey:["/api/accounts",t?.id,"quests"]}),me.invalidateQueries({queryKey:["/api/admin/quests"]}),i({title:"Quest Accepted!",description:"You've accepted the quest. Good luck!"})},onError:w=>{i({title:"Failed to accept quest",description:w?.message||"This quest may already be taken.",variant:"destructive"})}});if(!t)return e("/"),null;const p=c||f,v=new Set(u.map(w=>w.questId)),b=l.filter(w=>{const S=w.assignments&&w.assignments.length>0,k=v.has(w.id);return!S&&!k}),N=l.filter(w=>{const S=w.assignments&&w.assignments.length>0,k=v.has(w.id);return S&&!k}),C=u.filter(w=>w.status==="accepted"),_=u.filter(w=>["completed","rewarded"].includes(w.status));return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"border-b border-border/40 bg-card/30 backdrop-blur-sm sticky top-0 z-50",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("h1",{className:"font-cinzel text-2xl font-bold text-foreground flex items-center gap-2",children:[n.jsx(Nr,{className:"h-6 w-6 text-amber-500"}),"Quests"]})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),"data-testid":"link-shop",children:[n.jsx(kn,{className:"h-4 w-4 mr-1"}),"Shop"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),"data-testid":"link-inventory",children:[n.jsx(bn,{className:"h-4 w-4 mr-1"}),"Inventory"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/events"),"data-testid":"link-events",children:[n.jsx(en,{className:"h-4 w-4 mr-1"}),"Events"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/challenges"),"data-testid":"link-challenges",children:[n.jsx(St,{className:"h-4 w-4 mr-1"}),"Challenges"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/npc-battle"),"data-testid":"link-npc-battle",children:[n.jsx(Ht,{className:"h-4 w-4 mr-1"}),"NPC Tower"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/leaderboard"),"data-testid":"link-leaderboard",children:[n.jsx(yt,{className:"h-4 w-4 mr-1"}),"Leaderboard"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),"data-testid":"link-guild",children:[n.jsx(tn,{className:"h-4 w-4 mr-1"}),"Guild"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),"data-testid":"link-trading",children:[n.jsx(kr,{className:"h-4 w-4 mr-1"}),"Trade"]}),n.jsxs(T,{variant:"outline",size:"sm",onClick:()=>{s(),e("/")},"data-testid":"button-logout",children:[n.jsx(ar,{className:"h-4 w-4 mr-1"}),"Logout"]})]})]})})}),n.jsx("main",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:p?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((w,S)=>n.jsx("div",{className:"h-32 bg-muted/50 rounded-lg animate-pulse"},S))}):n.jsxs(n.Fragment,{children:[b.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Gs,{className:"h-5 w-5 text-yellow-500"}),"Available Quests (",b.length,")"]}),n.jsx("div",{className:"space-y-4",children:b.map(w=>n.jsxs(Te,{className:"border-yellow-500/30","data-testid":`quest-available-${w.id}`,children:[n.jsx(He,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(Qe,{children:w.title}),n.jsx(un,{children:w.description})]}),n.jsx(le,{className:"bg-green-500/20 text-green-500",children:"Available"})]})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Rewards:"}),n.jsx(Oc,{rewards:w.rewards})]})}),n.jsx(Xc,{children:n.jsx(T,{onClick:()=>h.mutate(w.id),disabled:h.isPending,"data-testid":`button-accept-${w.id}`,children:"Accept Quest"})})]},w.id))})]}),N.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(fk,{className:"h-5 w-5 text-muted-foreground"}),"Taken by Others (",N.length,")"]}),n.jsx("div",{className:"space-y-4",children:N.map(w=>n.jsxs(Te,{className:"border-muted opacity-60","data-testid":`quest-taken-${w.id}`,children:[n.jsx(He,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(Qe,{className:"text-muted-foreground",children:w.title}),n.jsx(un,{children:w.description})]}),n.jsx(le,{variant:"secondary",children:"Taken"})]})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Rewards:"}),n.jsx(Oc,{rewards:w.rewards})]})})]},w.id))})]}),C.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Nr,{className:"h-5 w-5 text-blue-500"}),"My Active Quests (",C.length,")"]}),n.jsx("div",{className:"space-y-4",children:C.map(w=>n.jsxs(Te,{className:"border-blue-500/30","data-testid":`quest-active-${w.id}`,children:[n.jsx(He,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(Qe,{children:w.quest.title}),n.jsx(un,{children:w.quest.description})]}),n.jsx(le,{className:Sv[w.status],children:kv[w.status]})]})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Rewards on completion:"}),n.jsx(Oc,{rewards:w.quest.rewards})]})}),n.jsx(Xc,{className:"text-sm text-muted-foreground",children:"Waiting for admin to mark as complete..."})]},w.id))})]}),_.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(ck,{className:"h-5 w-5 text-green-500"}),"Completed Quests (",_.length,")"]}),n.jsx("div",{className:"space-y-4",children:_.map(w=>n.jsxs(Te,{className:"border-green-500/30 opacity-75","data-testid":`quest-completed-${w.id}`,children:[n.jsx(He,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(Qe,{children:w.quest.title}),n.jsx(un,{children:w.quest.description})]}),n.jsx(le,{className:Sv[w.status],children:kv[w.status]})]})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Rewards received:"}),n.jsx(Oc,{rewards:w.quest.rewards})]})})]},w.id))})]}),l.length===0&&u.length===0&&n.jsxs("div",{className:"text-center py-16",children:[n.jsx(Nr,{className:"h-16 w-16 mx-auto text-muted-foreground/50 mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Quests Available"}),n.jsx("p",{className:"text-muted-foreground",children:"Check back later for new quests from the admins!"})]})]})})})]})}function Em(e,[t,s]){return Math.min(s,Math.max(t,e))}function rb(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var SI=[" ","Enter","ArrowUp","ArrowDown"],kI=[" ","Enter"],fl="Select",[Ld,Dd,CI]=Vm(fl),[Li]=Er(fl,[CI,Sd]),Md=Sd(),[_I,ra]=Li(fl),[PI,EI]=Li(fl),sb=e=>{const{__scopeSelect:t,children:s,open:i,defaultOpen:l,onOpenChange:c,value:u,defaultValue:f,onValueChange:h,dir:p,name:v,autoComplete:b,disabled:N,required:C,form:_}=e,w=Md(t),[S,k]=x.useState(null),[I,L]=x.useState(null),[P,F]=x.useState(!1),G=Id(p),[q=!1,X]=Ca({prop:i,defaultProp:l,onChange:c}),[se,ce]=Ca({prop:u,defaultProp:f,onChange:h}),ge=x.useRef(null),oe=S?_||!!S.closest("form"):!0,[K,$]=x.useState(new Set),fe=Array.from(K).map(B=>B.props.value).join(";");return n.jsx(c2,{...w,children:n.jsxs(_I,{required:C,scope:t,trigger:S,onTriggerChange:k,valueNode:I,onValueNodeChange:L,valueNodeHasChildren:P,onValueNodeHasChildrenChange:F,contentId:Qs(),value:se,onValueChange:ce,open:q,onOpenChange:X,dir:G,triggerPointerDownPosRef:ge,disabled:N,children:[n.jsx(Ld.Provider,{scope:t,children:n.jsx(PI,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(B=>{$(Y=>new Set(Y).add(B))},[]),onNativeOptionRemove:x.useCallback(B=>{$(Y=>{const E=new Set(Y);return E.delete(B),E})},[]),children:s})}),oe?n.jsxs(Eb,{"aria-hidden":!0,required:C,tabIndex:-1,name:v,autoComplete:b,value:se,onChange:B=>ce(B.target.value),disabled:N,form:_,children:[se===void 0?n.jsx("option",{value:""}):null,Array.from(K)]},fe):null]})})};sb.displayName=fl;var ab="SelectTrigger",ib=x.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:i=!1,...l}=e,c=Md(s),u=ra(ab,s),f=u.disabled||i,h=st(t,u.onTriggerChange),p=Dd(s),v=x.useRef("touch"),[b,N,C]=Tb(w=>{const S=p().filter(L=>!L.disabled),k=S.find(L=>L.value===u.value),I=Ib(S,w,k);I!==void 0&&u.onValueChange(I.value)}),_=w=>{f||(u.onOpenChange(!0),C()),w&&(u.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return n.jsx(u0,{asChild:!0,...c,children:n.jsx(qe.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":Pb(u.value)?"":void 0,...l,ref:h,onClick:Ce(l.onClick,w=>{w.currentTarget.focus(),v.current!=="mouse"&&_(w)}),onPointerDown:Ce(l.onPointerDown,w=>{v.current=w.pointerType;const S=w.target;S.hasPointerCapture(w.pointerId)&&S.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(_(w),w.preventDefault())}),onKeyDown:Ce(l.onKeyDown,w=>{const S=b.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&N(w.key),!(S&&w.key===" ")&&SI.includes(w.key)&&(_(),w.preventDefault())})})})});ib.displayName=ab;var ob="SelectValue",lb=x.forwardRef((e,t)=>{const{__scopeSelect:s,className:i,style:l,children:c,placeholder:u="",...f}=e,h=ra(ob,s),{onValueNodeHasChildrenChange:p}=h,v=c!==void 0,b=st(t,h.onValueNodeChange);return mn(()=>{p(v)},[p,v]),n.jsx(qe.span,{...f,ref:b,style:{pointerEvents:"none"},children:Pb(h.value)?n.jsx(n.Fragment,{children:u}):c})});lb.displayName=ob;var TI="SelectIcon",cb=x.forwardRef((e,t)=>{const{__scopeSelect:s,children:i,...l}=e;return n.jsx(qe.span,{"aria-hidden":!0,...l,ref:t,children:i||""})});cb.displayName=TI;var II="SelectPortal",db=e=>n.jsx(xd,{asChild:!0,...e});db.displayName=II;var Ra="SelectContent",ub=x.forwardRef((e,t)=>{const s=ra(Ra,e.__scopeSelect),[i,l]=x.useState();if(mn(()=>{l(new DocumentFragment)},[]),!s.open){const c=i;return c?Ti.createPortal(n.jsx(fb,{scope:e.__scopeSelect,children:n.jsx(Ld.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),c):null}return n.jsx(mb,{...e,ref:t})});ub.displayName=Ra;var gr=10,[fb,sa]=Li(Ra),RI="SelectContentImpl",AI=bi("SelectContent.RemoveScroll"),mb=x.forwardRef((e,t)=>{const{__scopeSelect:s,position:i="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,side:f,sideOffset:h,align:p,alignOffset:v,arrowPadding:b,collisionBoundary:N,collisionPadding:C,sticky:_,hideWhenDetached:w,avoidCollisions:S,...k}=e,I=ra(Ra,s),[L,P]=x.useState(null),[F,G]=x.useState(null),q=st(t,ae=>P(ae)),[X,se]=x.useState(null),[ce,ge]=x.useState(null),oe=Dd(s),[K,$]=x.useState(!1),fe=x.useRef(!1);x.useEffect(()=>{if(L)return uw(L)},[L]),nw();const B=x.useCallback(ae=>{const[de,...Fe]=oe().map(dt=>dt.ref.current),[Se]=Fe.slice(-1),Ke=document.activeElement;for(const dt of ae)if(dt===Ke||(dt?.scrollIntoView({block:"nearest"}),dt===de&&F&&(F.scrollTop=0),dt===Se&&F&&(F.scrollTop=F.scrollHeight),dt?.focus(),document.activeElement!==Ke))return},[oe,F]),Y=x.useCallback(()=>B([X,L]),[B,X,L]);x.useEffect(()=>{K&&Y()},[K,Y]);const{onOpenChange:E,triggerPointerDownPosRef:U}=I;x.useEffect(()=>{if(L){let ae={x:0,y:0};const de=Se=>{ae={x:Math.abs(Math.round(Se.pageX)-(U.current?.x??0)),y:Math.abs(Math.round(Se.pageY)-(U.current?.y??0))}},Fe=Se=>{ae.x<=10&&ae.y<=10?Se.preventDefault():L.contains(Se.target)||E(!1),document.removeEventListener("pointermove",de),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",Fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",Fe,{capture:!0})}}},[L,E,U]),x.useEffect(()=>{const ae=()=>E(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[E]);const[Q,A]=Tb(ae=>{const de=oe().filter(Ke=>!Ke.disabled),Fe=de.find(Ke=>Ke.ref.current===document.activeElement),Se=Ib(de,ae,Fe);Se&&setTimeout(()=>Se.ref.current.focus())}),H=x.useCallback((ae,de,Fe)=>{const Se=!fe.current&&!Fe;(I.value!==void 0&&I.value===de||Se)&&(se(ae),Se&&(fe.current=!0))},[I.value]),_e=x.useCallback(()=>L?.focus(),[L]),Ee=x.useCallback((ae,de,Fe)=>{const Se=!fe.current&&!Fe;(I.value!==void 0&&I.value===de||Se)&&ge(ae)},[I.value]),$e=i==="popper"?Tm:pb,Be=$e===Tm?{side:f,sideOffset:h,align:p,alignOffset:v,arrowPadding:b,collisionBoundary:N,collisionPadding:C,sticky:_,hideWhenDetached:w,avoidCollisions:S}:{};return n.jsx(fb,{scope:s,content:L,viewport:F,onViewportChange:G,itemRefCallback:H,selectedItem:X,onItemLeave:_e,itemTextRefCallback:Ee,focusSelectedItem:Y,selectedItemText:ce,position:i,isPositioned:K,searchRef:Q,children:n.jsx(lp,{as:AI,allowPinchZoom:!0,children:n.jsx(op,{asChild:!0,trapped:I.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ce(l,ae=>{I.trigger?.focus({preventScroll:!0}),ae.preventDefault()}),children:n.jsx(il,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>I.onOpenChange(!1),children:n.jsx($e,{role:"listbox",id:I.contentId,"data-state":I.open?"open":"closed",dir:I.dir,onContextMenu:ae=>ae.preventDefault(),...k,...Be,onPlaced:()=>$(!0),ref:q,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Ce(k.onKeyDown,ae=>{const de=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!de&&ae.key.length===1&&A(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Se=oe().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Ke=ae.target,dt=Se.indexOf(Ke);Se=Se.slice(dt+1)}setTimeout(()=>B(Se)),ae.preventDefault()}})})})})})})});mb.displayName=RI;var LI="SelectItemAlignedPosition",pb=x.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:i,...l}=e,c=ra(Ra,s),u=sa(Ra,s),[f,h]=x.useState(null),[p,v]=x.useState(null),b=st(t,q=>v(q)),N=Dd(s),C=x.useRef(!1),_=x.useRef(!0),{viewport:w,selectedItem:S,selectedItemText:k,focusSelectedItem:I}=u,L=x.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&p&&w&&S&&k){const q=c.trigger.getBoundingClientRect(),X=p.getBoundingClientRect(),se=c.valueNode.getBoundingClientRect(),ce=k.getBoundingClientRect();if(c.dir!=="rtl"){const Ke=ce.left-X.left,dt=se.left-Ke,xt=q.left-dt,Je=q.width+xt,sn=Math.max(Je,X.width),Dn=window.innerWidth-gr,lr=Em(dt,[gr,Math.max(gr,Dn-sn)]);f.style.minWidth=Je+"px",f.style.left=lr+"px"}else{const Ke=X.right-ce.right,dt=window.innerWidth-se.right-Ke,xt=window.innerWidth-q.right-dt,Je=q.width+xt,sn=Math.max(Je,X.width),Dn=window.innerWidth-gr,lr=Em(dt,[gr,Math.max(gr,Dn-sn)]);f.style.minWidth=Je+"px",f.style.right=lr+"px"}const ge=N(),oe=window.innerHeight-gr*2,K=w.scrollHeight,$=window.getComputedStyle(p),fe=parseInt($.borderTopWidth,10),B=parseInt($.paddingTop,10),Y=parseInt($.borderBottomWidth,10),E=parseInt($.paddingBottom,10),U=fe+B+K+E+Y,Q=Math.min(S.offsetHeight*5,U),A=window.getComputedStyle(w),H=parseInt(A.paddingTop,10),_e=parseInt(A.paddingBottom,10),Ee=q.top+q.height/2-gr,$e=oe-Ee,Be=S.offsetHeight/2,ae=S.offsetTop+Be,de=fe+B+ae,Fe=U-de;if(de<=Ee){const Ke=ge.length>0&&S===ge[ge.length-1].ref.current;f.style.bottom="0px";const dt=p.clientHeight-w.offsetTop-w.offsetHeight,xt=Math.max($e,Be+(Ke?_e:0)+dt+Y),Je=de+xt;f.style.height=Je+"px"}else{const Ke=ge.length>0&&S===ge[0].ref.current;f.style.top="0px";const xt=Math.max(Ee,fe+w.offsetTop+(Ke?H:0)+Be)+Fe;f.style.height=xt+"px",w.scrollTop=de-Ee+w.offsetTop}f.style.margin=`${gr}px 0`,f.style.minHeight=Q+"px",f.style.maxHeight=oe+"px",i?.(),requestAnimationFrame(()=>C.current=!0)}},[N,c.trigger,c.valueNode,f,p,w,S,k,c.dir,i]);mn(()=>L(),[L]);const[P,F]=x.useState();mn(()=>{p&&F(window.getComputedStyle(p).zIndex)},[p]);const G=x.useCallback(q=>{q&&_.current===!0&&(L(),I?.(),_.current=!1)},[L,I]);return n.jsx(MI,{scope:s,contentWrapper:f,shouldExpandOnScrollRef:C,onScrollButtonChange:G,children:n.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:n.jsx(qe.div,{...l,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});pb.displayName=LI;var DI="SelectPopperPosition",Tm=x.forwardRef((e,t)=>{const{__scopeSelect:s,align:i="start",collisionPadding:l=gr,...c}=e,u=Md(s);return n.jsx(f0,{...u,...c,ref:t,align:i,collisionPadding:l,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Tm.displayName=DI;var[MI,xp]=Li(Ra,{}),Im="SelectViewport",hb=x.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:i,...l}=e,c=sa(Im,s),u=xp(Im,s),f=st(t,c.onViewportChange),h=x.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),n.jsx(Ld.Slot,{scope:s,children:n.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:Ce(l.onScroll,p=>{const v=p.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:N}=u;if(N?.current&&b){const C=Math.abs(h.current-v.scrollTop);if(C>0){const _=window.innerHeight-gr*2,w=parseFloat(b.style.minHeight),S=parseFloat(b.style.height),k=Math.max(w,S);if(k<_){const I=k+C,L=Math.min(_,I),P=I-L;b.style.height=L+"px",b.style.bottom==="0px"&&(v.scrollTop=P>0?P:0,b.style.justifyContent="flex-end")}}}h.current=v.scrollTop})})})]})});hb.displayName=Im;var gb="SelectGroup",[OI,FI]=Li(gb),zI=x.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,l=Qs();return n.jsx(OI,{scope:s,id:l,children:n.jsx(qe.div,{role:"group","aria-labelledby":l,...i,ref:t})})});zI.displayName=gb;var xb="SelectLabel",vb=x.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,l=FI(xb,s);return n.jsx(qe.div,{id:l.id,...i,ref:t})});vb.displayName=xb;var dd="SelectItem",[$I,yb]=Li(dd),wb=x.forwardRef((e,t)=>{const{__scopeSelect:s,value:i,disabled:l=!1,textValue:c,...u}=e,f=ra(dd,s),h=sa(dd,s),p=f.value===i,[v,b]=x.useState(c??""),[N,C]=x.useState(!1),_=st(t,I=>h.itemRefCallback?.(I,i,l)),w=Qs(),S=x.useRef("touch"),k=()=>{l||(f.onValueChange(i),f.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx($I,{scope:s,value:i,disabled:l,textId:w,isSelected:p,onItemTextChange:x.useCallback(I=>{b(L=>L||(I?.textContent??"").trim())},[]),children:n.jsx(Ld.ItemSlot,{scope:s,value:i,disabled:l,textValue:v,children:n.jsx(qe.div,{role:"option","aria-labelledby":w,"data-highlighted":N?"":void 0,"aria-selected":p&&N,"data-state":p?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...u,ref:_,onFocus:Ce(u.onFocus,()=>C(!0)),onBlur:Ce(u.onBlur,()=>C(!1)),onClick:Ce(u.onClick,()=>{S.current!=="mouse"&&k()}),onPointerUp:Ce(u.onPointerUp,()=>{S.current==="mouse"&&k()}),onPointerDown:Ce(u.onPointerDown,I=>{S.current=I.pointerType}),onPointerMove:Ce(u.onPointerMove,I=>{S.current=I.pointerType,l?h.onItemLeave?.():S.current==="mouse"&&I.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(u.onPointerLeave,I=>{I.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Ce(u.onKeyDown,I=>{h.searchRef?.current!==""&&I.key===" "||(kI.includes(I.key)&&k(),I.key===" "&&I.preventDefault())})})})})});wb.displayName=dd;var Ao="SelectItemText",bb=x.forwardRef((e,t)=>{const{__scopeSelect:s,className:i,style:l,...c}=e,u=ra(Ao,s),f=sa(Ao,s),h=yb(Ao,s),p=EI(Ao,s),[v,b]=x.useState(null),N=st(t,k=>b(k),h.onItemTextChange,k=>f.itemTextRefCallback?.(k,h.value,h.disabled)),C=v?.textContent,_=x.useMemo(()=>n.jsx("option",{value:h.value,disabled:h.disabled,children:C},h.value),[h.disabled,h.value,C]),{onNativeOptionAdd:w,onNativeOptionRemove:S}=p;return mn(()=>(w(_),()=>S(_)),[w,S,_]),n.jsxs(n.Fragment,{children:[n.jsx(qe.span,{id:h.textId,...c,ref:N}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Ti.createPortal(c.children,u.valueNode):null]})});bb.displayName=Ao;var jb="SelectItemIndicator",Nb=x.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e;return yb(jb,s).isSelected?n.jsx(qe.span,{"aria-hidden":!0,...i,ref:t}):null});Nb.displayName=jb;var Rm="SelectScrollUpButton",Sb=x.forwardRef((e,t)=>{const s=sa(Rm,e.__scopeSelect),i=xp(Rm,e.__scopeSelect),[l,c]=x.useState(!1),u=st(t,i.onScrollButtonChange);return mn(()=>{if(s.viewport&&s.isPositioned){let f=function(){const p=h.scrollTop>0;c(p)};const h=s.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),l?n.jsx(Cb,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=s;f&&h&&(f.scrollTop=f.scrollTop-h.offsetHeight)}}):null});Sb.displayName=Rm;var Am="SelectScrollDownButton",kb=x.forwardRef((e,t)=>{const s=sa(Am,e.__scopeSelect),i=xp(Am,e.__scopeSelect),[l,c]=x.useState(!1),u=st(t,i.onScrollButtonChange);return mn(()=>{if(s.viewport&&s.isPositioned){let f=function(){const p=h.scrollHeight-h.clientHeight,v=Math.ceil(h.scrollTop)<p;c(v)};const h=s.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),l?n.jsx(Cb,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=s;f&&h&&(f.scrollTop=f.scrollTop+h.offsetHeight)}}):null});kb.displayName=Am;var Cb=x.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:i,...l}=e,c=sa("SelectScrollButton",s),u=x.useRef(null),f=Dd(s),h=x.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return x.useEffect(()=>()=>h(),[h]),mn(()=>{f().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),n.jsx(qe.div,{"aria-hidden":!0,...l,ref:t,style:{flexShrink:0,...l.style},onPointerDown:Ce(l.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:Ce(l.onPointerMove,()=>{c.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:Ce(l.onPointerLeave,()=>{h()})})}),BI="SelectSeparator",_b=x.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e;return n.jsx(qe.div,{"aria-hidden":!0,...i,ref:t})});_b.displayName=BI;var Lm="SelectArrow",VI=x.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,l=Md(s),c=ra(Lm,s),u=sa(Lm,s);return c.open&&u.position==="popper"?n.jsx(m0,{...l,...i,ref:t}):null});VI.displayName=Lm;function Pb(e){return e===""||e===void 0}var Eb=x.forwardRef((e,t)=>{const{value:s,...i}=e,l=x.useRef(null),c=st(t,l),u=rb(s);return x.useEffect(()=>{const f=l.current,h=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==s&&v){const b=new Event("change",{bubbles:!0});v.call(f,s),f.dispatchEvent(b)}},[u,s]),n.jsx(ol,{asChild:!0,children:n.jsx("select",{...i,ref:c,defaultValue:s})})});Eb.displayName="BubbleSelect";function Tb(e){const t=Bt(e),s=x.useRef(""),i=x.useRef(0),l=x.useCallback(u=>{const f=s.current+u;t(f),(function h(p){s.current=p,window.clearTimeout(i.current),p!==""&&(i.current=window.setTimeout(()=>h(""),1e3))})(f)},[t]),c=x.useCallback(()=>{s.current="",window.clearTimeout(i.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(i.current),[]),[s,l,c]}function Ib(e,t,s){const l=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,c=s?e.indexOf(s):-1;let u=qI(e,Math.max(c,0));l.length===1&&(u=u.filter(p=>p!==s));const h=u.find(p=>p.textValue.toLowerCase().startsWith(l.toLowerCase()));return h!==s?h:void 0}function qI(e,t){return e.map((s,i)=>e[(t+i)%e.length])}var UI=sb,Rb=ib,WI=lb,QI=cb,HI=db,Ab=ub,GI=hb,Lb=vb,Db=wb,KI=bb,ZI=Nb,Mb=Sb,Ob=kb,Fb=_b;const Or=UI,Fr=WI,yr=x.forwardRef(({className:e,children:t,...s},i)=>n.jsxs(Rb,{ref:i,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,n.jsx(QI,{asChild:!0,children:n.jsx(Ty,{className:"h-4 w-4 opacity-50"})})]}));yr.displayName=Rb.displayName;const zb=x.forwardRef(({className:e,...t},s)=>n.jsx(Mb,{ref:s,className:we("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(ok,{className:"h-4 w-4"})}));zb.displayName=Mb.displayName;const $b=x.forwardRef(({className:e,...t},s)=>n.jsx(Ob,{ref:s,className:we("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Ty,{className:"h-4 w-4"})}));$b.displayName=Ob.displayName;const wr=x.forwardRef(({className:e,children:t,position:s="popper",...i},l)=>n.jsx(HI,{children:n.jsxs(Ab,{ref:l,className:we("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...i,children:[n.jsx(zb,{}),n.jsx(GI,{className:we("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx($b,{})]})}));wr.displayName=Ab.displayName;const YI=x.forwardRef(({className:e,...t},s)=>n.jsx(Lb,{ref:s,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));YI.displayName=Lb.displayName;const yn=x.forwardRef(({className:e,children:t,...s},i)=>n.jsxs(Db,{ref:i,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(ZI,{children:n.jsx(cs,{className:"h-4 w-4"})})}),n.jsx(KI,{children:t})]}));yn.displayName=Db.displayName;const XI=x.forwardRef(({className:e,...t},s)=>n.jsx(Fb,{ref:s,className:we("-mx-1 my-1 h-px bg-muted",e),...t}));XI.displayName=Fb.displayName;function JI(){const{account:e,logout:t}=Qn(),[,s]=Un(),{toast:i}=Wn(),[l,c]=x.useState(""),[u,f]=x.useState(!1),[h,p]=x.useState(!1),[v,b]=x.useState(!1),[N,C]=x.useState({}),[_,w]=x.useState(!1),[S,k]=x.useState(""),[I,L]=x.useState([]),[P,F]=x.useState(null),[G,q]=x.useState([]),[X,se]=x.useState(!1),[ce,ge]=x.useState(""),[oe,K]=x.useState("gold"),{data:$,isLoading:fe}=lt({queryKey:["/api/accounts",e?.id,"guild"],enabled:!!e}),{data:B=[]}=lt({queryKey:["/api/accounts",e?.id,"guild-invites"],enabled:!!e&&!$}),{data:Y=[]}=lt({queryKey:["/api/players/available-for-guild"],enabled:!!e&&!!$&&$.masterId===e.id}),{data:E}=lt({queryKey:["/api/guilds",$?.id,"dungeon"],enabled:!!$,refetchInterval:5e3}),U=Mt({mutationFn:async O=>(await ve("POST","/api/guilds",{name:O,masterId:e.id})).json(),onSuccess:()=>{me.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild"]}),f(!1),c(""),i({title:"Guild created!",description:"You are now the Guild Master."})},onError:O=>{i({title:"Error",description:O.message||"Failed to create guild",variant:"destructive"})}}),Q=Mt({mutationFn:async O=>(await ve("POST",`/api/guilds/${$.id}/invite`,{accountId:O,invitedBy:e.id})).json(),onSuccess:()=>{me.invalidateQueries({queryKey:["/api/players/available-for-guild"]}),i({title:"Invite sent!"})},onError:O=>{i({title:"Error",description:O.message||"Failed to send invite",variant:"destructive"})}}),A=Mt({mutationFn:async O=>(await ve("POST",`/api/guild-invites/${O}/accept`,{})).json(),onSuccess:()=>{me.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild"]}),me.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild-invites"]}),i({title:"Joined guild!"})},onError:O=>{i({title:"Error",description:O.message||"Failed to join guild",variant:"destructive"})}}),H=Mt({mutationFn:async O=>(await ve("POST",`/api/guild-invites/${O}/decline`,{})).json(),onSuccess:()=>{me.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild-invites"]})}}),_e=Mt({mutationFn:async()=>(await ve("POST",`/api/guilds/${$.id}/leave`,{accountId:e.id})).json(),onSuccess:O=>{me.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild"]}),i({title:O.guildDisbanded?"Guild disbanded":"Left guild",description:O.guildDisbanded?"The guild has been disbanded.":"You have left the guild."})}}),Ee=Mt({mutationFn:async O=>(await ve("POST",`/api/guilds/${$.id}/kick`,{accountId:O,masterId:e.id})).json(),onSuccess:()=>{me.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild"]}),i({title:"Member kicked"})}}),$e=Mt({mutationFn:async()=>(await ve("POST",`/api/guilds/${$.id}/dungeon/fight`,{accountId:e.id})).json(),onSuccess:O=>{me.invalidateQueries({queryKey:["/api/guilds",$?.id,"dungeon"]}),me.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild"]}),O.victory?i({title:"Victory!",description:`Earned ${O.rewards.gold.toLocaleString()} gold for guild bank!`}):i({title:"Defeat",description:"The dungeon monsters were too strong.",variant:"destructive"})}}),Be=Mt({mutationFn:async O=>(await ve("POST",`/api/guilds/${$.id}/distribute`,{masterId:e.id,distributions:O})).json(),onSuccess:()=>{me.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild"]}),b(!1),C({}),i({title:"Rewards distributed!"})},onError:O=>{i({title:"Error",description:O.message||"Failed to distribute",variant:"destructive"})}}),ae=$?.masterId===e?.id,{data:de=[]}=lt({queryKey:["/api/guilds",$?.id,"battles"],enabled:!!$}),{data:Fe=[]}=lt({queryKey:["/api/guilds"],enabled:!!$&&ae&&_,refetchInterval:_?5e3:!1}),Se=Mt({mutationFn:async O=>(await ve("POST",`/api/guilds/${$.id}/battles/challenge`,{accountId:e.id,targetGuildId:O.challengedGuildId,fighters:O.fighters})).json(),onSuccess:()=>{me.invalidateQueries({queryKey:["/api/guilds",$?.id,"battles"]}),w(!1),k(""),L([]),i({title:"Challenge sent!",description:"Waiting for the opposing guild to respond."})},onError:O=>{i({title:"Error",description:O.message||"Failed to send challenge",variant:"destructive"})}}),Ke=Mt({mutationFn:async O=>(await ve("PATCH",`/api/guild-battles/${O.battleId}/respond`,{accountId:e.id,accept:O.accept,fighters:O.fighters})).json(),onSuccess:(O,Ue)=>{me.invalidateQueries({queryKey:["/api/guilds",$?.id,"battles"]}),F(null),q([]),i({title:Ue.accept?"Challenge accepted!":"Challenge declined",description:Ue.accept?"The battle has begun! Admin will judge each round.":"You declined the guild battle."})},onError:O=>{i({title:"Error",description:O.message||"Failed to respond",variant:"destructive"})}}),dt=Mt({mutationFn:async O=>(await ve("POST",`/api/guilds/${$.id}/deposit`,{accountId:e.id,resource:O.resource,amount:O.amount})).json(),onSuccess:()=>{me.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild"]}),me.invalidateQueries({queryKey:["/api/accounts",e?.id]}),se(!1),ge(""),i({title:"Deposit successful!",description:"Your contribution has been added to the guild bank."})},onError:O=>{i({title:"Error",description:O.message||"Failed to deposit",variant:"destructive"})}}),xt=Mt({mutationFn:async()=>(await ve("POST",`/api/guilds/${$.id}/level-up`,{accountId:e.id})).json(),onSuccess:O=>{me.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild"]}),i({title:"Guild Leveled Up!",description:`Your guild is now level ${O.newLevel}!`})},onError:O=>{i({title:"Level Up Failed",description:O.message||"Cannot level up guild",variant:"destructive"})}}),Je=de.filter(O=>O.status==="pending"&&O.challengedGuildId===$?.id),sn=de.filter(O=>O.status==="accepted"||O.status==="in_progress"),Dn=de.filter(O=>O.status==="completed").slice(0,5),lr=()=>{t(),s("/")};return!e||e.role!=="player"?(s("/"),null):n.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[n.jsx("header",{className:"border-b border-border bg-card/50 backdrop-blur sticky top-0 z-50",children:n.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("h1",{className:"text-xl font-bold font-serif text-primary flex items-center gap-2",children:[n.jsx(tn,{className:"w-5 h-5"}),"Guild"]}),n.jsxs("nav",{className:"hidden md:flex gap-2",children:[n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>s("/shop"),"data-testid":"link-shop",children:[n.jsx(kn,{className:"w-4 h-4 mr-1"}),"Shop"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>s("/inventory"),"data-testid":"link-inventory",children:[n.jsx(bn,{className:"w-4 h-4 mr-1"}),"Inventory"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>s("/pets"),"data-testid":"link-pets",children:[n.jsx(jr,{className:"w-4 h-4 mr-1"}),"Pets"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>s("/challenges"),"data-testid":"link-challenges",children:[n.jsx(St,{className:"w-4 h-4 mr-1"}),"Challenges"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>s("/npc-battle"),"data-testid":"link-npc",children:[n.jsx(Ht,{className:"w-4 h-4 mr-1"}),"NPC Tower"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>s("/quests"),"data-testid":"link-quests",children:[n.jsx(Nr,{className:"w-4 h-4 mr-1"}),"Quests"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>s("/leaderboard"),"data-testid":"link-leaderboard",children:[n.jsx(yt,{className:"w-4 h-4 mr-1"}),"Leaderboard"]}),n.jsxs(T,{variant:"secondary",size:"sm","data-testid":"link-guild-active",children:[n.jsx(tn,{className:"w-4 h-4 mr-1"}),"Guild"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>s("/skills"),"data-testid":"link-skills",children:[n.jsx(kt,{className:"w-4 h-4 mr-1"}),"Skills"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>s("/trading"),"data-testid":"link-trading",children:[n.jsx(kr,{className:"w-4 h-4 mr-1"}),"Trade"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:e.username}),n.jsx(T,{variant:"ghost",size:"sm",onClick:lr,"data-testid":"button-logout",children:n.jsx(ar,{className:"w-4 h-4"})})]})]})}),n.jsx("main",{className:"container mx-auto px-4 py-8",children:fe?n.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading..."}):$?n.jsxs("div",{className:"max-w-4xl mx-auto grid gap-6 md:grid-cols-2",children:[n.jsxs(Te,{children:[n.jsxs(He,{children:[n.jsxs(Qe,{className:"flex items-center gap-2",children:[n.jsx(tn,{className:"w-5 h-5 text-primary"}),$.name,n.jsxs(le,{variant:"outline",className:"ml-2 border-yellow-500 text-yellow-500",children:["Level ",$.level||1]})]}),n.jsxs(un,{className:"flex items-center justify-between",children:[n.jsxs("span",{children:[$.members.length,"/4 Members"]}),ae&&($.level||1)<10&&n.jsxs(T,{size:"sm",variant:"outline",onClick:()=>xt.mutate(),disabled:xt.isPending,"data-testid":"button-level-up-guild",className:"text-yellow-500 border-yellow-500/50",children:[n.jsx(kt,{className:"w-3 h-3 mr-1"}),xt.isPending?"...":"Level Up"]})]})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsx("div",{className:"space-y-2",children:$.members.map(O=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[O.isMaster&&n.jsx(ds,{className:"w-4 h-4 text-yellow-500"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium flex items-center gap-2",children:[O.username,O.isOnline&&n.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:O.rank})]})]}),ae&&!O.isMaster&&n.jsx(T,{size:"sm",variant:"ghost",onClick:()=>Ee.mutate(O.accountId),"data-testid":`button-kick-${O.accountId}`,children:n.jsx($r,{className:"w-4 h-4"})})]},O.accountId))}),n.jsxs("div",{className:"flex gap-2",children:[ae&&$.members.length<4&&n.jsxs(gt,{open:h,onOpenChange:p,children:[n.jsx(Vs,{asChild:!0,children:n.jsxs(T,{variant:"outline",className:"flex-1","data-testid":"button-invite",children:[n.jsx(Ry,{className:"w-4 h-4 mr-2"}),"Invite Player"]})}),n.jsxs(mt,{children:[n.jsx(pt,{children:n.jsx(ht,{children:"Invite Player"})}),n.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:Y.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No available players"}):Y.map(O=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:O.username}),O.isOnline&&n.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),n.jsx(le,{variant:"outline",children:O.rank})]}),n.jsx(T,{size:"sm",onClick:()=>{Q.mutate(O.id),p(!1)},"data-testid":`button-invite-${O.id}`,children:"Invite"})]},O.id))})]})]}),n.jsxs(T,{variant:"destructive",className:"flex-1",onClick:()=>_e.mutate(),"data-testid":"button-leave-guild",children:[n.jsx(ar,{className:"w-4 h-4 mr-2"}),ae?"Disband Guild":"Leave Guild"]})]})]})]}),n.jsxs(Te,{children:[n.jsx(He,{children:n.jsxs(Qe,{className:"flex items-center gap-2",children:[n.jsx(vk,{className:"w-5 h-5 text-yellow-500"}),"Guild Bank"]})}),n.jsxs(Le,{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-yellow-500/10",children:[n.jsx(rr,{className:"w-5 h-5 text-yellow-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Gold"}),n.jsx("p",{className:"font-bold",children:$.bank.gold.toLocaleString()})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-red-500/10",children:[n.jsx(qs,{className:"w-5 h-5 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Rubies"}),n.jsx("p",{className:"font-bold",children:$.bank.rubies.toLocaleString()})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-purple-500/10",children:[n.jsx(kt,{className:"w-5 h-5 text-purple-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Soul Shards"}),n.jsx("p",{className:"font-bold",children:$.bank.soulShards.toLocaleString()})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-blue-500/10",children:[n.jsx(kt,{className:"w-5 h-5 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Focused Shards"}),n.jsx("p",{className:"font-bold",children:$.bank.focusedShards.toLocaleString()})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-green-500/10",children:[n.jsx(kt,{className:"w-5 h-5 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Training Points"}),n.jsx("p",{className:"font-bold",children:($.bank.trainingPoints||0).toLocaleString()})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-orange-500/10",children:[n.jsx(kt,{className:"w-5 h-5 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Runes"}),n.jsx("p",{className:"font-bold",children:($.bank.runes||0).toLocaleString()})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(gt,{open:X,onOpenChange:se,children:[n.jsx(Vs,{asChild:!0,children:n.jsxs(T,{className:"flex-1",variant:"outline","data-testid":"button-deposit",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"Deposit"]})}),n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{children:"Deposit to Guild Bank"}),n.jsx(Nt,{children:"Contribute your resources to help the guild"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{children:[n.jsx(Me,{children:"Resource Type"}),n.jsxs(Or,{value:oe,onValueChange:O=>K(O),children:[n.jsx(yr,{"data-testid":"select-deposit-resource",children:n.jsx(Fr,{})}),n.jsxs(wr,{children:[n.jsxs(yn,{value:"gold",children:["Gold (",e.gold?.toLocaleString()||0,")"]}),n.jsxs(yn,{value:"rubies",children:["Rubies (",e.rubies?.toLocaleString()||0,")"]}),n.jsxs(yn,{value:"soulShards",children:["Soul Shards (",e.soulShards?.toLocaleString()||0,")"]}),n.jsxs(yn,{value:"focusedShards",children:["Focused Shards (",e.focusedShards?.toLocaleString()||0,")"]})]})]})]}),n.jsxs("div",{children:[n.jsx(Me,{children:"Amount"}),n.jsx(tt,{type:"number",min:1,value:ce,onChange:O=>ge(O.target.value),placeholder:"Enter amount","data-testid":"input-deposit-amount"})]})]}),n.jsxs(Lt,{children:[n.jsx(T,{variant:"outline",onClick:()=>se(!1),children:"Cancel"}),n.jsx(T,{onClick:()=>{const O=parseInt(ce)||0;O>0&&dt.mutate({resource:oe,amount:O})},disabled:dt.isPending||!ce,"data-testid":"button-confirm-deposit",children:dt.isPending?"Depositing...":"Deposit"})]})]})]}),ae&&n.jsxs(gt,{open:v,onOpenChange:b,children:[n.jsx(Vs,{asChild:!0,children:n.jsxs(T,{className:"flex-1",variant:"outline","data-testid":"button-distribute",children:[n.jsx(rr,{className:"w-4 h-4 mr-2"}),"Distribute"]})}),n.jsxs(mt,{className:"max-w-lg",children:[n.jsxs(pt,{children:[n.jsx(ht,{children:"Distribute Guild Bank"}),n.jsx(Nt,{children:"Allocate resources to guild members"})]}),n.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:$.members.map(O=>n.jsxs("div",{className:"space-y-2 p-3 rounded-lg border",children:[n.jsx("p",{className:"font-medium",children:O.username}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsxs(Me,{className:"text-xs",children:["Gold (",$.bank.gold.toLocaleString()," available)"]}),n.jsx(tt,{type:"number",min:0,max:$.bank.gold,value:N[O.accountId]?.gold||0,onChange:Ue=>C(Ie=>({...Ie,[O.accountId]:{...Ie[O.accountId],gold:parseInt(Ue.target.value)||0,rubies:Ie[O.accountId]?.rubies||0,soulShards:Ie[O.accountId]?.soulShards||0,focusedShards:Ie[O.accountId]?.focusedShards||0}}))})]}),n.jsxs("div",{children:[n.jsxs(Me,{className:"text-xs",children:["Rubies (",$.bank.rubies.toLocaleString()," available)"]}),n.jsx(tt,{type:"number",min:0,max:$.bank.rubies,value:N[O.accountId]?.rubies||0,onChange:Ue=>C(Ie=>({...Ie,[O.accountId]:{...Ie[O.accountId],gold:Ie[O.accountId]?.gold||0,rubies:parseInt(Ue.target.value)||0,soulShards:Ie[O.accountId]?.soulShards||0,focusedShards:Ie[O.accountId]?.focusedShards||0}}))})]}),n.jsxs("div",{children:[n.jsxs(Me,{className:"text-xs",children:["Soul Shards (",$.bank.soulShards.toLocaleString()," available)"]}),n.jsx(tt,{type:"number",min:0,max:$.bank.soulShards,value:N[O.accountId]?.soulShards||0,onChange:Ue=>C(Ie=>({...Ie,[O.accountId]:{...Ie[O.accountId],gold:Ie[O.accountId]?.gold||0,rubies:Ie[O.accountId]?.rubies||0,soulShards:parseInt(Ue.target.value)||0,focusedShards:Ie[O.accountId]?.focusedShards||0}}))})]}),n.jsxs("div",{children:[n.jsxs(Me,{className:"text-xs",children:["Focused Shards (",$.bank.focusedShards.toLocaleString()," available)"]}),n.jsx(tt,{type:"number",min:0,max:$.bank.focusedShards,value:N[O.accountId]?.focusedShards||0,onChange:Ue=>C(Ie=>({...Ie,[O.accountId]:{...Ie[O.accountId],gold:Ie[O.accountId]?.gold||0,rubies:Ie[O.accountId]?.rubies||0,soulShards:Ie[O.accountId]?.soulShards||0,focusedShards:parseInt(Ue.target.value)||0}}))})]})]})]},O.accountId))}),n.jsx(Lt,{children:n.jsx(T,{onClick:()=>{const O=Object.entries(N).filter(([Ue,Ie])=>Ie.gold>0||Ie.rubies>0||Ie.soulShards>0||Ie.focusedShards>0).map(([Ue,Ie])=>({accountId:Ue,gold:Ie.gold||0,rubies:Ie.rubies||0,soulShards:Ie.soulShards||0,focusedShards:Ie.focusedShards||0}));O.length>0&&Be.mutate(O)},disabled:Be.isPending,children:"Distribute"})})]})]})]})]})]}),n.jsxs(Te,{className:"md:col-span-2",children:[n.jsxs(He,{children:[n.jsxs(Qe,{className:"flex items-center gap-2",children:[n.jsx(Bo,{className:`w-5 h-5 ${E?.isDemonLordDungeon?"text-purple-500":"text-red-500"}`}),E?.dungeonName||"Great Dungeon",n.jsx(le,{variant:"destructive",className:`ml-2 ${E?.isDemonLordDungeon?"bg-purple-500":""}`,children:E?.isDemonLordDungeon?"15x Stronger + 3x Rewards":"10x Stronger"}),E?.petsAllowed&&n.jsx(le,{variant:"outline",className:"ml-2 border-green-500 text-green-500",children:"Pets Allowed"})]}),n.jsx(un,{children:E?.isDemonLordDungeon?"The ultimate challenge! Use your pets to conquer the Demon Lord's realm!":"Fight alongside online guild members for massive rewards!"})]}),n.jsx(Le,{children:E&&n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Floor"}),n.jsxs(le,{variant:"outline",className:"text-lg",children:[E.displayFloor||E.floor," / 50"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Level"}),n.jsxs(le,{variant:"outline",className:"text-lg",children:[E.level," / 100"]})]}),n.jsx(Td,{value:E.level/100*100,className:"h-2"}),n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Online Guild Members:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:E.onlineMembers.length===0?n.jsx("span",{className:"text-muted-foreground text-sm",children:"None online"}):E.onlineMembers.map(O=>n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(le,{variant:"secondary",children:O.username}),E.petsAllowed&&O.equippedPet&&n.jsx(le,{variant:"outline",className:"text-xs border-purple-400 text-purple-400",children:O.equippedPet.name})]},O.accountId))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:`p-3 rounded-lg ${E.isDemonLordDungeon?"bg-purple-500/10 border border-purple-500/30":"bg-red-500/10 border border-red-500/30"}`,children:[n.jsxs("p",{className:`font-medium ${E.isDemonLordDungeon?"text-purple-500":"text-red-500"} flex items-center gap-2`,children:[E.isBoss&&n.jsx(ds,{className:"w-4 h-4"}),E.isDemonLordDungeon?"Demon Lord's Minion":"Dungeon Monster"," (Lvl ",E.globalLevel,")"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-sm",children:[n.jsxs("span",{children:["STR: ",E.npcStats.Str.toLocaleString()]}),n.jsxs("span",{children:["SPD: ",E.npcStats.Spd.toLocaleString()]}),n.jsxs("span",{children:["INT: ",E.npcStats.Int.toLocaleString()]}),n.jsxs("span",{children:["LUCK: ",E.npcStats.Luck.toLocaleString()]})]}),E.immunities.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Immune to:"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:E.immunities.map(O=>n.jsx(le,{variant:"outline",className:"text-xs",children:O},O))})]})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30",children:[n.jsxs("p",{className:"font-medium text-yellow-500",children:["Rewards (to Guild Bank)",E.isDemonLordDungeon&&n.jsx("span",{className:"text-xs ml-2",children:"(3x Bonus!)"})]}),n.jsxs("div",{className:"text-sm mt-1",children:[n.jsxs("span",{className:"text-yellow-500",children:[E.rewards.gold.toLocaleString()," Gold"]}),E.rewards.rubies>0&&n.jsxs("span",{className:"text-red-400 ml-2",children:[E.rewards.rubies," Rubies"]}),E.rewards.soulShards>0&&n.jsxs("span",{className:"text-purple-400 ml-2",children:[E.rewards.soulShards," Soul Shards"]})]})]}),n.jsxs(T,{className:"w-full",size:"lg",onClick:()=>$e.mutate(),disabled:$e.isPending||E.onlineMembers.length===0,"data-testid":"button-fight-dungeon",children:[n.jsx(St,{className:"w-4 h-4 mr-2"}),$e.isPending?"Fighting...":`Fight with ${E.onlineMembers.length} Members`]})]})]})})]}),n.jsxs(Te,{className:"md:col-span-2",children:[n.jsx(He,{children:n.jsxs(Qe,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(St,{className:"w-5 h-5 text-orange-500"}),"Guild Battles"]}),ae&&n.jsxs(gt,{open:_,onOpenChange:w,children:[n.jsx(Vs,{asChild:!0,children:n.jsxs(T,{size:"sm","data-testid":"button-challenge-guild",children:[n.jsx(nr,{className:"w-4 h-4 mr-1"}),"Challenge Guild"]})}),n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{children:"Challenge Another Guild"}),n.jsx(Nt,{children:"Select a guild to challenge and pick your fighters."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Me,{children:"Select Guild"}),n.jsxs(Or,{value:S,onValueChange:k,children:[n.jsx(yr,{"data-testid":"select-opponent-guild",children:n.jsx(Fr,{placeholder:"Choose a guild..."})}),n.jsx(wr,{children:Fe.filter(O=>O.id!==$?.id).map(O=>n.jsx(yn,{value:O.id,children:O.name},O.id))})]})]}),n.jsxs("div",{children:[n.jsx(Me,{children:"Select Fighters (up to 5)"}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:$?.members.map(O=>n.jsx(le,{variant:I.includes(O.accountId)?"default":"outline",className:"cursor-pointer",onClick:()=>{I.includes(O.accountId)?L(I.filter(Ue=>Ue!==O.accountId)):I.length<5&&L([...I,O.accountId])},"data-testid":`fighter-select-${O.accountId}`,children:O.username},O.accountId))}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Selected: ",I.length,"/5"]})]})]}),n.jsx(Lt,{children:n.jsx(T,{onClick:()=>Se.mutate({challengedGuildId:S,fighters:I}),disabled:!S||I.length===0||Se.isPending,"data-testid":"button-send-challenge",children:"Send Challenge"})})]})]})]})}),n.jsxs(Le,{className:"space-y-4",children:[ae&&Je.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold mb-2 text-yellow-500",children:"Incoming Challenges"}),n.jsx("div",{className:"space-y-2",children:Je.map(O=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:O.challengerGuildName}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[O.challengerFighters.length," fighters"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(gt,{open:P===O.id,onOpenChange:Ue=>!Ue&&F(null),children:[n.jsx(Vs,{asChild:!0,children:n.jsx(T,{size:"sm",onClick:()=>F(O.id),"data-testid":`button-respond-${O.id}`,children:"Accept"})}),n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{children:"Accept Challenge"}),n.jsx(Nt,{children:"Select your fighters to accept this challenge."})]}),n.jsxs("div",{children:[n.jsxs(Me,{children:["Select Fighters (up to 5 - opponent has ",O.challengerFighters.length,")"]}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:$?.members.map(Ue=>n.jsx(le,{variant:G.includes(Ue.accountId)?"default":"outline",className:"cursor-pointer",onClick:()=>{G.includes(Ue.accountId)?q(G.filter(Ie=>Ie!==Ue.accountId)):G.length<5&&q([...G,Ue.accountId])},children:Ue.username},Ue.accountId))})]}),n.jsx(Lt,{children:n.jsx(T,{onClick:()=>Ke.mutate({battleId:O.id,accept:!0,fighters:G}),disabled:G.length!==O.challengerFighters.length||Ke.isPending,children:"Accept Battle"})})]})]}),n.jsx(T,{size:"sm",variant:"destructive",onClick:()=>Ke.mutate({battleId:O.id,accept:!1}),disabled:Ke.isPending,"data-testid":`button-decline-${O.id}`,children:"Decline"})]})]},O.id))})]}),sn.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold mb-2 text-green-500",children:"Active Battles"}),n.jsx("div",{className:"space-y-2",children:sn.map(O=>{const Ue=O.challengerGuildId===$?.id,Ie=Ue?O.challengedGuildName:O.challengerGuildName,an=Ue?O.challengerScore:O.challengedScore,Hn=Ue?O.challengedScore:O.challengerScore;return n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-500/10 border border-green-500/30",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["vs ",Ie]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Round ",O.currentRound+1]})]}),n.jsxs(le,{variant:"outline",className:"text-lg",children:[an," - ",Hn]})]},O.id)})})]}),Dn.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold mb-2 text-muted-foreground",children:"Recent Battles"}),n.jsx("div",{className:"space-y-2",children:Dn.map(O=>{const Ue=O.challengerGuildId===$?.id,Ie=Ue?O.challengedGuildName:O.challengerGuildName,an=O.winnerId===$?.id,Hn=Ue?O.challengerScore:O.challengedScore,Aa=Ue?O.challengedScore:O.challengerScore;return n.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${an?"bg-green-500/10":"bg-red-500/10"}`,children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["vs ",Ie]}),n.jsx(le,{variant:an?"default":"destructive",className:"text-xs",children:an?"Victory":"Defeat"})]}),n.jsxs("span",{className:"font-mono",children:[Hn," - ",Aa]})]},O.id)})})]}),Je.length===0&&sn.length===0&&Dn.length===0&&n.jsxs("p",{className:"text-center text-muted-foreground py-4",children:["No guild battles yet. ",ae&&"Challenge another guild!"]})]})]})]}):n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsxs(Te,{className:"mb-6",children:[n.jsxs(He,{className:"text-center",children:[n.jsx(ak,{className:"w-16 h-16 mx-auto mb-4 text-primary"}),n.jsx(Qe,{className:"text-2xl",children:"Join or Create a Guild"}),n.jsx(un,{children:"Form a party of up to 4 players to conquer the Great Dungeon together!"})]}),n.jsxs(Le,{className:"flex flex-col gap-4",children:[n.jsxs(gt,{open:u,onOpenChange:f,children:[n.jsx(Vs,{asChild:!0,children:n.jsxs(T,{size:"lg",className:"w-full","data-testid":"button-create-guild",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create New Guild"]})}),n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{children:"Create Guild"}),n.jsx(Nt,{children:"Choose a name for your guild. You will become the Guild Master."})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx(Me,{htmlFor:"guild-name",children:"Guild Name"}),n.jsx(tt,{id:"guild-name",value:l,onChange:O=>c(O.target.value),placeholder:"Enter guild name...",maxLength:30,"data-testid":"input-guild-name"})]})}),n.jsx(Lt,{children:n.jsx(T,{onClick:()=>U.mutate(l),disabled:l.length<3||U.isPending,"data-testid":"button-confirm-create",children:U.isPending?"Creating...":"Create Guild"})})]})]}),B.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Pending Invites"}),n.jsx("div",{className:"space-y-2",children:B.map(O=>n.jsx(Te,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{children:n.jsx("p",{className:"font-medium",children:O.guild?.name||"Unknown Guild"})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(T,{size:"sm",onClick:()=>A.mutate(O.id),disabled:A.isPending,"data-testid":`button-accept-invite-${O.id}`,children:"Accept"}),n.jsx(T,{size:"sm",variant:"outline",onClick:()=>H.mutate(O.id),"data-testid":`button-decline-invite-${O.id}`,children:"Decline"})]})]})},O.id))})]})]})]})})})]})}function eR(e,t){return x.useReducer((s,i)=>t[s][i]??s,e)}var vp="ScrollArea",[Bb]=Er(vp),[tR,or]=Bb(vp),Vb=x.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:i="hover",dir:l,scrollHideDelay:c=600,...u}=e,[f,h]=x.useState(null),[p,v]=x.useState(null),[b,N]=x.useState(null),[C,_]=x.useState(null),[w,S]=x.useState(null),[k,I]=x.useState(0),[L,P]=x.useState(0),[F,G]=x.useState(!1),[q,X]=x.useState(!1),se=st(t,ge=>h(ge)),ce=Id(l);return n.jsx(tR,{scope:s,type:i,dir:ce,scrollHideDelay:c,scrollArea:f,viewport:p,onViewportChange:v,content:b,onContentChange:N,scrollbarX:C,onScrollbarXChange:_,scrollbarXEnabled:F,onScrollbarXEnabledChange:G,scrollbarY:w,onScrollbarYChange:S,scrollbarYEnabled:q,onScrollbarYEnabledChange:X,onCornerWidthChange:I,onCornerHeightChange:P,children:n.jsx(qe.div,{dir:ce,...u,ref:se,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":L+"px",...e.style}})})});Vb.displayName=vp;var qb="ScrollAreaViewport",Ub=x.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:i,nonce:l,...c}=e,u=or(qb,s),f=x.useRef(null),h=st(t,f,u.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),n.jsx(qe.div,{"data-radix-scroll-area-viewport":"",...c,ref:h,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});Ub.displayName=qb;var Hr="ScrollAreaScrollbar",yp=x.forwardRef((e,t)=>{const{forceMount:s,...i}=e,l=or(Hr,e.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:u}=l,f=e.orientation==="horizontal";return x.useEffect(()=>(f?c(!0):u(!0),()=>{f?c(!1):u(!1)}),[f,c,u]),l.type==="hover"?n.jsx(nR,{...i,ref:t,forceMount:s}):l.type==="scroll"?n.jsx(rR,{...i,ref:t,forceMount:s}):l.type==="auto"?n.jsx(Wb,{...i,ref:t,forceMount:s}):l.type==="always"?n.jsx(wp,{...i,ref:t}):null});yp.displayName=Hr;var nR=x.forwardRef((e,t)=>{const{forceMount:s,...i}=e,l=or(Hr,e.__scopeScrollArea),[c,u]=x.useState(!1);return x.useEffect(()=>{const f=l.scrollArea;let h=0;if(f){const p=()=>{window.clearTimeout(h),u(!0)},v=()=>{h=window.setTimeout(()=>u(!1),l.scrollHideDelay)};return f.addEventListener("pointerenter",p),f.addEventListener("pointerleave",v),()=>{window.clearTimeout(h),f.removeEventListener("pointerenter",p),f.removeEventListener("pointerleave",v)}}},[l.scrollArea,l.scrollHideDelay]),n.jsx(ir,{present:s||c,children:n.jsx(Wb,{"data-state":c?"visible":"hidden",...i,ref:t})})}),rR=x.forwardRef((e,t)=>{const{forceMount:s,...i}=e,l=or(Hr,e.__scopeScrollArea),c=e.orientation==="horizontal",u=Fd(()=>h("SCROLL_END"),100),[f,h]=eR("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(f==="idle"){const p=window.setTimeout(()=>h("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(p)}},[f,l.scrollHideDelay,h]),x.useEffect(()=>{const p=l.viewport,v=c?"scrollLeft":"scrollTop";if(p){let b=p[v];const N=()=>{const C=p[v];b!==C&&(h("SCROLL"),u()),b=C};return p.addEventListener("scroll",N),()=>p.removeEventListener("scroll",N)}},[l.viewport,c,h,u]),n.jsx(ir,{present:s||f!=="hidden",children:n.jsx(wp,{"data-state":f==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:Ce(e.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Ce(e.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),Wb=x.forwardRef((e,t)=>{const s=or(Hr,e.__scopeScrollArea),{forceMount:i,...l}=e,[c,u]=x.useState(!1),f=e.orientation==="horizontal",h=Fd(()=>{if(s.viewport){const p=s.viewport.offsetWidth<s.viewport.scrollWidth,v=s.viewport.offsetHeight<s.viewport.scrollHeight;u(f?p:v)}},10);return Pi(s.viewport,h),Pi(s.content,h),n.jsx(ir,{present:i||c,children:n.jsx(wp,{"data-state":c?"visible":"hidden",...l,ref:t})})}),wp=x.forwardRef((e,t)=>{const{orientation:s="vertical",...i}=e,l=or(Hr,e.__scopeScrollArea),c=x.useRef(null),u=x.useRef(0),[f,h]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=Zb(f.viewport,f.content),v={...i,sizes:f,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:N=>c.current=N,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:N=>u.current=N};function b(N,C){return cR(N,u.current,f,C)}return s==="horizontal"?n.jsx(sR,{...v,ref:t,onThumbPositionChange:()=>{if(l.viewport&&c.current){const N=l.viewport.scrollLeft,C=Cv(N,f,l.dir);c.current.style.transform=`translate3d(${C}px, 0, 0)`}},onWheelScroll:N=>{l.viewport&&(l.viewport.scrollLeft=N)},onDragScroll:N=>{l.viewport&&(l.viewport.scrollLeft=b(N,l.dir))}}):s==="vertical"?n.jsx(aR,{...v,ref:t,onThumbPositionChange:()=>{if(l.viewport&&c.current){const N=l.viewport.scrollTop,C=Cv(N,f);c.current.style.transform=`translate3d(0, ${C}px, 0)`}},onWheelScroll:N=>{l.viewport&&(l.viewport.scrollTop=N)},onDragScroll:N=>{l.viewport&&(l.viewport.scrollTop=b(N))}}):null}),sR=x.forwardRef((e,t)=>{const{sizes:s,onSizesChange:i,...l}=e,c=or(Hr,e.__scopeScrollArea),[u,f]=x.useState(),h=x.useRef(null),p=st(t,h,c.onScrollbarXChange);return x.useEffect(()=>{h.current&&f(getComputedStyle(h.current))},[h]),n.jsx(Hb,{"data-orientation":"horizontal",...l,ref:p,sizes:s,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Od(s)+"px",...e.style},onThumbPointerDown:v=>e.onThumbPointerDown(v.x),onDragScroll:v=>e.onDragScroll(v.x),onWheelScroll:(v,b)=>{if(c.viewport){const N=c.viewport.scrollLeft+v.deltaX;e.onWheelScroll(N),Xb(N,b)&&v.preventDefault()}},onResize:()=>{h.current&&c.viewport&&u&&i({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:fd(u.paddingLeft),paddingEnd:fd(u.paddingRight)}})}})}),aR=x.forwardRef((e,t)=>{const{sizes:s,onSizesChange:i,...l}=e,c=or(Hr,e.__scopeScrollArea),[u,f]=x.useState(),h=x.useRef(null),p=st(t,h,c.onScrollbarYChange);return x.useEffect(()=>{h.current&&f(getComputedStyle(h.current))},[h]),n.jsx(Hb,{"data-orientation":"vertical",...l,ref:p,sizes:s,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Od(s)+"px",...e.style},onThumbPointerDown:v=>e.onThumbPointerDown(v.y),onDragScroll:v=>e.onDragScroll(v.y),onWheelScroll:(v,b)=>{if(c.viewport){const N=c.viewport.scrollTop+v.deltaY;e.onWheelScroll(N),Xb(N,b)&&v.preventDefault()}},onResize:()=>{h.current&&c.viewport&&u&&i({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:fd(u.paddingTop),paddingEnd:fd(u.paddingBottom)}})}})}),[iR,Qb]=Bb(Hr),Hb=x.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:i,hasThumb:l,onThumbChange:c,onThumbPointerUp:u,onThumbPointerDown:f,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:v,onResize:b,...N}=e,C=or(Hr,s),[_,w]=x.useState(null),S=st(t,se=>w(se)),k=x.useRef(null),I=x.useRef(""),L=C.viewport,P=i.content-i.viewport,F=Bt(v),G=Bt(h),q=Fd(b,10);function X(se){if(k.current){const ce=se.clientX-k.current.left,ge=se.clientY-k.current.top;p({x:ce,y:ge})}}return x.useEffect(()=>{const se=ce=>{const ge=ce.target;_?.contains(ge)&&F(ce,P)};return document.addEventListener("wheel",se,{passive:!1}),()=>document.removeEventListener("wheel",se,{passive:!1})},[L,_,P,F]),x.useEffect(G,[i,G]),Pi(_,q),Pi(C.content,q),n.jsx(iR,{scope:s,scrollbar:_,hasThumb:l,onThumbChange:Bt(c),onThumbPointerUp:Bt(u),onThumbPositionChange:G,onThumbPointerDown:Bt(f),children:n.jsx(qe.div,{...N,ref:S,style:{position:"absolute",...N.style},onPointerDown:Ce(e.onPointerDown,se=>{se.button===0&&(se.target.setPointerCapture(se.pointerId),k.current=_.getBoundingClientRect(),I.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",C.viewport&&(C.viewport.style.scrollBehavior="auto"),X(se))}),onPointerMove:Ce(e.onPointerMove,X),onPointerUp:Ce(e.onPointerUp,se=>{const ce=se.target;ce.hasPointerCapture(se.pointerId)&&ce.releasePointerCapture(se.pointerId),document.body.style.webkitUserSelect=I.current,C.viewport&&(C.viewport.style.scrollBehavior=""),k.current=null})})})}),ud="ScrollAreaThumb",Gb=x.forwardRef((e,t)=>{const{forceMount:s,...i}=e,l=Qb(ud,e.__scopeScrollArea);return n.jsx(ir,{present:s||l.hasThumb,children:n.jsx(oR,{ref:t,...i})})}),oR=x.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:i,...l}=e,c=or(ud,s),u=Qb(ud,s),{onThumbPositionChange:f}=u,h=st(t,b=>u.onThumbChange(b)),p=x.useRef(void 0),v=Fd(()=>{p.current&&(p.current(),p.current=void 0)},100);return x.useEffect(()=>{const b=c.viewport;if(b){const N=()=>{if(v(),!p.current){const C=dR(b,f);p.current=C,f()}};return f(),b.addEventListener("scroll",N),()=>b.removeEventListener("scroll",N)}},[c.viewport,v,f]),n.jsx(qe.div,{"data-state":u.hasThumb?"visible":"hidden",...l,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:Ce(e.onPointerDownCapture,b=>{const C=b.target.getBoundingClientRect(),_=b.clientX-C.left,w=b.clientY-C.top;u.onThumbPointerDown({x:_,y:w})}),onPointerUp:Ce(e.onPointerUp,u.onThumbPointerUp)})});Gb.displayName=ud;var bp="ScrollAreaCorner",Kb=x.forwardRef((e,t)=>{const s=or(bp,e.__scopeScrollArea),i=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&i?n.jsx(lR,{...e,ref:t}):null});Kb.displayName=bp;var lR=x.forwardRef((e,t)=>{const{__scopeScrollArea:s,...i}=e,l=or(bp,s),[c,u]=x.useState(0),[f,h]=x.useState(0),p=!!(c&&f);return Pi(l.scrollbarX,()=>{const v=l.scrollbarX?.offsetHeight||0;l.onCornerHeightChange(v),h(v)}),Pi(l.scrollbarY,()=>{const v=l.scrollbarY?.offsetWidth||0;l.onCornerWidthChange(v),u(v)}),p?n.jsx(qe.div,{...i,ref:t,style:{width:c,height:f,position:"absolute",right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function fd(e){return e?parseInt(e,10):0}function Zb(e,t){const s=e/t;return isNaN(s)?0:s}function Od(e){const t=Zb(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-s)*t;return Math.max(i,18)}function cR(e,t,s,i="ltr"){const l=Od(s),c=l/2,u=t||c,f=l-u,h=s.scrollbar.paddingStart+u,p=s.scrollbar.size-s.scrollbar.paddingEnd-f,v=s.content-s.viewport,b=i==="ltr"?[0,v]:[v*-1,0];return Yb([h,p],b)(e)}function Cv(e,t,s="ltr"){const i=Od(t),l=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,c=t.scrollbar.size-l,u=t.content-t.viewport,f=c-i,h=s==="ltr"?[0,u]:[u*-1,0],p=Em(e,h);return Yb([0,u],[0,f])(p)}function Yb(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(s-e[0])}}function Xb(e,t){return e>0&&e<t}var dR=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},i=0;return(function l(){const c={left:e.scrollLeft,top:e.scrollTop},u=s.left!==c.left,f=s.top!==c.top;(u||f)&&t(),s=c,i=window.requestAnimationFrame(l)})(),()=>window.cancelAnimationFrame(i)};function Fd(e,t){const s=Bt(e),i=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(i.current),[]),x.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(s,t)},[s,t])}function Pi(e,t){const s=Bt(t);mn(()=>{let i=0;if(e){const l=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(s)});return l.observe(e),()=>{window.cancelAnimationFrame(i),l.unobserve(e)}}},[e,s])}var Jb=Vb,uR=Ub,fR=Kb;const Mo=x.forwardRef(({className:e,children:t,...s},i)=>n.jsxs(Jb,{ref:i,className:we("relative overflow-hidden",e),...s,children:[n.jsx(uR,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(ej,{}),n.jsx(fR,{})]}));Mo.displayName=Jb.displayName;const ej=x.forwardRef(({className:e,orientation:t="vertical",...s},i)=>n.jsx(yp,{ref:i,orientation:t,className:we("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:n.jsx(Gb,{className:"relative flex-1 rounded-full bg-border"})}));ej.displayName=yp.displayName;const md=[{id:"skill_001",name:"Flame Strike",description:"Unleash a devastating fire attack that burns enemies",rarity:"common",effects:[{type:"damage",value:150},{type:"burn",value:30,duration:3}],cooldown:5,manaCost:20,icon:"flame"},{id:"skill_002",name:"Frost Nova",description:"Freeze nearby enemies with an icy blast",rarity:"common",effects:[{type:"damage",value:120},{type:"freeze",value:2,duration:2}],cooldown:6,manaCost:25,icon:"snowflake"},{id:"skill_003",name:"Thunder Bolt",description:"Call down lightning to strike your foes",rarity:"common",effects:[{type:"damage",value:180},{type:"stun",chance:25,value:1}],cooldown:4,manaCost:18,icon:"zap"},{id:"skill_004",name:"Healing Light",description:"Restore health with divine energy",rarity:"common",effects:[{type:"heal",value:200}],cooldown:8,manaCost:30,icon:"heart"},{id:"skill_005",name:"Iron Skin",description:"Harden your body to reduce incoming damage",rarity:"common",effects:[{type:"shield",value:150,duration:5}],cooldown:10,manaCost:25,icon:"shield"},{id:"skill_006",name:"Quick Strike",description:"A swift attack that increases agility",rarity:"common",effects:[{type:"damage",value:100},{type:"stat_boost",stat:"AGI",value:10,duration:3}],cooldown:3,manaCost:12,icon:"sword"},{id:"skill_007",name:"Power Surge",description:"Boost your strength temporarily",rarity:"common",effects:[{type:"stat_boost",stat:"STR",value:20,duration:5}],cooldown:12,manaCost:20,icon:"trending-up"},{id:"skill_008",name:"Mind Focus",description:"Sharpen your intellect for better spells",rarity:"common",effects:[{type:"stat_boost",stat:"INT",value:20,duration:5}],cooldown:12,manaCost:20,icon:"brain"},{id:"skill_009",name:"Lucky Charm",description:"Increase your fortune temporarily",rarity:"common",effects:[{type:"stat_boost",stat:"Luck",value:15,duration:10}],cooldown:15,manaCost:15,icon:"clover"},{id:"skill_010",name:"Vitality Boost",description:"Enhance your life force",rarity:"common",effects:[{type:"stat_boost",stat:"VIT",value:25,duration:5}],cooldown:12,manaCost:22,icon:"heart-pulse"},{id:"skill_011",name:"Shadow Step",description:"Evade attacks with shadow magic",rarity:"uncommon",effects:[{type:"dodge",value:30,duration:3}],cooldown:8,manaCost:28,icon:"ghost"},{id:"skill_012",name:"Blood Drain",description:"Steal life from your enemies",rarity:"uncommon",effects:[{type:"damage",value:130},{type:"lifesteal",value:40}],cooldown:7,manaCost:32,icon:"droplet"},{id:"skill_013",name:"Mirror Shield",description:"Reflect damage back at attackers",rarity:"uncommon",effects:[{type:"reflect",value:25,duration:4}],cooldown:10,manaCost:35,icon:"layers"},{id:"skill_014",name:"Critical Eye",description:"Increase critical hit chance",rarity:"uncommon",effects:[{type:"critical",value:20,duration:5}],cooldown:9,manaCost:25,icon:"eye"},{id:"skill_015",name:"Earthquake",description:"Shake the ground to damage all enemies",rarity:"uncommon",effects:[{type:"damage",value:200},{type:"stun",chance:15,value:1}],cooldown:8,manaCost:40,icon:"mountain"},{id:"skill_016",name:"Wind Slash",description:"Cut through enemies with razor wind",rarity:"uncommon",effects:[{type:"damage",value:160},{type:"stat_boost",stat:"AGI",value:5,duration:2}],cooldown:4,manaCost:22,icon:"wind"},{id:"skill_017",name:"Poison Cloud",description:"Create a toxic cloud that damages over time",rarity:"uncommon",effects:[{type:"damage",value:80},{type:"burn",value:50,duration:5}],cooldown:7,manaCost:30,icon:"cloud"},{id:"skill_018",name:"Stone Armor",description:"Encase yourself in protective stone",rarity:"uncommon",effects:[{type:"shield",value:250,duration:6}],cooldown:12,manaCost:35,icon:"brick-wall"},{id:"skill_019",name:"Light Beam",description:"Channel pure light energy",rarity:"uncommon",effects:[{type:"damage",value:170},{type:"heal",value:50}],cooldown:6,manaCost:28,icon:"sun"},{id:"skill_020",name:"Dark Pulse",description:"Emit waves of darkness",rarity:"uncommon",effects:[{type:"damage",value:190},{type:"debuff",stat:"all",value:-5,duration:3}],cooldown:7,manaCost:32,icon:"moon"},{id:"skill_021",name:"Berserker Rage",description:"Enter a furious state of combat",rarity:"rare",effects:[{type:"stat_boost",stat:"STR",value:50,duration:8},{type:"stat_boost",stat:"AGI",value:30,duration:8}],cooldown:20,manaCost:50,icon:"angry"},{id:"skill_022",name:"Arcane Barrier",description:"Create a magical shield that absorbs damage",rarity:"rare",effects:[{type:"shield",value:400,duration:8}],cooldown:15,manaCost:45,icon:"sparkles"},{id:"skill_023",name:"Phoenix Fire",description:"Rise from the ashes with burning fury",rarity:"rare",effects:[{type:"damage",value:300},{type:"heal",value:150},{type:"burn",value:40,duration:4}],cooldown:12,manaCost:55,icon:"bird"},{id:"skill_024",name:"Ice Prison",description:"Trap enemies in unbreakable ice",rarity:"rare",effects:[{type:"freeze",value:4,duration:4},{type:"damage",value:180}],cooldown:14,manaCost:48,icon:"box"},{id:"skill_025",name:"Soul Harvest",description:"Consume souls to restore health and power",rarity:"rare",effects:[{type:"lifesteal",value:60},{type:"damage",value:250}],cooldown:10,manaCost:42,icon:"ghost"},{id:"skill_026",name:"Thunder Storm",description:"Summon a devastating electrical storm",rarity:"rare",effects:[{type:"damage",value:280},{type:"stun",chance:40,value:2}],cooldown:15,manaCost:52,icon:"cloud-lightning"},{id:"skill_027",name:"Nature's Blessing",description:"Channel the power of nature to heal and protect",rarity:"rare",effects:[{type:"heal",value:350},{type:"stat_boost",stat:"VIT",value:30,duration:10}],cooldown:18,manaCost:48,icon:"leaf"},{id:"skill_028",name:"Assassin's Mark",description:"Mark a target for critical damage",rarity:"rare",effects:[{type:"critical",value:50,duration:3},{type:"damage",value:220}],cooldown:11,manaCost:38,icon:"crosshair"},{id:"skill_029",name:"Dragon Breath",description:"Breathe fire like a mighty dragon",rarity:"rare",effects:[{type:"damage",value:320},{type:"burn",value:60,duration:5}],cooldown:14,manaCost:55,icon:"flame"},{id:"skill_030",name:"Time Warp",description:"Slow down time around you",rarity:"rare",effects:[{type:"stat_boost",stat:"AGI",value:60,duration:5},{type:"dodge",value:25,duration:5}],cooldown:16,manaCost:50,icon:"clock"},{id:"skill_031",name:"Meteor Strike",description:"Call down a meteor from the heavens",rarity:"epic",effects:[{type:"damage",value:500},{type:"burn",value:80,duration:4},{type:"stun",chance:30,value:2}],cooldown:20,manaCost:70,icon:"star"},{id:"skill_032",name:"Divine Protection",description:"Invoke the gods for absolute protection",rarity:"epic",effects:[{type:"shield",value:600,duration:10},{type:"heal",value:200}],cooldown:25,manaCost:65,icon:"shield-check"},{id:"skill_033",name:"Void Walker",description:"Phase through reality to avoid all damage",rarity:"epic",effects:[{type:"dodge",value:80,duration:3},{type:"damage",value:300}],cooldown:18,manaCost:60,icon:"circle-dot"},{id:"skill_034",name:"Plague Touch",description:"Inflict a devastating plague on enemies",rarity:"epic",effects:[{type:"damage",value:200},{type:"burn",value:100,duration:8},{type:"debuff",stat:"all",value:-15,duration:5}],cooldown:22,manaCost:68,icon:"skull"},{id:"skill_035",name:"Celestial Strike",description:"Channel the power of the stars",rarity:"epic",effects:[{type:"damage",value:450},{type:"stat_boost",stat:"INT",value:40,duration:6}],cooldown:16,manaCost:62,icon:"sparkle"},{id:"skill_036",name:"Blood Pact",description:"Sacrifice health for immense power",rarity:"epic",effects:[{type:"stat_boost",stat:"STR",value:80,duration:8},{type:"stat_boost",stat:"AGI",value:60,duration:8}],cooldown:24,manaCost:75,icon:"droplets"},{id:"skill_037",name:"Absolute Zero",description:"Freeze everything to absolute zero",rarity:"epic",effects:[{type:"damage",value:380},{type:"freeze",value:5,duration:5}],cooldown:20,manaCost:65,icon:"thermometer-snowflake"},{id:"skill_038",name:"Spirit Link",description:"Link your spirit to heal and protect allies",rarity:"epic",effects:[{type:"heal",value:500},{type:"shield",value:300,duration:6}],cooldown:22,manaCost:70,icon:"link"},{id:"skill_039",name:"Chain Lightning",description:"Lightning that jumps between enemies",rarity:"epic",effects:[{type:"damage",value:350},{type:"stun",chance:50,value:1}],cooldown:14,manaCost:55,icon:"zap"},{id:"skill_040",name:"Shadow Clone",description:"Create a shadow clone to confuse enemies",rarity:"epic",effects:[{type:"dodge",value:50,duration:6},{type:"damage",value:280}],cooldown:18,manaCost:58,icon:"copy"},{id:"skill_041",name:"Apocalypse",description:"Bring about the end of all things",rarity:"legendary",effects:[{type:"damage",value:800},{type:"burn",value:120,duration:6},{type:"stun",chance:60,value:3}],cooldown:30,manaCost:100,icon:"bomb"},{id:"skill_042",name:"Immortal's Blessing",description:"Become temporarily unkillable",rarity:"legendary",effects:[{type:"shield",value:1e3,duration:8},{type:"heal",value:500},{type:"stat_boost",stat:"all",value:30,duration:8}],cooldown:35,manaCost:95,icon:"infinity"},{id:"skill_043",name:"Dimensional Rift",description:"Tear open a rift in space-time",rarity:"legendary",effects:[{type:"damage",value:700},{type:"dodge",value:60,duration:5},{type:"critical",value:40,duration:5}],cooldown:28,manaCost:90,icon:"orbit"},{id:"skill_044",name:"Soul Reaper",description:"Reap the souls of all nearby enemies",rarity:"legendary",effects:[{type:"damage",value:600},{type:"lifesteal",value:100}],cooldown:25,manaCost:85,icon:"ghost"},{id:"skill_045",name:"Primal Fury",description:"Unleash your primal beast form",rarity:"legendary",effects:[{type:"stat_boost",stat:"STR",value:100,duration:10},{type:"stat_boost",stat:"AGI",value:80,duration:10},{type:"critical",value:35,duration:10}],cooldown:32,manaCost:92,icon:"paw-print"},{id:"skill_046",name:"Cosmic Ray",description:"Channel energy from distant galaxies",rarity:"legendary",effects:[{type:"damage",value:750},{type:"stat_boost",stat:"INT",value:70,duration:6}],cooldown:26,manaCost:88,icon:"rocket"},{id:"skill_047",name:"Eternal Frost",description:"Summon never-melting ice to entomb enemies",rarity:"legendary",effects:[{type:"damage",value:550},{type:"freeze",value:8,duration:8}],cooldown:30,manaCost:95,icon:"snowflake"},{id:"skill_048",name:"Life Steal Ultimate",description:"Drain massive life from all enemies",rarity:"legendary",effects:[{type:"damage",value:650},{type:"lifesteal",value:150},{type:"heal",value:300}],cooldown:28,manaCost:90,icon:"heart"},{id:"skill_049",name:"Titan's Might",description:"Gain the strength of ancient titans",rarity:"legendary",effects:[{type:"stat_boost",stat:"STR",value:150,duration:12},{type:"shield",value:500,duration:12}],cooldown:35,manaCost:98,icon:"dumbbell"},{id:"skill_050",name:"Oracle's Vision",description:"See the future to dodge all attacks",rarity:"legendary",effects:[{type:"dodge",value:100,duration:4},{type:"critical",value:50,duration:4}],cooldown:30,manaCost:85,icon:"eye"},{id:"skill_051",name:"Genesis",description:"Create life from nothing to heal massively",rarity:"mythic",effects:[{type:"heal",value:1e3},{type:"shield",value:800,duration:10},{type:"stat_boost",stat:"all",value:50,duration:10}],cooldown:45,manaCost:120,icon:"sparkles"},{id:"skill_052",name:"Armageddon",description:"Bring total destruction upon all enemies",rarity:"mythic",effects:[{type:"damage",value:1200},{type:"burn",value:200,duration:8},{type:"stun",chance:80,value:4}],cooldown:50,manaCost:150,icon:"flame"},{id:"skill_053",name:"Transcendence",description:"Transcend mortal limits temporarily",rarity:"mythic",effects:[{type:"stat_boost",stat:"all",value:100,duration:15},{type:"dodge",value:50,duration:15},{type:"critical",value:60,duration:15}],cooldown:60,manaCost:140,icon:"sunrise"},{id:"skill_054",name:"Oblivion",description:"Send enemies into the void of oblivion",rarity:"mythic",effects:[{type:"damage",value:1e3},{type:"debuff",stat:"all",value:-50,duration:8}],cooldown:45,manaCost:130,icon:"circle-off"},{id:"skill_055",name:"Eternity's Embrace",description:"Embrace the power of eternity itself",rarity:"mythic",effects:[{type:"shield",value:1500,duration:12},{type:"heal",value:800},{type:"reflect",value:50,duration:12}],cooldown:55,manaCost:145,icon:"hourglass"},{id:"skill_056",name:"Ember Slash",description:"A fiery blade technique",rarity:"common",effects:[{type:"damage",value:140},{type:"burn",value:25,duration:2}],cooldown:4,manaCost:18,icon:"sword"},{id:"skill_057",name:"Aqua Shield",description:"A water barrier that absorbs damage",rarity:"common",effects:[{type:"shield",value:120,duration:4}],cooldown:8,manaCost:20,icon:"droplet"},{id:"skill_058",name:"Stone Throw",description:"Hurl a heavy rock at enemies",rarity:"common",effects:[{type:"damage",value:130},{type:"stun",chance:10,value:1}],cooldown:5,manaCost:15,icon:"circle"},{id:"skill_059",name:"Gust",description:"A quick burst of wind",rarity:"common",effects:[{type:"damage",value:90},{type:"stat_boost",stat:"AGI",value:8,duration:2}],cooldown:3,manaCost:10,icon:"wind"},{id:"skill_060",name:"Spark",description:"A small electrical shock",rarity:"common",effects:[{type:"damage",value:110}],cooldown:2,manaCost:8,icon:"zap"},{id:"skill_061",name:"Mend",description:"Minor healing spell",rarity:"common",effects:[{type:"heal",value:150}],cooldown:6,manaCost:22,icon:"bandage"},{id:"skill_062",name:"Toughness",description:"Temporarily increase defense",rarity:"common",effects:[{type:"stat_boost",stat:"VIT",value:15,duration:4}],cooldown:10,manaCost:18,icon:"shield"},{id:"skill_063",name:"Focus",description:"Concentrate to boost intellect",rarity:"common",effects:[{type:"stat_boost",stat:"INT",value:12,duration:4}],cooldown:10,manaCost:16,icon:"target"},{id:"skill_064",name:"Might",description:"Increase physical power briefly",rarity:"common",effects:[{type:"stat_boost",stat:"STR",value:12,duration:4}],cooldown:10,manaCost:16,icon:"swords"},{id:"skill_065",name:"Swift Feet",description:"Move faster for a short time",rarity:"common",effects:[{type:"stat_boost",stat:"AGI",value:12,duration:4}],cooldown:10,manaCost:16,icon:"footprints"},{id:"skill_066",name:"Lava Burst",description:"Erupt with molten lava",rarity:"uncommon",effects:[{type:"damage",value:200},{type:"burn",value:45,duration:4}],cooldown:8,manaCost:35,icon:"mountain"},{id:"skill_067",name:"Tidal Wave",description:"Summon a massive wave",rarity:"uncommon",effects:[{type:"damage",value:180},{type:"stat_boost",stat:"INT",value:15,duration:3}],cooldown:9,manaCost:38,icon:"waves"},{id:"skill_068",name:"Rock Slide",description:"Cause rocks to fall on enemies",rarity:"uncommon",effects:[{type:"damage",value:220},{type:"stun",chance:20,value:1}],cooldown:10,manaCost:40,icon:"mountain-snow"},{id:"skill_069",name:"Tornado",description:"Create a small tornado",rarity:"uncommon",effects:[{type:"damage",value:175},{type:"dodge",value:20,duration:2}],cooldown:8,manaCost:34,icon:"tornado"},{id:"skill_070",name:"Static Field",description:"Create an electrical field",rarity:"uncommon",effects:[{type:"damage",value:160},{type:"stun",chance:30,value:1}],cooldown:7,manaCost:32,icon:"radio"},{id:"skill_071",name:"Regenerate",description:"Heal over time",rarity:"uncommon",effects:[{type:"heal",value:100},{type:"heal",value:50}],cooldown:12,manaCost:30,icon:"refresh-cw"},{id:"skill_072",name:"Barrier",description:"Create a protective barrier",rarity:"uncommon",effects:[{type:"shield",value:220,duration:5}],cooldown:11,manaCost:33,icon:"square"},{id:"skill_073",name:"Precision",description:"Boost critical hit rate",rarity:"uncommon",effects:[{type:"critical",value:25,duration:4}],cooldown:10,manaCost:28,icon:"crosshair"},{id:"skill_074",name:"Evasion",description:"Increase dodge chance",rarity:"uncommon",effects:[{type:"dodge",value:35,duration:3}],cooldown:9,manaCost:26,icon:"move"},{id:"skill_075",name:"Vampiric Strike",description:"Drain life with each hit",rarity:"uncommon",effects:[{type:"damage",value:150},{type:"lifesteal",value:50}],cooldown:8,manaCost:35,icon:"droplet"},{id:"skill_076",name:"Inferno",description:"Create a massive fire explosion",rarity:"rare",effects:[{type:"damage",value:350},{type:"burn",value:70,duration:5}],cooldown:14,manaCost:52,icon:"flame"},{id:"skill_077",name:"Blizzard",description:"Summon a freezing blizzard",rarity:"rare",effects:[{type:"damage",value:300},{type:"freeze",value:3,duration:3}],cooldown:15,manaCost:55,icon:"cloud-snow"},{id:"skill_078",name:"Quake",description:"Shake the very earth",rarity:"rare",effects:[{type:"damage",value:330},{type:"stun",chance:35,value:2}],cooldown:16,manaCost:58,icon:"activity"},{id:"skill_079",name:"Cyclone",description:"Create a powerful cyclone",rarity:"rare",effects:[{type:"damage",value:280},{type:"stat_boost",stat:"AGI",value:40,duration:4}],cooldown:13,manaCost:48,icon:"loader"},{id:"skill_080",name:"Overcharge",description:"Overload with electrical power",rarity:"rare",effects:[{type:"damage",value:360},{type:"stun",chance:45,value:2}],cooldown:15,manaCost:54,icon:"battery-charging"},{id:"skill_081",name:"Divine Heal",description:"Powerful holy healing",rarity:"rare",effects:[{type:"heal",value:450}],cooldown:16,manaCost:50,icon:"cross"},{id:"skill_082",name:"Fortress",description:"Become an immovable fortress",rarity:"rare",effects:[{type:"shield",value:450,duration:7},{type:"stat_boost",stat:"VIT",value:35,duration:7}],cooldown:18,manaCost:55,icon:"castle"},{id:"skill_083",name:"Deadly Precision",description:"Guarantee critical hits",rarity:"rare",effects:[{type:"critical",value:60,duration:4}],cooldown:14,manaCost:45,icon:"target"},{id:"skill_084",name:"Phase Shift",description:"Phase through attacks",rarity:"rare",effects:[{type:"dodge",value:60,duration:4}],cooldown:12,manaCost:42,icon:"git-branch"},{id:"skill_085",name:"Soul Drain",description:"Drain souls for massive healing",rarity:"rare",effects:[{type:"damage",value:270},{type:"lifesteal",value:80}],cooldown:13,manaCost:48,icon:"ghost"},{id:"skill_086",name:"Supernova",description:"Explode like a dying star",rarity:"epic",effects:[{type:"damage",value:550},{type:"burn",value:100,duration:5}],cooldown:22,manaCost:75,icon:"sun"},{id:"skill_087",name:"Glacier",description:"Summon an entire glacier",rarity:"epic",effects:[{type:"damage",value:480},{type:"freeze",value:6,duration:6}],cooldown:24,manaCost:78,icon:"mountain-snow"},{id:"skill_088",name:"Cataclysm",description:"Cause a massive earthquake",rarity:"epic",effects:[{type:"damage",value:520},{type:"stun",chance:55,value:3}],cooldown:25,manaCost:80,icon:"trending-down"},{id:"skill_089",name:"Hurricane",description:"Summon a devastating hurricane",rarity:"epic",effects:[{type:"damage",value:450},{type:"dodge",value:45,duration:5}],cooldown:20,manaCost:70,icon:"wind"},{id:"skill_090",name:"Lightning Storm",description:"Call down continuous lightning",rarity:"epic",effects:[{type:"damage",value:500},{type:"stun",chance:60,value:2}],cooldown:22,manaCost:72,icon:"cloud-lightning"},{id:"skill_091",name:"Resurrection",description:"Bring yourself back from near death",rarity:"epic",effects:[{type:"heal",value:800},{type:"shield",value:400,duration:5}],cooldown:30,manaCost:85,icon:"sunrise"},{id:"skill_092",name:"Impenetrable",description:"Become completely impenetrable",rarity:"epic",effects:[{type:"shield",value:700,duration:8}],cooldown:28,manaCost:80,icon:"shield-check"},{id:"skill_093",name:"Massacre",description:"Deal massive critical damage",rarity:"epic",effects:[{type:"damage",value:420},{type:"critical",value:70,duration:3}],cooldown:18,manaCost:65,icon:"swords"},{id:"skill_094",name:"Phantom",description:"Become a phantom to avoid all",rarity:"epic",effects:[{type:"dodge",value:90,duration:4}],cooldown:20,manaCost:68,icon:"ghost"},{id:"skill_095",name:"Life Siphon",description:"Siphon all life from enemies",rarity:"epic",effects:[{type:"damage",value:400},{type:"lifesteal",value:120}],cooldown:19,manaCost:66,icon:"heart"},{id:"skill_096",name:"World Breaker",description:"Shatter the world itself",rarity:"legendary",effects:[{type:"damage",value:900},{type:"stun",chance:70,value:4}],cooldown:35,manaCost:110,icon:"globe"},{id:"skill_097",name:"Absolute Defense",description:"Achieve perfect defense",rarity:"legendary",effects:[{type:"shield",value:1200,duration:10},{type:"reflect",value:40,duration:10}],cooldown:40,manaCost:105,icon:"shield"},{id:"skill_098",name:"Execution",description:"Execute enemies with low health",rarity:"legendary",effects:[{type:"damage",value:850},{type:"critical",value:80,duration:2}],cooldown:28,manaCost:95,icon:"skull"},{id:"skill_099",name:"Ethereal Form",description:"Become completely ethereal",rarity:"legendary",effects:[{type:"dodge",value:100,duration:5},{type:"stat_boost",stat:"AGI",value:100,duration:5}],cooldown:35,manaCost:100,icon:"sparkles"},{id:"skill_100",name:"Divine Retribution",description:"Unleash the wrath of the gods",rarity:"mythic",effects:[{type:"damage",value:1500},{type:"heal",value:500},{type:"stat_boost",stat:"all",value:80,duration:10}],cooldown:60,manaCost:200,icon:"crown"},{id:"skill_101",name:"Woodland Spirit",description:"Small forest spirit heals your wounds",rarity:"common",effects:[{type:"heal",value:120}],cooldown:7,manaCost:15,icon:"leaf"},{id:"skill_102",name:"Sharp Edge",description:"Hone your blade for extra bite",rarity:"common",effects:[{type:"damage",value:110},{type:"stat_boost",stat:"STR",value:5,duration:2}],cooldown:4,manaCost:10,icon:"knife"},{id:"skill_103",name:"Static Shock",description:"Zaps attacker when hit",rarity:"common",effects:[{type:"reflect",value:10,duration:3}],cooldown:8,manaCost:12,icon:"bolt"},{id:"skill_104",name:"Focus Breath",description:"Recover a small amount of focus",rarity:"common",effects:[{type:"stat_boost",stat:"INT",value:15,duration:3}],cooldown:15,manaCost:5,icon:"wind"},{id:"skill_105",name:"Dirty Kick",description:"Stun the enemy briefly with a low blow",rarity:"common",effects:[{type:"damage",value:50},{type:"stun",chance:20,value:1}],cooldown:10,manaCost:15,icon:"footprints"},{id:"skill_106",name:"Whirlwind",description:"Spinning attack hitting all around",rarity:"uncommon",effects:[{type:"damage",value:180},{type:"dodge",value:10,duration:2}],cooldown:6,manaCost:25,icon:"rotate-cw"},{id:"skill_107",name:"Ice Shield",description:"Barrier of frost that slows attackers",rarity:"uncommon",effects:[{type:"shield",value:180,duration:4},{type:"freeze",value:1,duration:1}],cooldown:12,manaCost:30,icon:"shield-half"},{id:"skill_108",name:"Venom Strike",description:"Poisoned blade deals damage over time",rarity:"uncommon",effects:[{type:"damage",value:100},{type:"burn",value:40,duration:4}],cooldown:7,manaCost:22,icon:"skull-2"},{id:"skill_109",name:"War Cry",description:"Boost morale and strength",rarity:"uncommon",effects:[{type:"stat_boost",stat:"STR",value:25,duration:6},{type:"stat_boost",stat:"VIT",value:10,duration:6}],cooldown:15,manaCost:28,icon:"mic-2"},{id:"skill_110",name:"Fleet Foot",description:"Incredible burst of speed",rarity:"uncommon",effects:[{type:"stat_boost",stat:"AGI",value:35,duration:4}],cooldown:14,manaCost:20,icon:"zap"},{id:"skill_111",name:"Dragon Scale",description:"Skin as tough as a dragon's",rarity:"rare",effects:[{type:"shield",value:400,duration:6},{type:"reflect",value:20,duration:6}],cooldown:18,manaCost:45,icon:"shield-alert"},{id:"skill_112",name:"Ethereal Blade",description:"Bypasses armor with magical energy",rarity:"rare",effects:[{type:"damage",value:320},{type:"stat_boost",stat:"Luck",value:20,duration:3}],cooldown:10,manaCost:40,icon:"sparkles"},{id:"skill_113",name:"Lunar Eclipse",description:"Darkness covers the battlefield",rarity:"rare",effects:[{type:"dodge",value:40,duration:5},{type:"debuff",stat:"all",value:-10,duration:5}],cooldown:20,manaCost:50,icon:"moon"},{id:"skill_114",name:"Heavenly Rain",description:"Healing rain restores health",rarity:"rare",effects:[{type:"heal",value:400}],cooldown:15,manaCost:55,icon:"cloud-rain"},{id:"skill_115",name:"Soul Bind",description:"Tethers enemy life force",rarity:"rare",effects:[{type:"damage",value:200},{type:"lifesteal",value:70}],cooldown:12,manaCost:45,icon:"link-2"},{id:"skill_116",name:"Solar Flare",description:"Blinding light burns and stuns",rarity:"epic",effects:[{type:"damage",value:450},{type:"burn",value:90,duration:5},{type:"stun",chance:40,value:2}],cooldown:22,manaCost:70,icon:"sun"},{id:"skill_117",name:"Diamond Body",description:"Ultimate defense against physical hits",rarity:"epic",effects:[{type:"shield",value:800,duration:8},{type:"stat_boost",stat:"VIT",value:50,duration:8}],cooldown:25,manaCost:80,icon:"gem"},{id:"skill_118",name:"Void Rip",description:"Pull enemies into the void",rarity:"epic",effects:[{type:"damage",value:500},{type:"freeze",value:3,duration:3}],cooldown:18,manaCost:65,icon:"hole"},{id:"skill_119",name:"Blood Lust",description:"Every hit restores health",rarity:"epic",effects:[{type:"lifesteal",value:100,duration:6},{type:"stat_boost",stat:"AGI",value:40,duration:6}],cooldown:24,manaCost:75,icon:"droplet"},{id:"skill_120",name:"Arcane Mastery",description:"Peak magical understanding",rarity:"epic",effects:[{type:"stat_boost",stat:"INT",value:100,duration:8},{type:"critical",value:30,duration:8}],cooldown:20,manaCost:90,icon:"book-open"},{id:"skill_121",name:"Black Hole",description:"Gravity crushes all in its path",rarity:"legendary",effects:[{type:"damage",value:1e3},{type:"stun",chance:100,value:3}],cooldown:40,manaCost:120,icon:"circle-dot"},{id:"skill_122",name:"Aegis of Light",description:"Holy shield that reflects all",rarity:"legendary",effects:[{type:"shield",value:1200,duration:10},{type:"reflect",value:60,duration:10}],cooldown:45,manaCost:110,icon:"shield-check"},{id:"skill_123",name:"Rebirth",description:"Die and return stronger",rarity:"legendary",effects:[{type:"heal",value:1e3},{type:"stat_boost",stat:"all",value:50,duration:15}],cooldown:60,manaCost:150,icon:"refresh-cw"},{id:"skill_124",name:"Final Judgment",description:"The end of the line for foes",rarity:"legendary",effects:[{type:"damage",value:950},{type:"critical",value:100,duration:1}],cooldown:30,manaCost:100,icon:"gavel"},{id:"skill_125",name:"Reality Warp",description:"Change the rules of engagement",rarity:"legendary",effects:[{type:"dodge",value:100,duration:5},{type:"stat_boost",stat:"Luck",value:200,duration:5}],cooldown:50,manaCost:130,icon:"layers"},{id:"skill_126",name:"God Slayer",description:"Technique that brought down gods",rarity:"mythic",effects:[{type:"damage",value:2e3},{type:"critical",value:50,duration:5}],cooldown:70,manaCost:250,icon:"sword"},{id:"skill_127",name:"Omnipotence",description:"A glimpse of absolute power",rarity:"mythic",effects:[{type:"stat_boost",stat:"all",value:200,duration:20}],cooldown:90,manaCost:300,icon:"crown"},{id:"skill_128",name:"Universal Reset",description:"Return everything to the beginning",rarity:"mythic",effects:[{type:"heal",value:2e3},{type:"debuff",stat:"all",value:-100,duration:10}],cooldown:120,manaCost:400,icon:"history"},{id:"skill_129",name:"Void Dragon Form",description:"Transform into a creature of the void",rarity:"mythic",effects:[{type:"stat_boost",stat:"STR",value:300,duration:15},{type:"shield",value:2e3,duration:15}],cooldown:80,manaCost:280,icon:"bird"},{id:"skill_130",name:"Creation's Breath",description:"The breath that started the universe",rarity:"mythic",effects:[{type:"heal",value:1500},{type:"damage",value:1500},{type:"stat_boost",stat:"all",value:100,duration:10}],cooldown:100,manaCost:350,icon:"wind"},{id:"skill_131",name:"Steel Resolve",description:"Ignore pain to keep fighting",rarity:"rare",effects:[{type:"stat_boost",stat:"VIT",value:60,duration:10},{type:"shield",value:200,duration:10}],cooldown:25,manaCost:45,icon:"shield-half"},{id:"skill_132",name:"Flowing Water",description:"Move like water to avoid hits",rarity:"rare",effects:[{type:"dodge",value:50,duration:4},{type:"stat_boost",stat:"AGI",value:30,duration:4}],cooldown:15,manaCost:35,icon:"waves"},{id:"skill_133",name:"Lava Skin",description:"Burns those who touch you",rarity:"rare",effects:[{type:"reflect",value:30,duration:5},{type:"burn",value:20,duration:5}],cooldown:20,manaCost:40,icon:"thermometer-sun"},{id:"skill_134",name:"Eagle Eye",description:"Perfect focus for critical strikes",rarity:"rare",effects:[{type:"critical",value:45,duration:5},{type:"stat_boost",stat:"Luck",value:30,duration:5}],cooldown:18,manaCost:38,icon:"eye"},{id:"skill_135",name:"Nature's Wrath",description:"Thorns entangle and damage",rarity:"rare",effects:[{type:"damage",value:250},{type:"freeze",value:2,duration:2}],cooldown:14,manaCost:42,icon:"sprout"},{id:"skill_136",name:"Final Hour",description:"Massive boost when near death",rarity:"legendary",effects:[{type:"stat_boost",stat:"all",value:150,duration:8},{type:"critical",value:70,duration:8}],cooldown:45,manaCost:110,icon:"hourglass-end"},{id:"skill_137",name:"Galaxy Crush",description:"Collapse a mini-galaxy on foes",rarity:"legendary",effects:[{type:"damage",value:1100},{type:"stun",chance:80,value:3}],cooldown:38,manaCost:115,icon:"milestone"},{id:"skill_138",name:"Life Bloom",description:"Explosive healing burst",rarity:"legendary",effects:[{type:"heal",value:1200},{type:"shield",value:400,duration:5}],cooldown:32,manaCost:105,icon:"flower-2"},{id:"skill_139",name:"Shadow Realm",description:"Drag enemies into your domain",rarity:"legendary",effects:[{type:"debuff",stat:"all",value:-40,duration:6},{type:"damage",value:400}],cooldown:28,manaCost:95,icon:"ghost"},{id:"skill_140",name:"Titan's Roar",description:"Stuns all enemies with sheer volume",rarity:"legendary",effects:[{type:"stun",chance:100,value:2},{type:"debuff",stat:"STR",value:-50,duration:5}],cooldown:35,manaCost:100,icon:"megaphone"},{id:"skill_141",name:"Genesis Wave",description:"The wave that created existence",rarity:"mythic",effects:[{type:"heal",value:2500},{type:"stat_boost",stat:"all",value:150,duration:12}],cooldown:150,manaCost:500,icon:"waves"},{id:"skill_142",name:"Entropy",description:"The heat death of the universe",rarity:"mythic",effects:[{type:"damage",value:3e3},{type:"burn",value:300,duration:10}],cooldown:180,manaCost:600,icon:"flame"},{id:"skill_143",name:"Divine Form",description:"Assume your true celestial self",rarity:"mythic",effects:[{type:"stat_boost",stat:"all",value:500,duration:30},{type:"shield",value:5e3,duration:30}],cooldown:300,manaCost:1e3,icon:"sun"},{id:"skill_144",name:"Singularity",description:"Everything becomes one point",rarity:"mythic",effects:[{type:"damage",value:5e3}],cooldown:600,manaCost:2e3,icon:"circle-dot"},{id:"skill_145",name:"Eternal Peace",description:"The end of all conflict",rarity:"mythic",effects:[{type:"heal",value:9999},{type:"shield",value:9999,duration:60}],cooldown:1200,manaCost:5e3,icon:"heart"}],pd=e=>md.find(t=>t.id===e),mR={common:"bg-gray-500/20 text-gray-300 border-gray-500",uncommon:"bg-green-500/20 text-green-300 border-green-500",rare:"bg-blue-500/20 text-blue-300 border-blue-500",epic:"bg-purple-500/20 text-purple-300 border-purple-500",legendary:"bg-amber-500/20 text-amber-300 border-amber-500",mythic:"bg-pink-500/20 text-pink-300 border-pink-500"},pR={common:"from-gray-800/50 to-gray-900/80 border-gray-600/50",uncommon:"from-green-900/30 to-green-950/60 border-green-600/40",rare:"from-blue-900/30 to-blue-950/60 border-blue-600/40",epic:"from-purple-900/30 to-purple-950/60 border-purple-600/40",legendary:"from-amber-900/30 to-amber-950/60 border-amber-600/40",mythic:"from-pink-900/30 to-pink-950/60 border-pink-600/40 animate-pulse"};function _v(e){if(!e)return"N/A";const t=new Date(e),s=new Date,i=t.getTime()-s.getTime();if(i<=0)return"Ended";const l=Math.floor(i/(1e3*60*60)),c=Math.floor(i%(1e3*60*60)/(1e3*60)),u=Math.floor(i%(1e3*60)/1e3);return l>0?`${l}h ${c}m`:`${c}m ${u}s`}function em({skill:e,showActions:t,onEquip:s,onUnequip:i,isEquipped:l}){return n.jsxs(Te,{className:`bg-gradient-to-br ${pR[e.rarity]} border`,children:[n.jsxs(He,{className:"pb-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Qe,{className:"text-lg font-cinzel text-foreground",children:e.name}),n.jsx(le,{className:mR[e.rarity],children:e.rarity.charAt(0).toUpperCase()+e.rarity.slice(1)})]}),n.jsx(un,{className:"text-muted-foreground",children:e.description})]}),n.jsxs(Le,{className:"space-y-3",children:[n.jsx("div",{className:"flex flex-wrap gap-2",children:e.effects.map((c,u)=>n.jsxs(le,{variant:"outline",className:"text-xs",children:[c.type,": ",c.value,c.stat&&` ${c.stat}`,c.duration&&` (${c.duration}s)`]},u))}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Gs,{className:"h-4 w-4"})," ",e.cooldown,"s"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ks,{className:"h-4 w-4"})," ",e.manaCost," mana"]})]}),t&&n.jsx("div",{className:"pt-2",children:l?n.jsx(T,{variant:"outline",size:"sm",onClick:i,"data-testid":"button-unequip-skill",children:"Unequip"}):n.jsx(T,{variant:"default",size:"sm",onClick:s,"data-testid":"button-equip-skill",children:"Equip"})}),l&&n.jsx(le,{className:"bg-green-500/30 text-green-300 border-green-500",children:"Equipped"})]})]})}function hR(){const[,e]=Un(),{account:t,logout:s}=Qn(),{toast:i}=Wn(),[l,c]=x.useState(""),[u,f]=x.useState(!1),[h,p]=x.useState(""),{data:v,isLoading:b}=lt({queryKey:["/api/auctions/active"],refetchInterval:5e3}),{data:N=[],isLoading:C}=lt({queryKey:["/api/accounts",t?.id,"skills"],enabled:!!t?.id,refetchInterval:1e4}),{data:_=[]}=lt({queryKey:["/api/activity-feed"],refetchInterval:3e4});x.useEffect(()=>{if(v?.auction?.endAt){const P=setInterval(()=>{p(_v(v.auction.endAt))},1e3);return()=>clearInterval(P)}},[v?.auction?.endAt]);const w=Mt({mutationFn:async()=>{const P=parseInt(l);if(!t||!v?.auction)throw new Error("Not authenticated");return(await ve("POST",`/api/auctions/${v.auction.id}/bid`,{accountId:t.id,amount:P})).json()},onSuccess:()=>{me.invalidateQueries({queryKey:["/api/auctions/active"]}),i({title:"Bid placed!",description:`You bid ${parseInt(l).toLocaleString()} gold.`}),f(!1),c("")},onError:P=>{i({title:"Failed to place bid",description:P.message,variant:"destructive"})}}),S=Mt({mutationFn:async P=>{if(!t)throw new Error("Not authenticated");return(await ve("POST",`/api/accounts/${t.id}/skills/${P}/equip`)).json()},onSuccess:()=>{me.invalidateQueries({queryKey:["/api/accounts",t?.id,"skills"]}),i({title:"Skill equipped!"})},onError:()=>{i({title:"Failed to equip skill",variant:"destructive"})}}),k=Mt({mutationFn:async P=>{if(!t)throw new Error("Not authenticated");return(await ve("POST",`/api/accounts/${t.id}/skills/${P}/unequip`)).json()},onSuccess:()=>{me.invalidateQueries({queryKey:["/api/accounts",t?.id,"skills"]}),i({title:"Skill unequipped!"})},onError:()=>{i({title:"Failed to unequip skill",variant:"destructive"})}});if(!t)return n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:n.jsxs(Te,{className:"p-6",children:[n.jsx(Qe,{children:"Please log in to access Skills"}),n.jsx(T,{className:"mt-4",onClick:()=>e("/"),children:"Go to Login"})]})});const I=v?.auction?pd(v.auction.skillId):null,L=v?.highestBid?v.highestBid.amount+1:100;return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsxs("header",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur border-b border-border",children:[n.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx(T,{variant:"ghost",size:"icon",onClick:()=>e("/shop"),className:"shrink-0","data-testid":"button-back-shop",children:n.jsx(Qm,{className:"h-5 w-5"})}),n.jsxs("h1",{className:"text-lg sm:text-2xl font-cinzel font-bold text-primary flex items-center gap-2 truncate",children:[n.jsx(fi,{className:"h-5 w-5 sm:h-6 sm:w-6 shrink-0"})," ",n.jsx("span",{className:"truncate",children:"Skill Auction"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 shrink-0",children:[n.jsx("div",{className:"hidden xs:block",children:n.jsx(od,{amount:t.gold,size:"sm"})}),n.jsx("span",{className:"hidden sm:inline text-sm text-muted-foreground truncate max-w-[100px]",children:t.username}),n.jsxs(T,{variant:"outline",size:"sm",onClick:s,className:"h-8 px-2 sm:h-9 sm:px-4","data-testid":"button-logout",children:[n.jsx(ar,{className:"h-4 w-4 sm:mr-2"})," ",n.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]}),n.jsxs("nav",{className:"container mx-auto px-4 py-2 flex gap-2 overflow-x-auto scrollbar-hide no-scrollbar",children:[n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),"data-testid":"link-shop",children:[n.jsx(kn,{className:"h-4 w-4 mr-1"})," Shop"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),"data-testid":"link-inventory",children:[n.jsx(bn,{className:"h-4 w-4 mr-1"})," Inventory"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/pets"),"data-testid":"link-pets",children:[n.jsx(jr,{className:"h-4 w-4 mr-1"})," Pets"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),"data-testid":"link-guild",children:[n.jsx(Ws,{className:"h-4 w-4 mr-1"})," Guild"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/npc-battle"),"data-testid":"link-tower",children:[n.jsx(St,{className:"h-4 w-4 mr-1"})," Tower"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/leaderboard"),"data-testid":"link-leaderboard",children:[n.jsx(yt,{className:"h-4 w-4 mr-1"})," Leaderboard"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),"data-testid":"link-trading",children:[n.jsx(kr,{className:"h-4 w-4 mr-1"})," Trade"]})]})]}),n.jsx("main",{className:"container mx-auto px-4 py-6",children:n.jsxs(Ad,{defaultValue:"auction",className:"space-y-6",children:[n.jsxs(ul,{className:"flex w-full mb-6 overflow-x-auto no-scrollbar justify-start sm:grid sm:grid-cols-3",children:[n.jsxs(Xt,{value:"auction",className:"flex-1 min-w-[100px]","data-testid":"tab-skills-auction",children:[n.jsx(fi,{className:"h-4 w-4 mr-2 shrink-0"}),n.jsx("span",{className:"truncate",children:"Auction"})]}),n.jsxs(Xt,{value:"my-skills",className:"flex-1 min-w-[100px]","data-testid":"tab-skills-equipped",children:[n.jsx(kt,{className:"h-4 w-4 mr-2 shrink-0"}),n.jsx("span",{className:"truncate",children:"My Skills"})]}),n.jsxs(Xt,{value:"news",className:"flex-1 min-w-[100px]","data-testid":"tab-skills-news",children:[n.jsx(Lf,{className:"h-4 w-4 mr-2 shrink-0"}),n.jsx("span",{className:"truncate",children:"News"})]})]}),n.jsxs(Jt,{value:"auction",children:[n.jsxs(Te,{className:"bg-gradient-to-br from-card to-card/80 border-primary/30",children:[n.jsx(He,{children:n.jsxs(Qe,{className:"flex items-center gap-2",children:[n.jsx(gk,{className:"h-5 w-5 text-primary"}),"Current Auction",v?.auction&&n.jsx(le,{variant:"outline",className:"ml-auto animate-pulse",children:h||_v(v.auction.endAt)})]})}),n.jsx(Le,{children:b?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading auction..."}):v?.auction&&I?n.jsxs("div",{className:"space-y-6",children:[n.jsx(em,{skill:I}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between p-4 bg-muted/30 rounded-lg gap-4",children:[n.jsxs("div",{className:"text-center sm:text-left",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Highest Bid"}),n.jsx("p",{className:"text-xl sm:text-2xl font-bold text-amber-400",children:v.highestBid?`${v.highestBid.amount.toLocaleString()} gold`:"No bids yet"})]}),n.jsxs(T,{onClick:()=>f(!0),disabled:!t||t.gold<L,className:"w-full sm:w-auto","data-testid":"button-place-bid",children:[n.jsx(fi,{className:"h-4 w-4 mr-2"})," Place Bid"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-muted-foreground",children:"Recent Bids"}),n.jsx(Mo,{className:"h-48",children:n.jsxs("div",{className:"space-y-2",children:[v.bids.slice(0,10).map((P,F)=>n.jsxs("div",{className:`flex justify-between p-2 rounded ${F===0?"bg-amber-500/20":"bg-muted/20"}`,children:[n.jsxs("span",{className:"text-sm",children:["Bidder #",P.bidderId.slice(-4)]}),n.jsxs("span",{className:"font-semibold text-amber-400",children:[P.amount.toLocaleString()," gold"]})]},P.id)),v.bids.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No bids yet. Be the first!"})]})})]})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(fi,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No active auction at the moment."}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Check back later for the next skill auction!"})]})})]}),n.jsxs(Te,{children:[n.jsxs(He,{children:[n.jsx(Qe,{children:"All Skills"}),n.jsx(un,{children:"Browse all 100 unique skills in the game"})]}),n.jsx(Le,{children:n.jsx(Mo,{className:"h-[600px]",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pr-4",children:md.map(P=>n.jsx(em,{skill:P},P.id))})})})]})]}),n.jsx(Jt,{value:"my-skills",className:"space-y-6",children:n.jsxs(Te,{children:[n.jsxs(He,{children:[n.jsxs(Qe,{className:"flex items-center gap-2",children:[n.jsx(kt,{className:"h-5 w-5"})," Your Skills"]}),n.jsx(un,{children:"Skills you've won from auctions. Equip one skill at a time."})]}),n.jsx(Le,{children:C?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading skills..."}):N.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(kt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"You don't have any skills yet."}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Win auctions to acquire powerful skills!"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(P=>{const F=pd(P.skillId);return F?n.jsx(em,{skill:F,showActions:!0,isEquipped:P.isEquipped,onEquip:()=>S.mutate(P.id),onUnequip:()=>k.mutate(P.id)},P.id):null})})})]})}),n.jsx(Jt,{value:"news",className:"space-y-6",children:n.jsxs(Te,{children:[n.jsxs(He,{children:[n.jsxs(Qe,{className:"flex items-center gap-2",children:[n.jsx(Lf,{className:"h-5 w-5"})," Activity Feed"]}),n.jsx(un,{children:"Recent events and player achievements"})]}),n.jsx(Le,{children:n.jsx(Mo,{className:"h-[600px]",children:n.jsx("div",{className:"space-y-3",children:_.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No recent activity"}):_.map(P=>n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/20 rounded-lg",children:[n.jsxs("div",{className:"p-2 bg-primary/20 rounded",children:[P.type==="bid_won"&&n.jsx(yt,{className:"h-4 w-4 text-amber-400"}),P.type==="quest_completed"&&n.jsx(tn,{className:"h-4 w-4 text-green-400"}),P.type==="pet_acquired"&&n.jsx(jr,{className:"h-4 w-4 text-pink-400"}),!["bid_won","quest_completed","pet_acquired"].includes(P.type)&&n.jsx(Lf,{className:"h-4 w-4 text-primary"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",children:P.message}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(P.createdAt).toLocaleString()})]})]},P.id))})})})]})})]})}),n.jsx(gt,{open:u,onOpenChange:f,children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{children:"Place Your Bid"}),n.jsxs(Nt,{children:["Minimum bid: ",L.toLocaleString()," gold",v?.highestBid&&n.jsxs("span",{className:"block mt-1",children:["Current highest: ",v.highestBid.amount.toLocaleString()," gold"]})]})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Bid Amount (Gold)"}),n.jsx(tt,{type:"number",placeholder:L.toString(),value:l,onChange:P=>c(P.target.value),min:L,"data-testid":"input-bid-amount"})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your gold: ",t.gold.toLocaleString()]})]}),n.jsxs(Lt,{children:[n.jsx(T,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),n.jsx(T,{onClick:()=>w.mutate(),disabled:!l||parseInt(l)<L||parseInt(l)>t.gold||w.isPending,"data-testid":"button-confirm-bid",children:w.isPending?"Placing...":"Confirm Bid"})]})]})})]})}var jp="Checkbox",[gR]=Er(jp),[xR,vR]=gR(jp),tj=x.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:i,checked:l,defaultChecked:c,required:u,disabled:f,value:h="on",onCheckedChange:p,form:v,...b}=e,[N,C]=x.useState(null),_=st(t,P=>C(P)),w=x.useRef(!1),S=N?v||!!N.closest("form"):!0,[k=!1,I]=Ca({prop:l,defaultProp:c,onChange:p}),L=x.useRef(k);return x.useEffect(()=>{const P=N?.form;if(P){const F=()=>I(L.current);return P.addEventListener("reset",F),()=>P.removeEventListener("reset",F)}},[N,I]),n.jsxs(xR,{scope:s,state:k,disabled:f,children:[n.jsx(qe.button,{type:"button",role:"checkbox","aria-checked":Hs(k)?"mixed":k,"aria-required":u,"data-state":sj(k),"data-disabled":f?"":void 0,disabled:f,value:h,...b,ref:_,onKeyDown:Ce(e.onKeyDown,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:Ce(e.onClick,P=>{I(F=>Hs(F)?!0:!F),S&&(w.current=P.isPropagationStopped(),w.current||P.stopPropagation())})}),S&&n.jsx(yR,{control:N,bubbles:!w.current,name:i,value:h,checked:k,required:u,disabled:f,form:v,style:{transform:"translateX(-100%)"},defaultChecked:Hs(c)?!1:c})]})});tj.displayName=jp;var nj="CheckboxIndicator",rj=x.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:i,...l}=e,c=vR(nj,s);return n.jsx(ir,{present:i||Hs(c.state)||c.state===!0,children:n.jsx(qe.span,{"data-state":sj(c.state),"data-disabled":c.disabled?"":void 0,...l,ref:t,style:{pointerEvents:"none",...e.style}})})});rj.displayName=nj;var yR=e=>{const{control:t,checked:s,bubbles:i=!0,defaultChecked:l,...c}=e,u=x.useRef(null),f=rb(s),h=t0(t);x.useEffect(()=>{const v=u.current,b=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(b,"checked").set;if(f!==s&&C){const _=new Event("click",{bubbles:i});v.indeterminate=Hs(s),C.call(v,Hs(s)?!1:s),v.dispatchEvent(_)}},[f,s,i]);const p=x.useRef(Hs(s)?!1:s);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l??p.current,...c,tabIndex:-1,ref:u,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Hs(e){return e==="indeterminate"}function sj(e){return Hs(e)?"indeterminate":e?"checked":"unchecked"}var aj=tj,wR=rj;const ij=x.forwardRef(({className:e,...t},s)=>n.jsx(aj,{ref:s,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(wR,{className:we("flex items-center justify-center text-current"),children:n.jsx(cs,{className:"h-4 w-4"})})}));ij.displayName=aj.displayName;function bR(){const[,e]=Un(),{account:t,inventory:s}=Qn(),{toast:i}=Wn(),[l,c]=x.useState(!1),[u,f]=x.useState(""),[h,p]=x.useState(null),[v,b]=x.useState(!1),[N,C]=x.useState([]),{data:_=[]}=lt({queryKey:["/api/accounts"]}),{data:w=[],isLoading:S}=lt({queryKey:["/api/trades",t?.id],enabled:!!t?.id}),k=Mt({mutationFn:async()=>!t||!u?void 0:(await ve("POST","/api/trades",{initiatorId:t.id,recipientId:u})).json(),onSuccess:K=>{me.invalidateQueries({queryKey:["/api/trades"]}),i({title:"Trade created!",description:"Add items to your offer."}),c(!1),f(""),p(K.id),b(!0)},onError:()=>{i({title:"Failed to create trade",variant:"destructive"})}}),I=Mt({mutationFn:async({tradeId:K,itemIds:$})=>{if(t)for(const fe of $)await ve("POST",`/api/trades/${K}/items`,{ownerId:t.id,type:"item",refId:fe})},onSuccess:()=>{me.invalidateQueries({queryKey:["/api/trades"]}),i({title:"Items added to trade!"}),b(!1),C([])},onError:()=>{i({title:"Failed to add items",variant:"destructive"})}}),L=Mt({mutationFn:async K=>{t&&await ve("PATCH",`/api/trades/${K}/accept`,{accountId:t.id})},onSuccess:()=>{me.invalidateQueries({queryKey:["/api/trades"]}),me.invalidateQueries({queryKey:["/api/inventory"]}),me.invalidateQueries({queryKey:["/api/accounts"]}),i({title:"Trade accepted!"})},onError:K=>{i({title:"Failed to accept trade",description:K.message,variant:"destructive"})}}),P=Mt({mutationFn:async K=>{await ve("PATCH",`/api/trades/${K}/cancel`,{})},onSuccess:()=>{me.invalidateQueries({queryKey:["/api/trades"]}),i({title:"Trade cancelled"})},onError:()=>{i({title:"Failed to cancel trade",variant:"destructive"})}}),F=x.useMemo(()=>_.filter(K=>K.id!==t?.id&&K.role==="player"),[_,t]),G=x.useMemo(()=>w.filter(K=>K.status==="pending"),[w]),q=x.useMemo(()=>w.filter(K=>K.status==="completed"),[w]),X=x.useMemo(()=>w.filter(K=>K.status==="cancelled"),[w]),se=K=>Na.find($=>$.id===K),ce=K=>{const $=s.find(fe=>fe.id===K);return $?Na.find(fe=>fe.id===$.itemId):null},ge=K=>K.type==="item"?{type:"item",item:ce(K.refId),refId:K.refId}:K.type==="skill"?{type:"skill",skillId:K.refId}:null,oe=()=>{e("/")};return!t||t.role!=="player"?(e("/"),null):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("h1",{className:"font-serif text-xl font-bold text-foreground","data-testid":"text-trading-title",children:[n.jsx(kr,{className:"inline w-6 h-6 mr-2 text-primary"}),"Player Trading"]})}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),"data-testid":"button-nav-shop",children:[n.jsx(kn,{className:"w-4 h-4 mr-2"})," Shop"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),"data-testid":"button-nav-inventory",children:[n.jsx(bn,{className:"w-4 h-4 mr-2"})," Inventory"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),"data-testid":"button-nav-guild",children:[n.jsx(tn,{className:"w-4 h-4 mr-2"})," Guild"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>e("/pets"),"data-testid":"button-nav-pets",children:[n.jsx(jr,{className:"w-4 h-4 mr-2"})," Pets"]}),n.jsxs(T,{variant:"ghost",size:"sm",onClick:oe,"data-testid":"button-logout",children:[n.jsx(ar,{className:"w-4 h-4 mr-2"})," Logout"]})]})]})})}),n.jsxs("main",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("div",{children:n.jsx("p",{className:"text-muted-foreground",children:"Trade items and skills with other players"})}),n.jsxs(gt,{open:l,onOpenChange:c,children:[n.jsx(Vs,{asChild:!0,children:n.jsxs(T,{"data-testid":"button-new-trade",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"New Trade"]})}),n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{className:"font-serif",children:"Start a Trade"}),n.jsx(Nt,{children:"Select a player to trade with"})]}),n.jsxs("div",{className:"py-4",children:[n.jsx(Me,{children:"Select Player"}),n.jsxs(Or,{value:u,onValueChange:f,children:[n.jsx(yr,{"data-testid":"select-trade-recipient",children:n.jsx(Fr,{placeholder:"Choose a player..."})}),n.jsx(wr,{children:F.map(K=>n.jsx(yn,{value:K.id,children:K.username},K.id))})]})]}),n.jsxs(Lt,{children:[n.jsx(T,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),n.jsx(T,{onClick:()=>k.mutate(),disabled:!u||k.isPending,"data-testid":"button-create-trade",children:"Create Trade"})]})]})]})]}),n.jsxs(Ad,{defaultValue:"pending",className:"space-y-4",children:[n.jsxs(ul,{children:[n.jsxs(Xt,{value:"pending","data-testid":"tab-pending-trades",children:[n.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Pending (",G.length,")"]}),n.jsxs(Xt,{value:"completed","data-testid":"tab-completed-trades",children:[n.jsx(cs,{className:"w-4 h-4 mr-2"}),"Completed (",q.length,")"]}),n.jsxs(Xt,{value:"cancelled","data-testid":"tab-cancelled-trades",children:[n.jsx($r,{className:"w-4 h-4 mr-2"}),"Cancelled (",X.length,")"]})]}),n.jsx(Jt,{value:"pending",children:S?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading trades..."}):G.length===0?n.jsx(Te,{children:n.jsxs(Le,{className:"py-8 text-center text-muted-foreground",children:[n.jsx(kr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No pending trades"}),n.jsx("p",{className:"text-sm",children:"Start a new trade with another player!"})]})}):n.jsx("div",{className:"grid gap-4",children:G.map(K=>{const $=K.initiatorId===t.id,fe=$?K.recipientName:K.initiatorName,B=K.items.filter(Q=>Q.ownerId===t.id),Y=K.items.filter(Q=>Q.ownerId!==t.id),E=$&&K.initiatorAccepted||!$&&K.recipientAccepted,U=$&&K.recipientAccepted||!$&&K.initiatorAccepted;return n.jsxs(Te,{"data-testid":`card-trade-${K.id}`,children:[n.jsxs(He,{className:"pb-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Qe,{className:"text-lg font-serif",children:["Trade with ",fe]}),n.jsxs("div",{className:"flex gap-2",children:[E&&n.jsx(le,{variant:"outline",className:"text-green-500",children:"You Accepted"}),U&&n.jsx(le,{variant:"outline",className:"text-blue-500",children:"They Accepted"})]})]}),n.jsx(un,{children:$?"You initiated this trade":`${K.initiatorName} wants to trade with you`})]}),n.jsxs(Le,{children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Your Offer"}),n.jsx("div",{className:"p-3 rounded-lg border min-h-[80px]",children:B.length===0?n.jsx("p",{className:"text-muted-foreground text-sm",children:"No items added yet"}):n.jsx("div",{className:"space-y-1",children:B.map((Q,A)=>{const H=ge(Q);return H?H.type==="item"&&H.item?n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(bn,{className:"w-4 h-4"}),H.item.name]},A):H.type==="skill"?n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(kt,{className:"w-4 h-4 text-purple-500"}),"Skill"]},A):null:null})})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Their Offer"}),n.jsx("div",{className:"p-3 rounded-lg border min-h-[80px]",children:Y.length===0?n.jsx("p",{className:"text-muted-foreground text-sm",children:"Waiting for their offer..."}):n.jsx("div",{className:"space-y-1",children:Y.map((Q,A)=>{const H=ge(Q);return H?H.type==="item"&&H.item?n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(bn,{className:"w-4 h-4"}),H.item.name]},A):H.type==="skill"?n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(kt,{className:"w-4 h-4 text-purple-500"}),"Skill"]},A):null:null})})})]})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsxs(T,{variant:"outline",size:"sm",onClick:()=>{p(K.id),b(!0)},"data-testid":`button-add-items-${K.id}`,children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"Add Items"]}),!E&&n.jsxs(T,{size:"sm",onClick:()=>L.mutate(K.id),disabled:L.isPending,"data-testid":`button-accept-trade-${K.id}`,children:[n.jsx(cs,{className:"w-4 h-4 mr-2"}),"Accept Trade"]}),n.jsxs(T,{variant:"destructive",size:"sm",onClick:()=>P.mutate(K.id),disabled:P.isPending,"data-testid":`button-cancel-trade-${K.id}`,children:[n.jsx($r,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]},K.id)})})}),n.jsx(Jt,{value:"completed",children:q.length===0?n.jsx(Te,{children:n.jsxs(Le,{className:"py-8 text-center text-muted-foreground",children:[n.jsx(cs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No completed trades yet"})]})}):n.jsx("div",{className:"grid gap-4",children:q.map(K=>n.jsx(Te,{className:"opacity-75",children:n.jsxs(He,{className:"pb-2",children:[n.jsxs(Qe,{className:"text-lg font-serif",children:["Trade with ",K.initiatorId===t.id?K.recipientName:K.initiatorName]}),n.jsx(un,{children:"Completed"})]})},K.id))})}),n.jsx(Jt,{value:"cancelled",children:X.length===0?n.jsx(Te,{children:n.jsxs(Le,{className:"py-8 text-center text-muted-foreground",children:[n.jsx($r,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No cancelled trades"})]})}):n.jsx("div",{className:"grid gap-4",children:X.map(K=>n.jsx(Te,{className:"opacity-50",children:n.jsxs(He,{className:"pb-2",children:[n.jsxs(Qe,{className:"text-lg font-serif",children:["Trade with ",K.initiatorId===t.id?K.recipientName:K.initiatorName]}),n.jsx(un,{children:"Cancelled"})]})},K.id))})})]}),n.jsx(gt,{open:v,onOpenChange:b,children:n.jsxs(mt,{className:"max-w-lg max-h-[90vh] flex flex-col",children:[n.jsxs(pt,{className:"flex-shrink-0",children:[n.jsx(ht,{className:"font-serif",children:"Add to Trade"}),n.jsx(Nt,{children:"Select items to add to your offer"})]}),n.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Your Inventory Items"}),n.jsx(Mo,{className:"h-48 border rounded-md p-2",children:s.length===0?n.jsx("p",{className:"text-muted-foreground text-sm text-center py-4",children:"No items in inventory"}):n.jsx("div",{className:"space-y-2",children:s.map(K=>{const $=se(K.itemId);return $?n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border hover-elevate cursor-pointer",onClick:()=>{C(fe=>fe.includes(K.id)?fe.filter(B=>B!==K.id):[...fe,K.id])},"data-testid":`item-select-${K.id}`,children:[n.jsx(ij,{checked:N.includes(K.id),onCheckedChange:fe=>{C(fe?B=>[...B,K.id]:B=>B.filter(Y=>Y!==K.id))}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:$.name}),n.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:[$.tier.replace("_"," ")," ",$.type]})]})]},K.id):null})})})]})}),n.jsxs(Lt,{className:"flex-shrink-0 border-t pt-4",children:[n.jsx(T,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),n.jsx(T,{onClick:()=>{h&&N.length>0&&I.mutate({tradeId:h,itemIds:N})},disabled:I.isPending||N.length===0,"data-testid":"button-confirm-add-items",children:"Add to Trade"})]})]})})]})]})}const Oo=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:s,className:we("w-full caption-bottom text-sm",e),...t})}));Oo.displayName="Table";const Fo=x.forwardRef(({className:e,...t},s)=>n.jsx("thead",{ref:s,className:we("[&_tr]:border-b",e),...t}));Fo.displayName="TableHeader";const zo=x.forwardRef(({className:e,...t},s)=>n.jsx("tbody",{ref:s,className:we("[&_tr:last-child]:border-0",e),...t}));zo.displayName="TableBody";const jR=x.forwardRef(({className:e,...t},s)=>n.jsx("tfoot",{ref:s,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));jR.displayName="TableFooter";const ls=x.forwardRef(({className:e,...t},s)=>n.jsx("tr",{ref:s,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));ls.displayName="TableRow";const Tt=x.forwardRef(({className:e,...t},s)=>n.jsx("th",{ref:s,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Tt.displayName="TableHead";const It=x.forwardRef(({className:e,...t},s)=>n.jsx("td",{ref:s,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));It.displayName="TableCell";const NR=x.forwardRef(({className:e,...t},s)=>n.jsx("caption",{ref:s,className:we("mt-4 text-sm text-muted-foreground",e),...t}));NR.displayName="TableCaption";const SR={normal:"bg-tier-normal/20 text-tier-normal border-tier-normal/30",super_rare:"bg-tier-super-rare/20 text-tier-super-rare border-tier-super-rare/30",x_tier:"bg-tier-x/20 text-tier-x border-tier-x/30",umr:"bg-tier-umr/20 text-tier-umr border-tier-umr/30",ssumr:"bg-tier-ssumr/20 text-tier-ssumr border-tier-ssumr/30",divine:"bg-purple-500/20 text-purple-400 border-purple-500/30",journeyman:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",expert:"bg-blue-500/20 text-blue-400 border-blue-500/30",master:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30",grandmaster:"bg-violet-500/20 text-violet-400 border-violet-500/30",legend:"bg-amber-500/20 text-amber-400 border-amber-500/30",elite:"bg-rose-500/20 text-rose-400 border-rose-500/30"};function Pv({type:e}){switch(e){case"weapon":return n.jsx(Us,{className:"w-4 h-4 text-stat-str"});case"armor":return n.jsx(tn,{className:"w-4 h-4 text-stat-int"});case"accessory":return n.jsx(qs,{className:"w-4 h-4 text-stat-luck"})}}const Ev={common:"bg-gray-500/20 text-gray-300 border-gray-500",uncommon:"bg-green-500/20 text-green-300 border-green-500",rare:"bg-blue-500/20 text-blue-300 border-blue-500",epic:"bg-purple-500/20 text-purple-300 border-purple-500",legendary:"bg-amber-500/20 text-amber-300 border-amber-500",mythic:"bg-pink-500/20 text-pink-300 border-pink-500"};function kR({account:e,toast:t}){const[s,i]=x.useState(""),[l,c]=x.useState(""),{data:u}=lt({queryKey:["/api/auctions/active"],refetchInterval:5e3}),{data:f=[]}=lt({queryKey:["/api/auctions/queue"],refetchInterval:1e4}),h=x.useMemo(()=>l?md.filter(_=>_.name.toLowerCase().includes(l.toLowerCase())||_.rarity.toLowerCase().includes(l.toLowerCase())).slice(0,20):md.slice(0,20),[l]),p=async()=>{if(!s){t({title:"Select a skill first",variant:"destructive"});return}try{await ve("POST",`/api/admin/auctions/queue?adminId=${e.id}`,{skillId:s}),t({title:"Skill added to queue!"}),me.invalidateQueries({queryKey:["/api/auctions/queue"]}),i("")}catch{t({title:"Failed to add skill",variant:"destructive"})}},v=async()=>{try{await ve("POST",`/api/admin/auctions/start-next?adminId=${e.id}`),t({title:"Auction started!"}),me.invalidateQueries({queryKey:["/api/auctions/active"]}),me.invalidateQueries({queryKey:["/api/auctions/queue"]})}catch(_){t({title:"Failed to start auction",description:_.message,variant:"destructive"})}},b=async()=>{try{await ve("POST",`/api/admin/auctions/finalize?adminId=${e.id}`),t({title:"Auction finalized!"}),me.invalidateQueries({queryKey:["/api/auctions/active"]}),me.invalidateQueries({queryKey:["/api/auctions/queue"]})}catch{t({title:"Failed to finalize auction",variant:"destructive"})}},N=async _=>{try{await ve("DELETE",`/api/admin/auctions/${_}?adminId=${e.id}`),t({title:"Removed from queue"}),me.invalidateQueries({queryKey:["/api/auctions/queue"]})}catch{t({title:"Failed to remove",variant:"destructive"})}},C=u?.auction?pd(u.auction.skillId):null;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold mb-4",children:"Skill Auction Management"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage the skill auction queue. Only one auction can be active at a time. 8-hour bidding cycles."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(Te,{children:[n.jsx(He,{children:n.jsxs(Qe,{className:"flex items-center gap-2",children:[n.jsx(Gs,{className:"w-5 h-5"})," Current Auction"]})}),n.jsx(Le,{children:u?.auction&&C?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-semibold",children:C.name}),n.jsx(le,{className:Ev[C.rarity],children:C.rarity})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:C.description}),n.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[n.jsxs("span",{children:["Highest Bid: ",n.jsxs("span",{className:"text-amber-400 font-bold",children:[u.highestBid?.amount?.toLocaleString()||"0"," gold"]})]}),n.jsxs("span",{children:["Bids: ",u.bids.length]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Ends: ",u.auction.endAt?new Date(u.auction.endAt).toLocaleString():"N/A"]})]}),n.jsxs(T,{variant:"destructive",onClick:b,"data-testid":"button-finalize-auction",children:[n.jsx(mk,{className:"w-4 h-4 mr-2"})," Finalize Now"]})]}):n.jsxs("div",{className:"text-center py-6",children:[n.jsx(fi,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No active auction"}),f.length>0&&n.jsxs(T,{className:"mt-4",onClick:v,"data-testid":"button-start-auction",children:[n.jsx(pk,{className:"w-4 h-4 mr-2"})," Start Next Auction"]})]})})]}),n.jsxs(Te,{children:[n.jsx(He,{children:n.jsxs(Qe,{className:"flex items-center gap-2",children:[n.jsx(nr,{className:"w-5 h-5"})," Add to Queue"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Me,{children:"Search Skills"}),n.jsx(tt,{placeholder:"Search by name or rarity...",value:l,onChange:_=>c(_.target.value),"data-testid":"input-skill-search"})]}),n.jsxs("div",{children:[n.jsx(Me,{children:"Select Skill"}),n.jsxs(Or,{value:s,onValueChange:i,children:[n.jsx(yr,{"data-testid":"select-skill",children:n.jsx(Fr,{placeholder:"Choose a skill"})}),n.jsx(wr,{children:h.map(_=>n.jsx(yn,{value:_.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:we("w-2 h-2 rounded-full",_.rarity==="common"&&"bg-gray-400",_.rarity==="uncommon"&&"bg-green-400",_.rarity==="rare"&&"bg-blue-400",_.rarity==="epic"&&"bg-purple-400",_.rarity==="legendary"&&"bg-amber-400",_.rarity==="mythic"&&"bg-pink-400")}),_.name," (",_.rarity,")"]})},_.id))})]})]}),n.jsxs(T,{onClick:p,disabled:!s,"data-testid":"button-add-to-queue",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"})," Add to Queue"]})]})]})]}),n.jsxs(Te,{children:[n.jsx(He,{children:n.jsxs(Qe,{className:"flex items-center gap-2",children:[n.jsx(kt,{className:"w-5 h-5"})," Queue (",f.length,")"]})}),n.jsx(Le,{children:f.length===0?n.jsx("p",{className:"text-center py-6 text-muted-foreground",children:"No skills in queue. Add some skills above."}):n.jsxs(Oo,{children:[n.jsx(Fo,{children:n.jsxs(ls,{children:[n.jsx(Tt,{children:"Position"}),n.jsx(Tt,{children:"Skill"}),n.jsx(Tt,{children:"Rarity"}),n.jsx(Tt,{children:"Added"}),n.jsx(Tt,{children:"Actions"})]})}),n.jsx(zo,{children:f.map((_,w)=>{const S=pd(_.skillId);return n.jsxs(ls,{children:[n.jsxs(It,{children:["#",w+1]}),n.jsx(It,{children:S?.name||_.skillId}),n.jsx(It,{children:S&&n.jsx(le,{className:Ev[S.rarity],children:S.rarity})}),n.jsx(It,{children:new Date(_.createdAt).toLocaleDateString()}),n.jsx(It,{children:n.jsx(T,{variant:"ghost",size:"icon",onClick:()=>N(_.id),"data-testid":`button-remove-${_.id}`,children:n.jsx(ba,{className:"w-4 h-4 text-destructive"})})})]},_.id)})})]})})]})]})}function CR(){const[,e]=Un(),{account:t,logout:s}=Qn(),{toast:i}=Wn(),[l,c]=x.useState("items"),[u,f]=x.useState("all"),[h,p]=x.useState(""),[v,b]=x.useState(""),[N,C]=x.useState(null),[_,w]=x.useState(""),[S,k]=x.useState(null),[I,L]=x.useState({gold:0,rubies:0,soulShards:0,focusedShards:0,trainingPoints:0,petExp:0,runes:0,pets:[],rank:"Novice",wins:0,losses:0,Str:10,Spd:10,Int:10,Luck:10,Pot:0}),[P,F]=x.useState(null),{data:G=[],isLoading:q}=lt({queryKey:["/api/events",P?.id,"registrations"],queryFn:async()=>{if(!P)return[];const y=await fetch(`/api/events/${P.id}/registrations`);if(!y.ok)throw new Error("Failed to fetch registrations");return y.json()},enabled:!!P}),{data:X=[],isLoading:se}=lt({queryKey:["/api/accounts"]}),{data:ce=[],isLoading:ge}=lt({queryKey:["/api/events"]}),{data:oe=[],isLoading:K}=lt({queryKey:["/api/admin/challenges"]}),{data:$=[],isLoading:fe}=lt({queryKey:["/api/admin/guild-battles"]}),{data:B=[],isLoading:Y}=lt({queryKey:["/api/admin/pets"]}),[E,U]=x.useState(""),[Q,A]=x.useState("all"),[H,_e]=x.useState("all"),[Ee,$e]=x.useState(!1),[Be,ae]=x.useState(null),[de,Fe]=x.useState({accountId:"",name:"",element:"Fire",elements:["Fire"],tier:"egg",exp:0,stats:{Str:1,Spd:1,Luck:1,ElementalPower:1}}),[Se,Ke]=x.useState({name:"",element:"Fire",elements:["Fire"],tier:"egg",exp:0,stats:{Str:1,Spd:1,Luck:1,ElementalPower:1}}),[dt,xt]=x.useState(!1),[Je,sn]=x.useState({name:"",description:"",startDate:"",endDate:"",isMandatory:!1}),{data:Dn=[],isLoading:lr}=lt({queryKey:["/api/admin/quests"]}),{data:O=[],isLoading:Ue}=lt({queryKey:["/api/admin/guilds",t?.id],queryFn:async()=>{if(!t)return[];const y=await fetch(`/api/admin/guilds?adminId=${t.id}`);if(!y.ok)throw new Error("Failed to fetch guilds");return y.json()},enabled:!!t}),[Ie,an]=x.useState(null),[Hn,Aa]=x.useState(""),Di=x.useMemo(()=>O.filter(y=>y.name.toLowerCase().includes(Hn.toLowerCase())||y.masterName.toLowerCase().includes(Hn.toLowerCase())),[O,Hn]),[ml,aa]=x.useState(!1),[Gr,Kr]=x.useState(null),[pn,Ir]=x.useState({title:"",description:"",rewards:{gold:0,rubies:0,soulShards:0,focusedShards:0,trainingPoints:0,runes:0,petExp:0}});x.useEffect(()=>{if(!t||t.role!=="admin"){e("/");return}const y=new EventSource(`/api/admin/events?adminId=${t.id}`);return y.addEventListener("newPlayer",Z=>{const ke=JSON.parse(Z.data);me.setQueryData(["/api/accounts"],it=>it?it.find(on=>on.id===ke.id)?it:[...it,ke]:[ke]),i({title:"New player registered!",description:`${ke.username} has joined the server.`})}),y.addEventListener("playerUpdate",Z=>{const ke=JSON.parse(Z.data);me.setQueryData(["/api/accounts"],it=>it?it.map(on=>on.id===ke.id?ke:on):[ke])}),y.addEventListener("challengeAccepted",Z=>{const ke=JSON.parse(Z.data);i({title:"Challenge Accepted!",description:ke.message}),me.invalidateQueries({queryKey:["/api/admin/challenges"]})}),y.addEventListener("challengeCompleted",Z=>{const ke=JSON.parse(Z.data);i({title:"Challenge Completed!",description:ke.message}),me.invalidateQueries({queryKey:["/api/admin/challenges"]}),me.invalidateQueries({queryKey:["/api/accounts"]})}),y.addEventListener("petCreated",()=>{me.invalidateQueries({queryKey:["/api/admin/pets"]})}),y.addEventListener("petUpdated",()=>{me.invalidateQueries({queryKey:["/api/admin/pets"]})}),y.addEventListener("petDeleted",()=>{me.invalidateQueries({queryKey:["/api/admin/pets"]})}),y.onerror=()=>{y.close()},()=>{y.close()}},[t,i]);const ps=x.useMemo(()=>Na.filter(y=>!(u!=="all"&&y.tier!==u||h&&!y.name.toLowerCase().includes(h.toLowerCase()))),[u,h]),zd=y=>{const ke={...y.stats||{Str:10,Spd:10,Int:10,Luck:10,Pot:0}};return y.equipped&&Object.values(y.equipped).forEach(it=>{if(it){const on=Do(it);on&&Object.entries(on.stats).forEach(([xs,xl])=>{xl&&xs in ke&&(ke[xs]+=xl)})}}),ke},ia=x.useMemo(()=>X.filter(y=>!(v&&!y.username.toLowerCase().includes(v.toLowerCase()))),[X,v]),La=x.useMemo(()=>B.filter(y=>{if(Q!=="all"&&y.tier!==Q||H!=="all"&&!(y.elements||[y.element]).includes(H))return!1;if(E){const Z=E.toLowerCase();if(!y.name.toLowerCase().includes(Z)&&!y.ownerName.toLowerCase().includes(Z))return!1}return!0}),[B,Q,H,E]),$d=async()=>{if(!de.accountId||!de.name.trim()){i({title:"Missing Information",description:"Please select a player and enter a pet name.",variant:"destructive"});return}try{await ve("POST","/api/admin/pets",de),i({title:"Pet Created!",description:`${de.name} has been given to the player.`}),me.invalidateQueries({queryKey:["/api/admin/pets"]}),$e(!1),Fe({accountId:"",name:"",element:"Fire",elements:["Fire"],tier:"egg",exp:0,stats:{Str:1,Spd:1,Luck:1,ElementalPower:1}})}catch{i({title:"Failed to create pet",description:"Server error occurred.",variant:"destructive"})}},Mi=y=>{ae(y),Ke({name:y.name,element:y.element,elements:y.elements||[y.element],tier:y.tier,exp:y.exp,stats:y.stats})},Oi=async()=>{if(Be)try{await ve("PATCH",`/api/admin/pets/${Be.id}`,Se),i({title:"Pet Updated!",description:`${Se.name} has been saved.`}),me.invalidateQueries({queryKey:["/api/admin/pets"]}),ae(null)}catch{i({title:"Failed to update pet",description:"Server error occurred.",variant:"destructive"})}},Fi=async y=>{if(window.confirm(`Are you sure you want to delete ${y.name}? This action cannot be undone.`))try{await ve("DELETE",`/api/admin/pets/${y.id}`),i({title:"Pet Deleted",description:`${y.name} has been removed.`}),me.invalidateQueries({queryKey:["/api/admin/pets"]})}catch{i({title:"Failed to delete pet",description:"Server error occurred.",variant:"destructive"})}},zi=async()=>{if(!pn.title.trim()||!pn.description.trim()){i({title:"Missing fields",description:"Title and description are required.",variant:"destructive"});return}try{await ve("POST","/api/admin/quests",{title:pn.title,description:pn.description,rewards:pn.rewards,createdBy:t.id}),i({title:"Quest Created!",description:`${pn.title} has been created.`}),me.invalidateQueries({queryKey:["/api/admin/quests"]}),aa(!1),Ir({title:"",description:"",rewards:{gold:0,rubies:0,soulShards:0,focusedShards:0,trainingPoints:0,runes:0,petExp:0}})}catch{i({title:"Failed to create quest",description:"Server error occurred.",variant:"destructive"})}},$i=async y=>{if(window.confirm(`Are you sure you want to delete "${y.title}"? This action cannot be undone.`))try{await ve("DELETE",`/api/admin/quests/${y.id}`),i({title:"Quest Deleted",description:`${y.title} has been removed.`}),me.invalidateQueries({queryKey:["/api/admin/quests"]})}catch{i({title:"Failed to delete quest",description:"Server error occurred.",variant:"destructive"})}},hs=async(y,Z)=>{try{await ve("POST",`/api/admin/quests/${y}/assign`,{accountId:Z}),i({title:"Quest Assigned!",description:"The quest has been assigned to the player."}),me.invalidateQueries({queryKey:["/api/admin/quests"]}),Kr(null)}catch(ke){i({title:"Failed to assign quest",description:ke?.message||"Server error occurred.",variant:"destructive"})}},gs=async(y,Z)=>{try{await ve("POST",`/api/admin/quests/${y}/complete/${Z}`),i({title:"Quest Completed!",description:"The player has received their rewards."}),me.invalidateQueries({queryKey:["/api/admin/quests"]}),me.invalidateQueries({queryKey:["/api/accounts"]})}catch{i({title:"Failed to complete quest",description:"Server error occurred.",variant:"destructive"})}},Da={Fire:"text-red-500",Water:"text-blue-500",Earth:"text-amber-700",Air:"text-cyan-300",Lightning:"text-yellow-400",Ice:"text-sky-300",Nature:"text-green-500",Dark:"text-purple-900",Light:"text-yellow-200",Arcana:"text-violet-500",Chrono:"text-indigo-400",Plasma:"text-pink-500",Void:"text-gray-600",Aether:"text-teal-300",Hybrid:"text-orange-500","Elemental Convergence":"text-transparent bg-clip-text bg-gradient-to-r from-red-500 via-blue-500 to-green-500",Time:"text-amber-400",Space:"text-indigo-600"},Bi=(y,Z,ke)=>{Z.includes(y)?Z.length>1&&ke(Z.filter(it=>it!==y)):ke([...Z,y])},pl={egg:"bg-gray-500/20 text-gray-400 border-gray-500/30",baby:"bg-green-500/20 text-green-400 border-green-500/30",teen:"bg-blue-500/20 text-blue-400 border-blue-500/30",adult:"bg-purple-500/20 text-purple-400 border-purple-500/30",legend:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",mythic:"bg-pink-500/20 text-pink-400 border-pink-500/30"},hl=async()=>{if(!(!N||!_.trim()))try{await ve("POST","/api/admin/give-item",{playerUsername:_.trim(),itemId:N.id}),i({title:"Item granted!",description:`${N.name} has been given to ${_.trim()}.`}),me.invalidateQueries({queryKey:["/api/accounts"]}),C(null),w("")}catch{i({title:"Failed to give item",description:"Player not found or server error.",variant:"destructive"})}},gl=y=>{k(y),L({gold:y.gold,rubies:y.rubies??0,soulShards:y.soulShards??0,focusedShards:y.focusedShards??0,trainingPoints:y.trainingPoints??0,petExp:y.petExp??0,runes:y.runes??0,pets:y.pets??[],rank:y.rank,wins:y.wins,losses:y.losses,Str:y.stats?.Str??10,Spd:y.stats?.Spd??10,Int:y.stats?.Int??10,Luck:y.stats?.Luck??10,Pot:y.stats?.Pot??0})},Vi=y=>{const Z={Str:0,Spd:0,Int:0,Luck:0,Pot:0};return y.equipped&&Object.values(y.equipped).forEach(ke=>{if(ke){const it=Na.find(on=>on.id===ke);it&&Object.entries(it.stats).forEach(([on,xs])=>{xs&&on in Z&&(Z[on]+=xs)})}}),Z},[Ma,oa]=x.useState(1),Oa=(y,Z)=>{L(ke=>({...ke,[y]:Math.max(0,ke[y]+Z*Ma)}))},_n=(y,Z)=>{L(ke=>{const on=(ke[y]||0)+Z*Ma;return{...ke,[y]:Math.max(0,on)}})},Bd=async()=>{if(!S)return;Vi(S);const y=["Str","Spd","Int","Luck","Pot"];for(const Z of y)if(I[Z]<0){i({title:"Invalid Stat",description:`${Z} cannot be less than 0`,variant:"destructive"});return}try{await ve("PATCH",`/api/accounts/${S.id}`,{gold:I.gold,rubies:I.rubies,soulShards:I.soulShards,focusedShards:I.focusedShards,trainingPoints:I.trainingPoints,petExp:I.petExp,runes:I.runes,pets:I.pets,rank:I.rank,wins:I.wins,losses:I.losses,stats:{Str:I.Str,Spd:I.Spd,Int:I.Int,Luck:I.Luck,Pot:I.Pot}}),i({title:"Player updated!",description:`${S.username}'s data has been saved.`}),me.invalidateQueries({queryKey:["/api/accounts"]}),k(null)}catch{i({title:"Failed to update player",description:"Server error occurred.",variant:"destructive"})}},la=async y=>{if(window.confirm(`Are you sure you want to delete player "${y.username}"? This action cannot be undone.`))try{await ve("DELETE",`/api/accounts/${y.id}`),i({title:"Player deleted",description:`Account "${y.username}" has been removed.`}),me.invalidateQueries({queryKey:["/api/accounts"]})}catch{i({title:"Failed to delete player",description:"Server error occurred.",variant:"destructive"})}},Fa=()=>{s(),e("/")},za=async()=>{if(!Je.name.trim()||!Je.description.trim()||!Je.startDate){i({title:"Missing fields",description:"Please fill in all required fields.",variant:"destructive"});return}try{await ve("POST","/api/admin/events",{name:Je.name.trim(),description:Je.description.trim(),startDate:new Date(Je.startDate),endDate:Je.endDate?new Date(Je.endDate):null,isMandatory:Je.isMandatory,createdBy:t.id}),i({title:"Event created!",description:Je.isMandatory?`${Je.name} created and all players have been auto-registered.`:`${Je.name} has been created.`}),me.invalidateQueries({queryKey:["/api/events"]}),xt(!1),sn({name:"",description:"",startDate:"",endDate:"",isMandatory:!1})}catch{i({title:"Failed to create event",description:"Server error occurred.",variant:"destructive"})}},qi=async y=>{if(window.confirm(`Are you sure you want to delete "${y.name}"? This will also remove all registrations.`))try{await ve("DELETE",`/api/admin/events/${y.id}`),i({title:"Event deleted",description:`${y.name} has been removed.`}),me.invalidateQueries({queryKey:["/api/events"]})}catch{i({title:"Failed to delete event",description:"Server error occurred.",variant:"destructive"})}};return!t||t.role!=="admin"?(e("/"),null):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ds,{className:"w-6 h-6 text-tier-x"}),n.jsx("h1",{className:"font-serif text-xl font-bold text-foreground","data-testid":"text-admin-title",children:"Admin Panel"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-admin-username",children:["Admin: ",t.username]})}),n.jsx(T,{variant:"outline",size:"icon",onClick:Fa,"data-testid":"button-admin-logout",children:n.jsx(ar,{className:"w-4 h-4"})})]})]})})}),n.jsx("main",{className:"container mx-auto px-4 py-6",children:n.jsxs(Ad,{value:l,onValueChange:c,children:[n.jsxs(ul,{className:"mb-6",children:[n.jsxs(Xt,{value:"items",className:"gap-2",children:[n.jsx(is,{className:"w-4 h-4"}),"Items"]}),n.jsxs(Xt,{value:"players",className:"gap-2",children:[n.jsx(Ws,{className:"w-4 h-4"}),"Players"]}),n.jsxs(Xt,{value:"events",className:"gap-2",children:[n.jsx(en,{className:"w-4 h-4"}),"Events"]}),n.jsxs(Xt,{value:"challenges",className:"gap-2",children:[n.jsx(St,{className:"w-4 h-4"}),"Challenges",oe.length>0&&n.jsx(le,{variant:"destructive",className:"ml-1 h-5 px-1.5 text-xs",children:oe.length})]}),n.jsxs(Xt,{value:"pets",className:"gap-2",children:[n.jsx(Hc,{className:"w-4 h-4"}),"Pets"]}),n.jsxs(Xt,{value:"quests",className:"gap-2",children:[n.jsx(Ht,{className:"w-4 h-4"}),"Quests"]}),n.jsxs(Xt,{value:"guilds",className:"gap-2",children:[n.jsx(Bo,{className:"w-4 h-4"}),"Guilds"]}),n.jsxs(Xt,{value:"guild_battles",className:"gap-2",children:[n.jsx(tn,{className:"w-4 h-4"}),"Guild Battles"]}),n.jsxs(Xt,{value:"leaderboards",className:"gap-2",children:[n.jsx(yt,{className:"w-4 h-4"}),"Leaderboards"]}),n.jsxs(Xt,{value:"auctions",className:"gap-2",children:[n.jsx(fi,{className:"w-4 h-4"}),"Auctions"]})]}),n.jsxs(Jt,{value:"items",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold mb-4",children:"Item Management"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative max-w-md",children:[n.jsx(To,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(tt,{type:"search",placeholder:"Search items...",value:h,onChange:y=>p(y.target.value),className:"pl-9","data-testid":"input-admin-search"})]}),n.jsx(ew,{selectedTier:u,onSelectTier:f})]})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-admin-item-count",children:["Showing ",ps.length," of ",Na.length," items"]})}),n.jsx("div",{className:"border rounded-md",children:n.jsxs(Oo,{children:[n.jsx(Fo,{children:n.jsxs(ls,{children:[n.jsx(Tt,{className:"w-12",children:"Type"}),n.jsx(Tt,{children:"Name"}),n.jsx(Tt,{children:"Tier"}),n.jsx(Tt,{children:"Stats"}),n.jsx(Tt,{children:"Special"}),n.jsx(Tt,{className:"text-right",children:"Price"}),n.jsx(Tt,{className:"w-24",children:"Actions"})]})}),n.jsx(zo,{children:ps.map(y=>n.jsxs(ls,{"data-testid":`row-item-${y.id}`,children:[n.jsx(It,{children:n.jsx(Pv,{type:y.type})}),n.jsx(It,{className:"font-medium font-serif","data-testid":`text-admin-item-name-${y.id}`,children:y.name}),n.jsx(It,{children:n.jsx(le,{variant:"outline",className:we("text-xs",SR[y.tier]),children:ip[y.tier]})}),n.jsx(It,{children:n.jsx("div",{className:"flex flex-wrap gap-1 text-xs font-mono",children:Object.entries(y.stats).map(([Z,ke])=>ke?n.jsxs("span",{className:"text-muted-foreground",children:[Z,":",ke]},Z):null)})}),n.jsx(It,{children:y.special&&n.jsx(le,{variant:"secondary",className:"text-xs",children:y.special})}),n.jsx(It,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(rr,{className:"w-3.5 h-3.5 text-primary"}),n.jsx("span",{className:"font-mono text-sm",children:y.price.toLocaleString()})]})}),n.jsx(It,{children:n.jsxs(T,{size:"sm",variant:"outline",onClick:()=>C(y),"data-testid":`button-give-item-${y.id}`,children:[n.jsx(is,{className:"w-3.5 h-3.5 mr-1"}),"Give"]})})]},y.id))})]})})]}),n.jsxs(Jt,{value:"players",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold mb-4",children:"Player Management"}),n.jsxs("div",{className:"relative max-w-md",children:[n.jsx(To,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(tt,{type:"search",placeholder:"Search players...",value:v,onChange:y=>b(y.target.value),className:"pl-9","data-testid":"input-player-search"})]})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[ia.length," player",ia.length!==1?"s":""," registered"]})}),se?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading players..."}):ia.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No players found"}):n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:ia.map(y=>n.jsxs(Te,{"data-testid":`card-player-${y.id}`,children:[n.jsx(He,{className:"pb-2",children:n.jsxs(Qe,{className:"font-serif text-base flex items-center justify-between gap-2",children:[n.jsx("span",{children:y.username}),n.jsx(le,{variant:"secondary",children:y.rank})]})}),n.jsxs(Le,{className:"space-y-3",children:[(()=>{const Z=zd(y);return n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(rr,{className:"w-4 h-4 text-primary"}),n.jsx("span",{className:"font-mono",children:y.gold.toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(yt,{className:"w-4 h-4 text-tier-x"}),n.jsxs("span",{className:"font-mono text-green-500",children:[y.wins,"W"]}),n.jsx("span",{children:"/"}),n.jsxs("span",{className:"font-mono text-red-500",children:[y.losses,"L"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ht,{className:"w-4 h-4 text-purple-500"}),n.jsxs("span",{className:"font-mono text-sm",children:["F",y.npcFloor??1,":",y.npcLevel??1]})]}),n.jsxs("div",{className:"col-span-2 grid grid-cols-4 gap-1 mt-1",children:[n.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-stat-str/10 border border-stat-str/20",children:[n.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"Str"}),n.jsx("span",{className:"font-mono font-bold text-stat-str",children:Z.Str})]}),n.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-stat-spd/10 border border-stat-spd/20",children:[n.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"Spd"}),n.jsx("span",{className:"font-mono font-bold text-stat-spd",children:Z.Spd})]}),n.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-stat-int/10 border border-stat-int/20",children:[n.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"Int"}),n.jsx("span",{className:"font-mono font-bold text-stat-int",children:Z.Int})]}),n.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-stat-luck/10 border border-stat-luck/20",children:[n.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"Luck"}),n.jsx("span",{className:"font-mono font-bold text-stat-luck",children:Z.Luck})]})]})]})})(),n.jsx("div",{className:"flex flex-wrap gap-1",children:n.jsxs(le,{variant:"outline",className:"text-[10px] py-0 h-4",children:["Base Stats: ",y.stats?.Str,"/",y.stats?.Spd,"/",y.stats?.Int,"/",y.stats?.Luck]})}),y.equipped&&n.jsxs("div",{className:"space-y-1.5 border-t pt-2",children:[n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Equipped"}),n.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:Object.entries(y.equipped).map(([Z,ke])=>{if(!ke)return null;const it=Do(ke);return it?n.jsxs("div",{className:"flex items-center gap-1.5 p-1 rounded bg-secondary/30 border border-border/50",children:[n.jsx(Pv,{type:it.type}),n.jsx("span",{className:"text-[10px] truncate font-medium",children:it.name})]},Z):null})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(T,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>gl(y),"data-testid":`button-edit-player-${y.id}`,children:[n.jsx(Ax,{className:"w-3.5 h-3.5 mr-1"}),"Edit"]}),n.jsx(T,{size:"sm",variant:"outline",className:"px-3 text-destructive hover:bg-destructive/10",onClick:()=>la(y),"data-testid":`button-delete-player-${y.id}`,children:n.jsx(ba,{className:"w-3.5 h-3.5"})})]})]})]},y.id))})]}),n.jsxs(Jt,{value:"events",children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between gap-4",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold",children:"Event Management"}),n.jsxs(T,{onClick:()=>xt(!0),"data-testid":"button-create-event",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Event"]})]}),ge?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading events..."}):ce.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No events created yet"}):n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:ce.map(y=>n.jsxs(Te,{"data-testid":`card-event-${y.id}`,children:[n.jsx(He,{className:"pb-2",children:n.jsxs(Qe,{className:"font-serif text-base flex items-center justify-between gap-2",children:[n.jsx("span",{children:y.name}),y.isMandatory&&n.jsxs(le,{variant:"destructive",className:"text-[10px]",children:[n.jsx(mm,{className:"w-3 h-3 mr-1"}),"Mandatory"]})]})}),n.jsxs(Le,{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:y.description}),n.jsxs("div",{className:"text-xs space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(en,{className:"w-3 h-3"}),n.jsxs("span",{children:["Start: ",new Date(y.startDate).toLocaleDateString()]})]}),y.endDate&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(en,{className:"w-3 h-3"}),n.jsxs("span",{children:["End: ",new Date(y.endDate).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(T,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>F(y),"data-testid":`button-view-registrations-${y.id}`,children:[n.jsx(Ws,{className:"w-3.5 h-3.5 mr-1"}),"Registrations"]}),n.jsx(T,{size:"sm",variant:"outline",className:"px-3 text-destructive hover:bg-destructive/10",onClick:()=>qi(y),"data-testid":`button-delete-event-${y.id}`,children:n.jsx(ba,{className:"w-3.5 h-3.5"})})]})]})]},y.id))})]}),n.jsxs(Jt,{value:"challenges",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold mb-4",children:"Challenge Management"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Select winners for accepted challenges. The winner gains a win and the loser gains a loss."})]}),K?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading challenges..."}):oe.length===0?n.jsx(Te,{className:"text-center py-8",children:n.jsxs(Le,{className:"pt-6",children:[n.jsx(St,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"font-serif text-lg font-bold text-foreground mb-2",children:"No Pending Challenges"}),n.jsx("p",{className:"text-muted-foreground",children:"When players accept challenges, they will appear here for you to select a winner."})]})}):n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:oe.map(y=>n.jsxs(Te,{className:"border-yellow-500/50","data-testid":`card-challenge-${y.id}`,children:[n.jsx(He,{className:"pb-2",children:n.jsxs(Qe,{className:"font-serif text-base flex items-center gap-2",children:[n.jsx(St,{className:"w-4 h-4 text-yellow-500"}),"Match in Progress"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-center flex-1",children:[n.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${y.challengerOnline?"bg-green-500":"bg-muted-foreground/50"}`}),n.jsx("p",{className:"font-medium",children:y.challengerName})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Challenger"}),y.challengerStrength!==void 0&&n.jsxs(le,{variant:"outline",className:"mt-1 text-xs border-yellow-500 text-yellow-500",children:["STR: ",y.challengerStrength.toLocaleString()]}),y.challengerPet&&n.jsx("p",{className:"text-xs text-purple-400 mt-1",children:y.challengerPet.name})]}),n.jsx("span",{className:"text-muted-foreground px-2",children:"vs"}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${y.challengedOnline?"bg-green-500":"bg-muted-foreground/50"}`}),n.jsx("p",{className:"font-medium",children:y.challengedName})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Challenged"}),y.challengedStrength!==void 0&&n.jsxs(le,{variant:"outline",className:"mt-1 text-xs border-yellow-500 text-yellow-500",children:["STR: ",y.challengedStrength.toLocaleString()]}),y.challengedPet&&n.jsx("p",{className:"text-xs text-purple-400 mt-1",children:y.challengedPet.name})]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["Accepted: ",y.acceptedAt?new Date(y.acceptedAt).toLocaleString():"N/A"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(T,{size:"sm",className:"flex-1",onClick:async()=>{try{await ve("PATCH",`/api/admin/challenges/${y.id}/winner`,{winnerId:y.challengerId}),i({title:"Winner Selected",description:`${y.challengerName} wins!`}),me.invalidateQueries({queryKey:["/api/admin/challenges"]}),me.invalidateQueries({queryKey:["/api/accounts"]})}catch{i({title:"Failed to set winner",description:"Server error occurred.",variant:"destructive"})}},"data-testid":`button-winner-challenger-${y.id}`,children:[n.jsx(yt,{className:"w-3.5 h-3.5 mr-1"}),y.challengerName," Wins"]}),n.jsxs(T,{size:"sm",className:"flex-1",onClick:async()=>{try{await ve("PATCH",`/api/admin/challenges/${y.id}/winner`,{winnerId:y.challengedId}),i({title:"Winner Selected",description:`${y.challengedName} wins!`}),me.invalidateQueries({queryKey:["/api/admin/challenges"]}),me.invalidateQueries({queryKey:["/api/accounts"]})}catch{i({title:"Failed to set winner",description:"Server error occurred.",variant:"destructive"})}},"data-testid":`button-winner-challenged-${y.id}`,children:[n.jsx(yt,{className:"w-3.5 h-3.5 mr-1"}),y.challengedName," Wins"]})]})]})]},y.id))})]}),n.jsxs(Jt,{value:"guild_battles",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold mb-4",children:"Guild Battle Management"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Tournament-style guild battles. Winner stays, loser's team advances to next fighter. Most points wins!"})]}),fe?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading guild battles..."}):$.length===0?n.jsx(Te,{className:"text-center py-8",children:n.jsxs(Le,{className:"pt-6",children:[n.jsx(tn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"font-serif text-lg font-bold text-foreground mb-2",children:"No Active Guild Battles"}),n.jsx("p",{className:"text-muted-foreground",children:"When guilds accept battle challenges, they will appear here for you to judge."})]})}):n.jsx("div",{className:"space-y-6",children:$.map(y=>n.jsxs(Te,{className:"border-orange-500/50","data-testid":`card-guild-battle-${y.id}`,children:[n.jsx(He,{className:"pb-2",children:n.jsxs(Qe,{className:"font-serif text-base flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tn,{className:"w-4 h-4 text-orange-500"}),"Guild Battle - Round ",y.currentRound+1]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(le,{variant:"secondary",children:[y.challengerGuildName,": ",y.challengerScore]}),n.jsx("span",{className:"text-muted-foreground",children:"vs"}),n.jsxs(le,{variant:"secondary",children:[y.challengedGuildName,": ",y.challengedScore]})]})]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm font-medium text-center",children:[y.challengerGuildName," Fighters"]}),n.jsx("div",{className:"space-y-1",children:y.allChallengerFighters?.map((Z,ke)=>n.jsxs("div",{className:`p-2 rounded border text-sm ${ke===y.challengerCurrentIndex?"bg-yellow-500/20 border-yellow-500":ke<y.challengerCurrentIndex?"opacity-40 line-through":"border-border"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-medium",children:[ke+1,". ",Z.username]}),n.jsx(le,{variant:"outline",className:"text-xs border-yellow-500 text-yellow-500",children:Z.strength.toLocaleString()})]}),Z.pet&&n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Pet: ",Z.pet.name," (",Z.pet.tier,")"]})]},Z.id))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm font-medium text-center",children:[y.challengedGuildName," Fighters"]}),n.jsx("div",{className:"space-y-1",children:y.allChallengedFighters?.map((Z,ke)=>n.jsxs("div",{className:`p-2 rounded border text-sm ${ke===y.challengedCurrentIndex?"bg-yellow-500/20 border-yellow-500":ke<y.challengedCurrentIndex?"opacity-40 line-through":"border-border"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-medium",children:[ke+1,". ",Z.username]}),n.jsx(le,{variant:"outline",className:"text-xs border-yellow-500 text-yellow-500",children:Z.strength.toLocaleString()})]}),Z.pet&&n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Pet: ",Z.pet.name," (",Z.pet.tier,")"]})]},Z.id))})]})]}),y.currentFighters.challenger&&y.currentFighters.challenged&&n.jsxs("div",{className:"p-4 rounded-lg bg-orange-500/10 border border-orange-500/30",children:[n.jsx("p",{className:"text-sm font-medium mb-3 text-center text-orange-400",children:"Current Fight"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"font-bold text-lg",children:y.currentFighters.challenger.username}),n.jsxs(le,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:["STR: ",y.currentFighters.challenger.strength.toLocaleString()]}),y.currentFighters.challenger.pet&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:y.currentFighters.challenger.pet.name})]}),n.jsx("div",{className:"px-4",children:n.jsx(St,{className:"w-6 h-6 text-orange-500"})}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"font-bold text-lg",children:y.currentFighters.challenged.username}),n.jsxs(le,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:["STR: ",y.currentFighters.challenged.strength.toLocaleString()]}),y.currentFighters.challenged.pet&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:y.currentFighters.challenged.pet.name})]})]}),n.jsxs("div",{className:"flex gap-3 mt-4",children:[n.jsxs(T,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:async()=>{try{await ve("PATCH",`/api/admin/guild-battles/${y.id}/round-winner`,{winnerId:y.currentFighters.challenger.id}),i({title:"Round Winner",description:`${y.currentFighters.challenger.username} wins! ${y.challengedGuildName} advances next fighter.`}),me.invalidateQueries({queryKey:["/api/admin/guild-battles"]})}catch(Z){const ke=await Z.json?.().catch(()=>({}));i({title:"Failed to set winner",description:ke.error||"Server error occurred.",variant:"destructive"})}},"data-testid":`button-guild-winner-challenger-${y.id}`,children:[n.jsx(yt,{className:"w-4 h-4 mr-2"}),y.currentFighters.challenger.username," Wins"]}),n.jsxs(T,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:async()=>{try{await ve("PATCH",`/api/admin/guild-battles/${y.id}/round-winner`,{winnerId:y.currentFighters.challenged.id}),i({title:"Round Winner",description:`${y.currentFighters.challenged.username} wins! ${y.challengerGuildName} advances next fighter.`}),me.invalidateQueries({queryKey:["/api/admin/guild-battles"]})}catch(Z){const ke=await Z.json?.().catch(()=>({}));i({title:"Failed to set winner",description:ke.error||"Server error occurred.",variant:"destructive"})}},"data-testid":`button-guild-winner-challenged-${y.id}`,children:[n.jsx(yt,{className:"w-4 h-4 mr-2"}),y.currentFighters.challenged.username," Wins"]})]})]})]})]},y.id))})]}),n.jsxs(Jt,{value:"pets",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold",children:"Pet Management"}),n.jsxs(T,{onClick:()=>$e(!0),"data-testid":"button-create-pet",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"Add Pet"]})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsxs("div",{className:"relative max-w-xs",children:[n.jsx(To,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(tt,{type:"search",placeholder:"Search pets or owners...",value:E,onChange:y=>U(y.target.value),className:"pl-9","data-testid":"input-pet-search"})]}),n.jsxs(Or,{value:Q,onValueChange:y=>A(y),children:[n.jsx(yr,{className:"w-32","data-testid":"select-pet-tier",children:n.jsx(Fr,{placeholder:"Tier"})}),n.jsxs(wr,{children:[n.jsx(yn,{value:"all",children:"All Tiers"}),Bc.map(y=>n.jsx(yn,{value:y,children:y.charAt(0).toUpperCase()+y.slice(1)},y))]})]}),n.jsxs(Or,{value:H,onValueChange:y=>_e(y),children:[n.jsx(yr,{className:"w-40","data-testid":"select-pet-element",children:n.jsx(Fr,{placeholder:"Element"})}),n.jsxs(wr,{children:[n.jsx(yn,{value:"all",children:"All Elements"}),qf.map(y=>n.jsx(yn,{value:y,children:y},y))]})]})]})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-pet-count",children:["Showing ",La.length," of ",B.length," pets"]})}),Y?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading pets..."}):La.length===0?n.jsx(Te,{className:"text-center py-8",children:n.jsxs(Le,{className:"pt-6",children:[n.jsx(Hc,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"font-serif text-lg font-bold text-foreground mb-2",children:"No Pets Found"}),n.jsx("p",{className:"text-muted-foreground",children:B.length===0?"No pets have been created yet. Add a pet to a player to get started.":"No pets match your search criteria."})]})}):n.jsx("div",{className:"border rounded-md",children:n.jsxs(Oo,{children:[n.jsx(Fo,{children:n.jsxs(ls,{children:[n.jsx(Tt,{children:"Name"}),n.jsx(Tt,{children:"Owner"}),n.jsx(Tt,{children:"Element"}),n.jsx(Tt,{children:"Tier"}),n.jsx(Tt,{children:"EXP"}),n.jsx(Tt,{children:"Stats"}),n.jsx(Tt,{className:"w-28",children:"Actions"})]})}),n.jsx(zo,{children:La.map(y=>n.jsxs(ls,{"data-testid":`row-pet-${y.id}`,children:[n.jsx(It,{className:"font-medium font-serif",children:y.name}),n.jsx(It,{children:y.ownerName}),n.jsx(It,{children:n.jsx("span",{className:we("font-medium",Da[y.element]||"text-foreground"),children:y.element})}),n.jsx(It,{children:n.jsx(le,{variant:"outline",className:we("text-xs",pl[y.tier]),children:y.tier.charAt(0).toUpperCase()+y.tier.slice(1)})}),n.jsx(It,{className:"font-mono text-sm",children:y.exp}),n.jsx(It,{children:n.jsx("div",{className:"flex flex-wrap gap-1 text-xs font-mono",children:y.stats&&Object.entries(y.stats).map(([Z,ke])=>n.jsxs("span",{className:"text-muted-foreground",children:[Z,":",ke]},Z))})}),n.jsx(It,{children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx(T,{size:"icon",variant:"outline",onClick:()=>Mi(y),"data-testid":`button-edit-pet-${y.id}`,children:n.jsx(Ax,{className:"w-3.5 h-3.5"})}),n.jsx(T,{size:"icon",variant:"outline",className:"text-destructive hover:bg-destructive/10",onClick:()=>Fi(y),"data-testid":`button-delete-pet-${y.id}`,children:n.jsx(ba,{className:"w-3.5 h-3.5"})})]})})]},y.id))})]})})]}),n.jsxs(Jt,{value:"quests",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold",children:"Quest Management"}),n.jsxs(T,{onClick:()=>aa(!0),"data-testid":"button-create-quest",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Quest"]})]})}),lr?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):Dn.length===0?n.jsx(Te,{children:n.jsxs(Le,{className:"py-12 text-center",children:[n.jsx(Ht,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"font-serif text-lg font-medium",children:"No Quests"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Create your first quest to assign to players."})]})}):n.jsx("div",{className:"space-y-4",children:Dn.map(y=>n.jsxs(Te,{"data-testid":`card-quest-${y.id}`,children:[n.jsx(He,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(Qe,{className:"font-serif",children:y.title}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:y.description})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(T,{size:"sm",variant:"outline",onClick:()=>Kr(y),"data-testid":`button-assign-quest-${y.id}`,children:[n.jsx(Ws,{className:"w-3.5 h-3.5 mr-1"}),"Assign"]}),n.jsx(T,{size:"icon",variant:"outline",className:"text-destructive hover:bg-destructive/10",onClick:()=>$i(y),"data-testid":`button-delete-quest-${y.id}`,children:n.jsx(ba,{className:"w-3.5 h-3.5"})})]})]})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Rewards:"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[y.rewards.gold?n.jsxs(le,{variant:"outline",children:[n.jsx(rr,{className:"w-3 h-3 mr-1 text-yellow-500"}),y.rewards.gold," Gold"]}):null,y.rewards.rubies?n.jsxs(le,{variant:"outline",className:"text-red-500",children:[y.rewards.rubies," Rubies"]}):null,y.rewards.soulShards?n.jsxs(le,{variant:"outline",className:"text-purple-500",children:[y.rewards.soulShards," Soul Shards"]}):null,y.rewards.focusedShards?n.jsxs(le,{variant:"outline",className:"text-blue-500",children:[y.rewards.focusedShards," Focused Shards"]}):null,y.rewards.trainingPoints?n.jsxs(le,{variant:"outline",className:"text-green-500",children:[y.rewards.trainingPoints," Training Points"]}):null,y.rewards.runes?n.jsxs(le,{variant:"outline",className:"text-orange-500",children:[y.rewards.runes," Runes"]}):null,y.rewards.petExp?n.jsxs(le,{variant:"outline",className:"text-pink-500",children:[y.rewards.petExp," Pet Exp"]}):null]})]}),y.assignments.length>0&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Assigned Players:"}),n.jsx("div",{className:"mt-2 space-y-2",children:y.assignments.map(Z=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-md","data-testid":`assignment-${Z.id}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:Z.playerName}),n.jsx(le,{variant:"outline",className:we("text-xs",Z.status==="pending"&&"text-yellow-500",Z.status==="accepted"&&"text-blue-500",Z.status==="completed"&&"text-green-500",Z.status==="rewarded"&&"text-purple-500"),children:Z.status})]}),Z.status==="accepted"&&n.jsxs(T,{size:"sm",onClick:()=>gs(y.id,Z.id),"data-testid":`button-complete-${Z.id}`,children:[n.jsx(cs,{className:"w-3.5 h-3.5 mr-1"}),"Mark Complete"]})]},Z.id))})]})]})})]},y.id))})]}),n.jsxs(Jt,{value:"guilds",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold mb-4",children:"Guild Management"}),n.jsxs("div",{className:"relative max-w-md",children:[n.jsx(To,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(tt,{type:"search",placeholder:"Search guilds or leaders...",value:Hn,onChange:y=>Aa(y.target.value),className:"pl-9","data-testid":"input-admin-guild-search"})]})]}),Ue?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading guilds..."}):Di.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No guilds found"}):n.jsx("div",{className:"space-y-4",children:Di.map(y=>n.jsxs(Te,{"data-testid":`card-guild-${y.id}`,children:[n.jsx(He,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Bo,{className:"w-5 h-5 text-emerald-500"}),n.jsx(Qe,{className:"font-serif text-lg",children:y.name}),n.jsxs(le,{variant:"outline",children:[y.memberCount,"/4 members"]})]}),n.jsxs(T,{variant:"destructive",size:"sm",onClick:()=>an(y),"data-testid":`button-disband-guild-${y.id}`,children:[n.jsx(ba,{className:"w-4 h-4 mr-2"}),"Disband"]})]})}),n.jsxs(Le,{children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Leader"}),n.jsxs("p",{className:"font-medium flex items-center gap-1",children:[n.jsx(ds,{className:"w-3.5 h-3.5 text-yellow-500"}),y.masterName]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Dungeon Progress"}),n.jsxs("p",{className:"font-medium",children:["Floor ",y.dungeonFloor," - Level ",y.dungeonLevel]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Bank Gold"}),n.jsxs("p",{className:"font-medium flex items-center gap-1",children:[n.jsx(rr,{className:"w-3.5 h-3.5 text-yellow-500"}),(y.bank?.gold||0).toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Created"}),n.jsx("p",{className:"font-medium text-sm",children:new Date(y.createdAt).toLocaleDateString()})]})]}),n.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-3 mb-4 p-3 bg-muted/30 rounded-md",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Rubies"}),n.jsx("p",{className:"font-medium text-red-400",children:(y.bank?.rubies||0).toLocaleString()})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Soul Shards"}),n.jsx("p",{className:"font-medium text-purple-400",children:(y.bank?.soulShards||0).toLocaleString()})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Focused Shards"}),n.jsx("p",{className:"font-medium text-blue-400",children:(y.bank?.focusedShards||0).toLocaleString()})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Runes"}),n.jsx("p",{className:"font-medium text-cyan-400",children:(y.bank?.runes||0).toLocaleString()})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Training Pts"}),n.jsx("p",{className:"font-medium text-green-400",children:(y.bank?.trainingPoints||0).toLocaleString()})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Members"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:y.members.map(Z=>n.jsxs(le,{variant:Z.isMaster?"default":"secondary",className:"flex items-center gap-1",children:[Z.isMaster&&n.jsx(ds,{className:"w-3 h-3"}),Z.username]},Z.accountId))})]})]})]},y.id))})]}),n.jsxs(Jt,{value:"leaderboards",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold mb-4",children:"Leaderboard Management"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Force refresh leaderboard caches. Leaderboards auto-update every 30 minutes."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{id:"wins",label:"Wins",color:"text-yellow-500"},{id:"losses",label:"Losses",color:"text-red-500"},{id:"npc_progress",label:"NPC Tower",color:"text-purple-500"},{id:"rank",label:"Rank",color:"text-blue-500"},{id:"guild_dungeon",label:"Guild Dungeon",color:"text-emerald-500"}].map(y=>n.jsx(Te,{children:n.jsx(Le,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yt,{className:`w-5 h-5 ${y.color}`}),n.jsx("span",{className:"font-medium",children:y.label})]}),n.jsx(T,{size:"sm",onClick:async()=>{try{await ve("POST",`/api/admin/leaderboards/${y.id}/refresh`),i({title:"Leaderboard refreshed",description:`${y.label} leaderboard has been refreshed.`})}catch{i({title:"Refresh failed",description:"Failed to refresh leaderboard.",variant:"destructive"})}},"data-testid":`button-refresh-${y.id}`,children:"Refresh"})]})})},y.id))}),n.jsx("div",{className:"mt-6",children:n.jsxs(T,{onClick:async()=>{const y=["wins","losses","npc_progress","rank","guild_dungeon"];try{for(const Z of y)await ve("POST",`/api/admin/leaderboards/${Z}/refresh`);i({title:"All leaderboards refreshed",description:"All leaderboard caches have been refreshed."})}catch{i({title:"Refresh failed",description:"Failed to refresh all leaderboards.",variant:"destructive"})}},"data-testid":"button-refresh-all-leaderboards",children:[n.jsx(yt,{className:"w-4 h-4 mr-2"}),"Refresh All Leaderboards"]})})]}),n.jsx(Jt,{value:"auctions",children:n.jsx(kR,{account:t,toast:i})})]})}),n.jsx(gt,{open:!!Ie,onOpenChange:y=>!y&&an(null),children:n.jsxs(mt,{className:"max-w-md",children:[n.jsxs(pt,{children:[n.jsxs(ht,{className:"font-serif flex items-center gap-2",children:[n.jsx(mm,{className:"w-5 h-5 text-destructive"}),"Disband Guild"]}),n.jsxs(Nt,{children:['Are you sure you want to disband the guild "',Ie?.name,'"? This action cannot be undone. All ',Ie?.memberCount," members will be removed and the guild bank contents will be lost."]})]}),n.jsxs(Lt,{className:"gap-2",children:[n.jsx(T,{variant:"outline",onClick:()=>an(null),"data-testid":"button-cancel-disband",children:"Cancel"}),n.jsxs(T,{variant:"destructive",onClick:async()=>{if(!(!Ie||!t))try{await ve("DELETE",`/api/admin/guilds/${Ie.id}?adminId=${t.id}`),i({title:"Guild disbanded",description:`${Ie.name} has been disbanded.`}),me.invalidateQueries({queryKey:["/api/admin/guilds"]}),an(null)}catch{i({title:"Failed to disband guild",description:"An error occurred while disbanding the guild.",variant:"destructive"})}},"data-testid":"button-confirm-disband",children:[n.jsx(ba,{className:"w-4 h-4 mr-2"}),"Disband Guild"]})]})]})}),n.jsx(gt,{open:ml,onOpenChange:aa,children:n.jsxs(mt,{className:"max-w-md",children:[n.jsxs(pt,{children:[n.jsx(ht,{className:"font-serif",children:"Create New Quest"}),n.jsx(Nt,{children:"Create a quest with rewards that players can complete."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"quest-title",children:"Title *"}),n.jsx(tt,{id:"quest-title",placeholder:"Enter quest title...",value:pn.title,onChange:y=>Ir({...pn,title:y.target.value}),"data-testid":"input-quest-title"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"quest-description",children:"Description *"}),n.jsx(tt,{id:"quest-description",placeholder:"Enter quest description...",value:pn.description,onChange:y=>Ir({...pn,description:y.target.value}),"data-testid":"input-quest-description"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Rewards"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:["gold","rubies","soulShards","focusedShards","trainingPoints","runes","petExp"].map(y=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Me,{className:"text-xs w-24 capitalize",children:y.replace(/([A-Z])/g," $1")}),n.jsx(tt,{type:"number",className:"h-8 text-sm",value:pn.rewards[y],onChange:Z=>Ir({...pn,rewards:{...pn.rewards,[y]:parseInt(Z.target.value)||0}}),"data-testid":`input-quest-reward-${y}`})]},y))})]})]}),n.jsxs(Lt,{children:[n.jsx(T,{variant:"outline",onClick:()=>aa(!1),children:"Cancel"}),n.jsx(T,{onClick:zi,"data-testid":"button-submit-quest",children:"Create Quest"})]})]})}),n.jsx(gt,{open:!!Gr,onOpenChange:y=>!y&&Kr(null),children:n.jsxs(mt,{className:"max-w-md",children:[n.jsxs(pt,{children:[n.jsx(ht,{className:"font-serif",children:"Assign Quest"}),n.jsxs(Nt,{children:['Assign "',Gr?.title,'" to a player.']})]}),n.jsxs("div",{className:"py-4",children:[n.jsx(Me,{children:"Select Player"}),n.jsx("div",{className:"mt-2 max-h-64 overflow-y-auto space-y-2",children:X.filter(y=>y.role==="player").map(y=>{const Z=Gr?.assignments.some(ke=>ke.accountId===y.id);return n.jsxs(T,{variant:Z?"secondary":"outline",className:"w-full justify-start",disabled:Z,onClick:()=>Gr&&hs(Gr.id,y.id),"data-testid":`button-assign-to-${y.id}`,children:[y.username,Z&&n.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Already assigned)"})]},y.id)})})]}),n.jsx(Lt,{children:n.jsx(T,{variant:"outline",onClick:()=>Kr(null),children:"Close"})})]})}),n.jsx(gt,{open:Ee,onOpenChange:$e,children:n.jsxs(mt,{className:"max-w-md",children:[n.jsxs(pt,{children:[n.jsx(ht,{className:"font-serif",children:"Add New Pet"}),n.jsx(Nt,{children:"Create a new pet and assign it to a player."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Player *"}),n.jsxs(Or,{value:de.accountId,onValueChange:y=>Fe({...de,accountId:y}),children:[n.jsx(yr,{"data-testid":"select-pet-owner",children:n.jsx(Fr,{placeholder:"Select a player..."})}),n.jsx(wr,{children:X.filter(y=>y.role==="player").map(y=>n.jsx(yn,{value:y.id,children:y.username},y.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"pet-name",children:"Pet Name *"}),n.jsx(tt,{id:"pet-name",placeholder:"Enter pet name...",value:de.name,onChange:y=>Fe({...de,name:y.target.value}),"data-testid":"input-pet-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Tier"}),n.jsxs(Or,{value:de.tier,onValueChange:y=>Fe({...de,tier:y}),children:[n.jsx(yr,{"data-testid":"select-new-pet-tier",children:n.jsx(Fr,{})}),n.jsx(wr,{children:Bc.map(y=>n.jsx(yn,{value:y,children:y.charAt(0).toUpperCase()+y.slice(1)},y))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Elements (select one or more)"}),n.jsx("div",{className:"grid grid-cols-3 gap-1 max-h-48 overflow-y-auto border rounded-md p-2",children:qf.map(y=>n.jsx(T,{type:"button",size:"sm",variant:de.elements.includes(y)?"default":"outline",onClick:()=>Bi(y,de.elements,Z=>Fe({...de,elements:Z,element:Z[0]})),className:`text-xs h-7 ${de.elements.includes(y)?"":Da[y]}`,"data-testid":`button-toggle-element-${y}`,children:y},y))}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",de.elements.join(", ")]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Starting Stats"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Str","Spd","Luck","ElementalPower"].map(y=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Me,{className:"text-xs w-24",children:y}),n.jsx(tt,{type:"number",min:1,className:"h-8",value:de.stats[y],onChange:Z=>Fe({...de,stats:{...de.stats,[y]:parseInt(Z.target.value)||1}}),"data-testid":`input-new-pet-${y}`})]},y))})]})]}),n.jsxs(Lt,{className:"gap-2",children:[n.jsx(T,{variant:"outline",onClick:()=>$e(!1),"data-testid":"button-cancel-create-pet",children:"Cancel"}),n.jsxs(T,{onClick:$d,"data-testid":"button-confirm-create-pet",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Pet"]})]})]})}),n.jsx(gt,{open:!!Be,onOpenChange:y=>!y&&ae(null),children:n.jsxs(mt,{className:"max-w-md max-h-[90vh] flex flex-col",children:[n.jsxs(pt,{className:"flex-shrink-0",children:[n.jsx(ht,{className:"font-serif",children:"Edit Pet"}),n.jsxs(Nt,{children:["Modify pet attributes for ",Be?.name,"."]})]}),n.jsxs("div",{className:"space-y-4 py-4 overflow-y-auto flex-1",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"edit-pet-name",children:"Pet Name"}),n.jsx(tt,{id:"edit-pet-name",value:Se.name,onChange:y=>Ke({...Se,name:y.target.value}),"data-testid":"input-edit-pet-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Tier"}),n.jsxs(Or,{value:Se.tier,onValueChange:y=>Ke({...Se,tier:y}),children:[n.jsx(yr,{"data-testid":"select-edit-pet-tier",children:n.jsx(Fr,{})}),n.jsx(wr,{children:Bc.map(y=>n.jsx(yn,{value:y,children:y.charAt(0).toUpperCase()+y.slice(1)},y))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Elements (select one or more)"}),n.jsx("div",{className:"grid grid-cols-3 gap-1 max-h-48 overflow-y-auto border rounded-md p-2",children:qf.map(y=>n.jsx(T,{type:"button",size:"sm",variant:Se.elements.includes(y)?"default":"outline",onClick:()=>Bi(y,Se.elements,Z=>Ke({...Se,elements:Z,element:Z[0]})),className:`text-xs h-7 ${Se.elements.includes(y)?"":Da[y]}`,"data-testid":`button-edit-toggle-element-${y}`,children:y},y))}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",Se.elements.join(", ")]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"edit-pet-exp",children:"EXP"}),n.jsx(tt,{id:"edit-pet-exp",type:"number",min:0,value:Se.exp,onChange:y=>Ke({...Se,exp:parseInt(y.target.value)||0}),"data-testid":"input-edit-pet-exp"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Stats"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Str","Spd","Luck","ElementalPower"].map(y=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Me,{className:"text-xs w-24",children:y}),n.jsx(tt,{type:"number",min:1,className:"h-8",value:Se.stats[y],onChange:Z=>Ke({...Se,stats:{...Se.stats,[y]:parseInt(Z.target.value)||1}}),"data-testid":`input-edit-pet-${y}`})]},y))})]})]}),n.jsxs(Lt,{className:"gap-2 flex-shrink-0 border-t pt-4",children:[n.jsx(T,{variant:"outline",onClick:()=>ae(null),"data-testid":"button-cancel-edit-pet",children:"Cancel"}),n.jsx(T,{onClick:Oi,"data-testid":"button-save-pet",children:"Save Changes"})]})]})}),n.jsx(gt,{open:dt,onOpenChange:xt,children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{className:"font-serif",children:"Create New Event"}),n.jsx(Nt,{children:"Create an event for players to register for."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"event-name",children:"Event Name *"}),n.jsx(tt,{id:"event-name",placeholder:"Enter event name...",value:Je.name,onChange:y=>sn({...Je,name:y.target.value}),"data-testid":"input-event-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"event-description",children:"Description *"}),n.jsx(tt,{id:"event-description",placeholder:"Describe the event...",value:Je.description,onChange:y=>sn({...Je,description:y.target.value}),"data-testid":"input-event-description"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"event-start",children:"Start Date *"}),n.jsx(tt,{id:"event-start",type:"datetime-local",value:Je.startDate,onChange:y=>sn({...Je,startDate:y.target.value}),"data-testid":"input-event-start"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"event-end",children:"End Date"}),n.jsx(tt,{id:"event-end",type:"datetime-local",value:Je.endDate,onChange:y=>sn({...Je,endDate:y.target.value}),"data-testid":"input-event-end"})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-md bg-destructive/10 border border-destructive/20",children:[n.jsx("input",{id:"event-mandatory",type:"checkbox",checked:Je.isMandatory,onChange:y=>sn({...Je,isMandatory:y.target.checked}),className:"w-4 h-4","data-testid":"checkbox-event-mandatory"}),n.jsxs("div",{children:[n.jsx(Me,{htmlFor:"event-mandatory",className:"text-sm font-medium cursor-pointer",children:"Mandatory Event"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"All players will be auto-registered and notified"})]})]})]}),n.jsxs(Lt,{className:"gap-2",children:[n.jsx(T,{variant:"outline",onClick:()=>xt(!1),"data-testid":"button-cancel-event",children:"Cancel"}),n.jsxs(T,{onClick:za,"data-testid":"button-confirm-event",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Event"]})]})]})}),n.jsx(gt,{open:!!N,onOpenChange:()=>C(null),children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{className:"font-serif",children:"Give Item to Player"}),n.jsxs(Nt,{children:["Grant ",N?.name," to a player."]})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"player-name",children:"Player Username"}),n.jsx(tt,{id:"player-name",placeholder:"Enter player username...",value:_,onChange:y=>w(y.target.value),"data-testid":"input-player-name"})]})}),n.jsxs(Lt,{className:"gap-2",children:[n.jsx(T,{variant:"outline",onClick:()=>C(null),"data-testid":"button-cancel-give",children:"Cancel"}),n.jsxs(T,{onClick:hl,disabled:!_.trim(),"data-testid":"button-confirm-give",children:[n.jsx(is,{className:"w-4 h-4 mr-2"}),"Give Item"]})]})]})}),n.jsx(gt,{open:!!S,onOpenChange:()=>k(null),children:n.jsxs(mt,{className:"max-w-md",children:[n.jsxs(pt,{children:[n.jsxs(ht,{className:"font-serif",children:["Edit Player: ",S?.username]}),n.jsx(Nt,{children:"Modify player stats, gold, rank, and record."})]}),n.jsxs("div",{className:"space-y-4 py-4 max-h-[60vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b flex-wrap",children:[n.jsx(Me,{className:"text-xs text-muted-foreground",children:"Scale:"}),n.jsx("div",{className:"flex gap-1 flex-wrap",children:[1,10,100,1e3,1e4,1e5,1e6,1e9].map(y=>n.jsxs(T,{size:"sm",variant:Ma===y?"default":"outline",className:"h-7 px-2 text-xs",onClick:()=>oa(y),"data-testid":`button-scale-${y}`,children:["+",y>=1e9?"1B":y>=1e6?"1M":y>=1e3?`${y/1e3}K`:y]},y))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Gold"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(T,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>_n("gold",-1),"data-testid":"button-deduct-gold",children:"-"}),n.jsx(tt,{type:"text",value:I.gold.toLocaleString(),onChange:y=>{const Z=y.target.value.replace(/[^0-9]/g,"");L({...I,gold:parseInt(Z)||0})},className:"text-center text-sm","data-testid":"input-edit-gold"}),n.jsx(T,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>_n("gold",1),"data-testid":"button-add-gold",children:"+"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Rank"}),n.jsxs(Or,{value:I.rank,onValueChange:y=>L({...I,rank:y}),children:[n.jsx(yr,{"data-testid":"select-edit-rank",children:n.jsx(Fr,{})}),n.jsx(wr,{children:Cm.map(y=>n.jsx(yn,{value:y,children:y},y))})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Wins"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(T,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>_n("wins",-1),"data-testid":"button-deduct-wins",children:"-"}),n.jsx(tt,{type:"number",value:I.wins,onChange:y=>L({...I,wins:parseInt(y.target.value)||0}),className:"text-center","data-testid":"input-edit-wins"}),n.jsx(T,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>_n("wins",1),"data-testid":"button-add-wins",children:"+"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Losses"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(T,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>_n("losses",-1),"data-testid":"button-deduct-losses",children:"-"}),n.jsx(tt,{type:"number",value:I.losses,onChange:y=>L({...I,losses:parseInt(y.target.value)||0}),className:"text-center","data-testid":"input-edit-losses"}),n.jsx(T,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>_n("losses",1),"data-testid":"button-add-losses",children:"+"})]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx(Me,{className:"text-sm font-semibold mb-3 block",children:"Player Base Stats"}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:["Str","Spd","Int","Luck","Pot"].map(y=>{if(!S)return null;const Z=0;return n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx(Me,{className:"text-xs text-muted-foreground",children:y})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(T,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>Oa(y,-1),"data-testid":`button-deduct-${y}`,children:"-"}),n.jsx(tt,{type:"number",className:"h-8 text-center font-mono",value:I[y],onChange:ke=>{const it=parseInt(ke.target.value)||0;L({...I,[y]:Math.max(Z,it)})},"data-testid":`input-edit-${y}`}),n.jsx(T,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>Oa(y,1),"data-testid":`button-add-${y}`,children:"+"})]})]},y)})})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx(Me,{className:"text-sm font-semibold mb-3 block",children:"Resources"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[[{key:"rubies",label:"Rubies"},{key:"soulShards",label:"Soul Shards"},{key:"focusedShards",label:"Focused Shards"},{key:"trainingPoints",label:"Training Points"},{key:"petExp",label:"Pet EXP"},{key:"runes",label:"Runes (Pet Elemental)"}].map(({key:y,label:Z})=>n.jsxs("div",{className:"space-y-1",children:[n.jsx(Me,{className:"text-xs text-muted-foreground",children:Z}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(T,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>_n(y,-1),"data-testid":`button-deduct-${y}`,children:"-"}),n.jsx(tt,{type:"text",className:"h-7 text-center text-xs",value:(I[y]||0).toLocaleString(),onChange:ke=>{const it=ke.target.value.replace(/[^0-9]/g,"");L({...I,[y]:parseInt(it)||0})},"data-testid":`input-edit-${y}`}),n.jsx(T,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>_n(y,1),"data-testid":`button-add-${y}`,children:"+"})]})]},y)),n.jsxs("div",{className:"space-y-1 col-span-2",children:[n.jsx(Me,{className:"text-xs text-muted-foreground",children:"Pets (comma-separated)"}),n.jsx(tt,{value:I.pets.join(", "),onChange:y=>L({...I,pets:y.target.value.split(",").map(Z=>Z.trim()).filter(Z=>Z)}),placeholder:"Dragon, Wolf, Phoenix","data-testid":"input-edit-pets"})]})]})]})]}),n.jsxs(Lt,{className:"gap-2",children:[n.jsx(T,{variant:"destructive",onClick:async()=>{if(S)try{await ve("POST",`/api/admin/accounts/${S.id}/cap-resources`),i({title:"Resources Fixed",description:"All resource values have been capped to safe limits."}),me.invalidateQueries({queryKey:["/api/accounts"]}),k(null)}catch{i({title:"Error",description:"Failed to fix resources",variant:"destructive"})}},"data-testid":"button-fix-resources",children:"Fix Oversized Resources"}),n.jsx(T,{variant:"outline",onClick:()=>k(null),"data-testid":"button-cancel-edit",children:"Cancel"}),n.jsx(T,{onClick:Bd,"data-testid":"button-save-player",children:"Save Changes"})]})]})}),n.jsx(gt,{open:!!P,onOpenChange:y=>!y&&F(null),children:n.jsxs(mt,{className:"max-w-lg","data-testid":"dialog-view-registrations",children:[n.jsxs(pt,{children:[n.jsxs(ht,{className:"font-serif",children:["Registrations: ",P?.name]}),n.jsx(Nt,{children:P?.isMandatory?"This is a mandatory event - all players are auto-registered.":"Players who have registered for this event."})]}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:q?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading registrations..."}):G.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No players registered yet"}):n.jsxs(Oo,{children:[n.jsx(Fo,{children:n.jsxs(ls,{children:[n.jsx(Tt,{children:"Player"}),n.jsx(Tt,{children:"Registered"}),n.jsx(Tt,{children:"Type"})]})}),n.jsx(zo,{children:G.map(y=>n.jsxs(ls,{"data-testid":`row-registration-${y.id}`,children:[n.jsx(It,{className:"font-medium",children:y.username}),n.jsx(It,{className:"text-sm text-muted-foreground",children:new Date(y.registeredAt).toLocaleDateString()}),n.jsx(It,{children:n.jsx(le,{variant:y.isAutoRegistered?"secondary":"default",children:y.isAutoRegistered?"Auto":"Manual"})})]},y.id))})]})}),n.jsx(Lt,{children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Total: ",G.length," player",G.length!==1?"s":""]}),n.jsx(T,{variant:"outline",onClick:()=>F(null),"data-testid":"button-close-registrations",children:"Close"})]})})]})})]})}function _R(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(Te,{className:"w-full max-w-md mx-4",children:n.jsxs(Le,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(lk,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function PR(){return n.jsxs(_N,{children:[n.jsx(Ln,{path:"/",component:A2}),n.jsx(Ln,{path:"/shop",component:JT}),n.jsx(Ln,{path:"/inventory",component:t5}),n.jsx(Ln,{path:"/events",component:n5}),n.jsx(Ln,{path:"/challenges",component:r5}),n.jsx(Ln,{path:"/pets",component:u5}),n.jsx(Ln,{path:"/npc-battle",component:f5}),n.jsx(Ln,{path:"/leaderboard",component:jI}),n.jsx(Ln,{path:"/quests",component:NI}),n.jsx(Ln,{path:"/guild",component:JI}),n.jsx(Ln,{path:"/skills",component:hR}),n.jsx(Ln,{path:"/trading",component:bR}),n.jsx(Ln,{path:"/admin",component:CR}),n.jsx(Ln,{component:_R})]})}function ER(){return n.jsx(HN,{client:me,children:n.jsx(_2,{children:n.jsxs(E2,{children:[n.jsx(tC,{}),n.jsx(PR,{})]})})})}sN.createRoot(document.getElementById("root")).render(n.jsx(ER,{}));
